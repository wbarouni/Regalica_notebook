"use strict";(self.webpackChunkregalica_frontend=self.webpackChunkregalica_frontend||[]).push([[792],{589:(He,he,P)=>{var l=P(438);let Z=null;function $(){return Z}class H{}const L=new l.nKC("");let Oe=(()=>{class o{historyGo(r){throw new Error("")}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:()=>(0,l.WQX)(B),providedIn:"platform"})}}return o})(),B=(()=>{class o extends Oe{constructor(){super(),this._doc=(0,l.WQX)(L),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(r){const a=$().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",r,!1),()=>a.removeEventListener("popstate",r)}onHashChange(r){const a=$().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",r,!1),()=>a.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,a,u){this._history.pushState(r,a,u)}replaceState(r,a,u){this._history.replaceState(r,a,u)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:()=>new o,providedIn:"platform"})}}return o})();function N(o,s){if(0==o.length)return s;if(0==s.length)return o;let r=0;return o.endsWith("/")&&r++,s.startsWith("/")&&r++,2==r?o+s.substring(1):1==r?o+s:o+"/"+s}function G(o){const s=o.match(/#|\?|$/),r=s&&s.index||o.length;return o.slice(0,r-("/"===o[r-1]?1:0))+o.slice(r)}function Ve(o){return o&&"?"!==o[0]?"?"+o:o}let ae=(()=>{class o{historyGo(r){throw new Error("")}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:()=>(0,l.WQX)(cn),providedIn:"root"})}}return o})();const xe=new l.nKC("");let cn=(()=>{class o extends ae{constructor(r,a){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=a??this._platformLocation.getBaseHrefFromDOM()??(0,l.WQX)(L).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return N(this._baseHref,r)}path(r=!1){const a=this._platformLocation.pathname+Ve(this._platformLocation.search),u=this._platformLocation.hash;return u&&r?`${a}${u}`:a}pushState(r,a,u,h){const m=this.prepareExternalUrl(u+Ve(h));this._platformLocation.pushState(r,a,m)}replaceState(r,a,u,h){const m=this.prepareExternalUrl(u+Ve(h));this._platformLocation.replaceState(r,a,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(Oe),l.KVO(xe,8))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),ct=(()=>{class o{constructor(r){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const a=this._locationStrategy.getBaseHref();this._basePath=function J(o){if(new RegExp("^(https?:)?//").test(o)){const[,r]=o.split(/\/\/[^\/]+/);return r}return o}(G(ze(a))),this._locationStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,a=""){return this.path()==this.normalize(r+Ve(a))}normalize(r){return o.stripTrailingSlash(function Pr(o,s){if(!o||!s.startsWith(o))return s;const r=s.substring(o.length);return""===r||["/",";","?","#"].includes(r[0])?r:s}(this._basePath,ze(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,a="",u=null){this._locationStrategy.pushState(u,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ve(a)),u)}replaceState(r,a="",u=null){this._locationStrategy.replaceState(u,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ve(a)),u)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}),()=>{const a=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(a,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",a){this._urlChangeListeners.forEach(u=>u(r,a))}subscribe(r,a,u){return this._subject.subscribe({next:r,error:a,complete:u})}static{this.normalizeQueryParams=Ve}static{this.joinWithSlash=N}static{this.stripTrailingSlash=G}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(ae))}}static{this.\u0275prov=l.jDH({token:o,factory:()=>function ln(){return new ct((0,l.KVO)(ae))}(),providedIn:"root"})}}return o})();function ze(o){return o.replace(/\/index.html$/,"")}function Ks(o,s){s=encodeURIComponent(s);for(const r of o.split(";")){const a=r.indexOf("="),[u,h]=-1==a?[r,""]:[r.slice(0,a),r.slice(a+1)];if(u.trim()===s)return decodeURIComponent(h)}return null}class jd{constructor(s,r,a,u){this.$implicit=s,this.ngForOf=r,this.index=a,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mo=(()=>{class o{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,a,u){this._viewContainer=r,this._template=a,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const a=this._viewContainer;r.forEachOperation((u,h,m)=>{if(null==u.previousIndex)a.createEmbeddedView(this._template,new jd(u.item,this._ngForOf,-1,-1),null===m?void 0:m);else if(null==m)a.remove(null===h?void 0:h);else if(null!==h){const C=a.get(h);a.move(C,m),Ud(C,u)}});for(let u=0,h=a.length;u<h;u++){const C=a.get(u).context;C.index=u,C.count=h,C.ngForOf=this._ngForOf}r.forEachIdentityChange(u=>{Ud(a.get(u.currentIndex),u)})}static ngTemplateContextGuard(r,a){return!0}static{this.\u0275fac=function(a){return new(a||o)(l.rXU(l.c1b),l.rXU(l.C4Q),l.rXU(l._q3))}}static{this.\u0275dir=l.FsC({type:o,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return o})();function Ud(o,s){o.context.$implicit=s.item}let Js=(()=>{class o{constructor(r,a){this._viewContainer=r,this._context=new mD,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){vm("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){vm("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,a){return!0}static{this.\u0275fac=function(a){return new(a||o)(l.rXU(l.c1b),l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:o,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return o})();class mD{constructor(){this.$implicit=null,this.ngIf=null}}function vm(o,s){if(s&&!s.createEmbeddedView)throw new Error(`${o} must be a TemplateRef, but received '${(0,l.Tbb)(s)}'.`)}let hn=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=l.$C({type:o})}static{this.\u0275inj=l.G2t({})}}return o})();function Qd(o){return"server"===o}class di{}class wo extends H{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class bl extends wo{static makeCurrent(){!function z(o){Z??=o}(new bl)}onAndCancel(s,r,a){return s.addEventListener(r,a),()=>{s.removeEventListener(r,a)}}dispatchEvent(s,r){s.dispatchEvent(r)}remove(s){s.parentNode&&s.parentNode.removeChild(s)}createElement(s,r){return(r=r||this.getDefaultDocument()).createElement(s)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(s){return s.nodeType===Node.ELEMENT_NODE}isShadowRoot(s){return s instanceof DocumentFragment}getGlobalEventTarget(s,r){return"window"===r?window:"document"===r?s:"body"===r?s.body:null}getBaseHref(s){const r=function nt(){return gi=gi||document.querySelector("base"),gi?gi.getAttribute("href"):null}();return null==r?null:function hf(o){return new URL(o,document.baseURI).pathname}(r)}resetBaseElement(){gi=null}getUserAgent(){return window.navigator.userAgent}getCookie(s){return Ks(document.cookie,s)}}let gi=null,mi=(()=>{class o{build(){return new XMLHttpRequest}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac})}}return o})();const wl=new l.nKC("");let pf=(()=>{class o{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(u=>{u.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,a,u){return this._findPluginFor(a).addEventListener(r,a,u)}getZone(){return this._zone}_findPluginFor(r){let a=this._eventNameToPlugin.get(r);if(a)return a;if(a=this._plugins.find(h=>h.supports(r)),!a)throw new l.wOt(5101,!1);return this._eventNameToPlugin.set(r,a),a}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(wl),l.KVO(l.SKi))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac})}}return o})();class gf{constructor(s){this._doc=s}}const Ml="ng-app-id";let mf=(()=>{class o{constructor(r,a,u,h={}){this.doc=r,this.appId=a,this.nonce=u,this.platformId=h,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qd(h),this.resetHostNodes()}addStyles(r){for(const a of r)1===this.changeUsageCount(a,1)&&this.onStyleAdded(a)}removeStyles(r){for(const a of r)this.changeUsageCount(a,-1)<=0&&this.onStyleRemoved(a)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(a=>a.remove()),r.clear());for(const a of this.getAllStyles())this.onStyleRemoved(a);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const a of this.getAllStyles())this.addStyleToHost(r,a)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const a of this.hostNodes)this.addStyleToHost(a,r)}onStyleRemoved(r){const a=this.styleRef;a.get(r)?.elements?.forEach(u=>u.remove()),a.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Ml}="${this.appId}"]`);if(r?.length){const a=new Map;return r.forEach(u=>{null!=u.textContent&&a.set(u.textContent,u)}),a}return null}changeUsageCount(r,a){const u=this.styleRef;if(u.has(r)){const h=u.get(r);return h.usage+=a,h.usage}return u.set(r,{usage:a,elements:[]}),a}getStyleElement(r,a){const u=this.styleNodesInDOM,h=u?.get(a);if(h?.parentNode===r)return u.delete(a),h.removeAttribute(Ml),h;{const m=this.doc.createElement("style");return this.nonce&&m.setAttribute("nonce",this.nonce),m.textContent=a,this.platformIsServer&&m.setAttribute(Ml,this.appId),r.appendChild(m),m}}addStyleToHost(r,a){const u=this.getStyleElement(r,a),h=this.styleRef,m=h.get(a)?.elements;m?m.push(u):h.set(a,{elements:[u],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(L),l.KVO(l.sZ2),l.KVO(l.BIS,8),l.KVO(l.Agw))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac})}}return o})();const El={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vi=/%COMP%/g,We=new l.nKC("",{providedIn:"root",factory:()=>!0});function Rt(o,s){return s.map(r=>r.replace(vi,o))}let pr=(()=>{class o{constructor(r,a,u,h,m,C,_,b=null){this.eventManager=r,this.sharedStylesHost=a,this.appId=u,this.removeStylesOnCompDestroy=h,this.doc=m,this.platformId=C,this.ngZone=_,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=Qd(C),this.defaultRenderer=new Ne(r,m,_,this.platformIsServer)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;this.platformIsServer&&a.encapsulation===l.gXe.ShadowDom&&(a={...a,encapsulation:l.gXe.Emulated});const u=this.getOrCreateRenderer(r,a);return u instanceof jr?u.applyToHost(r):u instanceof ca&&u.applyStyles(),u}getOrCreateRenderer(r,a){const u=this.rendererByCompId;let h=u.get(a.id);if(!h){const m=this.doc,C=this.ngZone,_=this.eventManager,b=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,I=this.platformIsServer;switch(a.encapsulation){case l.gXe.Emulated:h=new jr(_,b,a,this.appId,T,m,C,I);break;case l.gXe.ShadowDom:return new Ci(_,b,r,a,m,C,this.nonce,I);default:h=new ca(_,b,a,T,m,C,I)}u.set(a.id,h)}return h}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(pf),l.KVO(mf),l.KVO(l.sZ2),l.KVO(We),l.KVO(L),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(l.BIS))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac})}}return o})();class Ne{constructor(s,r,a,u){this.eventManager=s,this.doc=r,this.ngZone=a,this.platformIsServer=u,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(s,r){return r?this.doc.createElementNS(El[r]||r,s):this.doc.createElement(s)}createComment(s){return this.doc.createComment(s)}createText(s){return this.doc.createTextNode(s)}appendChild(s,r){(ee(s)?s.content:s).appendChild(r)}insertBefore(s,r,a){s&&(ee(s)?s.content:s).insertBefore(r,a)}removeChild(s,r){s&&s.removeChild(r)}selectRootElement(s,r){let a="string"==typeof s?this.doc.querySelector(s):s;if(!a)throw new l.wOt(-5104,!1);return r||(a.textContent=""),a}parentNode(s){return s.parentNode}nextSibling(s){return s.nextSibling}setAttribute(s,r,a,u){if(u){r=u+":"+r;const h=El[u];h?s.setAttributeNS(h,r,a):s.setAttribute(r,a)}else s.setAttribute(r,a)}removeAttribute(s,r,a){if(a){const u=El[a];u?s.removeAttributeNS(u,r):s.removeAttribute(`${a}:${r}`)}else s.removeAttribute(r)}addClass(s,r){s.classList.add(r)}removeClass(s,r){s.classList.remove(r)}setStyle(s,r,a,u){u&(l.czy.DashCase|l.czy.Important)?s.style.setProperty(r,a,u&l.czy.Important?"important":""):s.style[r]=a}removeStyle(s,r,a){a&l.czy.DashCase?s.style.removeProperty(r):s.style[r]=""}setProperty(s,r,a){null!=s&&(s[r]=a)}setValue(s,r){s.nodeValue=r}listen(s,r,a){if("string"==typeof s&&!(s=$().getGlobalEventTarget(this.doc,s)))throw new Error(`Unsupported event target ${s} for event ${r}`);return this.eventManager.addEventListener(s,r,this.decoratePreventDefault(a))}decoratePreventDefault(s){return r=>{if("__ngUnwrap__"===r)return s;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>s(r)):s(r))&&r.preventDefault()}}}function ee(o){return"TEMPLATE"===o.tagName&&void 0!==o.content}class Ci extends Ne{constructor(s,r,a,u,h,m,C,_){super(s,h,m,_),this.sharedStylesHost=r,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const b=Rt(u.id,u.styles);for(const T of b){const I=document.createElement("style");C&&I.setAttribute("nonce",C),I.textContent=T,this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(s){return s===this.hostEl?this.shadowRoot:s}appendChild(s,r){return super.appendChild(this.nodeOrShadowRoot(s),r)}insertBefore(s,r,a){return super.insertBefore(this.nodeOrShadowRoot(s),r,a)}removeChild(s,r){return super.removeChild(this.nodeOrShadowRoot(s),r)}parentNode(s){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(s)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ca extends Ne{constructor(s,r,a,u,h,m,C,_){super(s,h,m,C),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=u,this.styles=_?Rt(_,a.styles):a.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class jr extends ca{constructor(s,r,a,u,h,m,C,_){const b=u+"-"+a.id;super(s,r,a,h,m,C,_,b),this.contentAttr=function mn(o){return"_ngcontent-%COMP%".replace(vi,o)}(b),this.hostAttr=function _t(o){return"_nghost-%COMP%".replace(vi,o)}(b)}applyToHost(s){this.applyStyles(),this.setAttribute(s,this.hostAttr,"")}createElement(s,r){const a=super.createElement(s,r);return super.setAttribute(a,this.contentAttr,""),a}}let $e=(()=>{class o extends gf{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,u){return r.addEventListener(a,u,!1),()=>this.removeEventListener(r,a,u)}removeEventListener(r,a,u){return r.removeEventListener(a,u)}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(L))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac})}}return o})();const Mo=["alt","control","meta","shift"],Eo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xn={alt:o=>o.altKey,control:o=>o.ctrlKey,meta:o=>o.metaKey,shift:o=>o.shiftKey};let _i=(()=>{class o extends gf{constructor(r){super(r)}supports(r){return null!=o.parseEventName(r)}addEventListener(r,a,u){const h=o.parseEventName(a),m=o.eventCallback(h.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$().onAndCancel(r,h.domEventName,m))}static parseEventName(r){const a=r.toLowerCase().split("."),u=a.shift();if(0===a.length||"keydown"!==u&&"keyup"!==u)return null;const h=o._normalizeKey(a.pop());let m="",C=a.indexOf("code");if(C>-1&&(a.splice(C,1),m="code."),Mo.forEach(b=>{const T=a.indexOf(b);T>-1&&(a.splice(T,1),m+=b+".")}),m+=h,0!=a.length||0===h.length)return null;const _={};return _.domEventName=u,_.fullKey=m,_}static matchEventFullKeyCode(r,a){let u=Eo[r.key]||r.key,h="";return a.indexOf("code.")>-1&&(u=r.code,h="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),Mo.forEach(m=>{m!==u&&(0,Xn[m])(r)&&(h+=m+".")}),h+=u,h===a)}static eventCallback(r,a,u){return h=>{o.matchEventFullKeyCode(h,r)&&u.runGuarded(()=>a(h))}}static _normalizeKey(r){return"esc"===r?"escape":r}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(L))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac})}}return o})();function Di(o){return{appProviders:[...Tl,...o?.providers??[]],platformProviders:An}}const An=[{provide:l.Agw,useValue:"browser"},{provide:l.PLl,useValue:function se(){bl.makeCurrent()},multi:!0},{provide:L,useFactory:function bi(){return(0,l.TL$)(document),document},deps:[]}],Tl=[{provide:l.H8p,useValue:"root"},{provide:l.zcH,useFactory:function Il(){return new l.zcH},deps:[]},{provide:wl,useClass:$e,multi:!0,deps:[L,l.SKi,l.Agw]},{provide:wl,useClass:_i,multi:!0,deps:[L]},pr,mf,pf,{provide:l._9s,useExisting:pr},{provide:di,useClass:mi,deps:[]},[]];let $r=(()=>{class o{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(L))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Qn=P(467),ft=P(985),It=P(71);function Yt(o){return this instanceof Yt?(this.v=o,this):new Yt(o)}function Tf(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=o[Symbol.asyncIterator];return s?s.call(o):(o=function Ie(o){var s="function"==typeof Symbol&&Symbol.iterator,r=s&&o[s],a=0;if(r)return r.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&a>=o.length&&(o=void 0),{value:o&&o[a++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(h){r[h]=o[h]&&function(m){return new Promise(function(C,_){!function u(h,m,C,_){Promise.resolve(_).then(function(b){h({value:b,done:C})},m)}(C,_,(m=o[h](m)).done,m.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Vl=o=>o&&"number"==typeof o.length&&"function"!=typeof o;function fv(o){return(0,It.T)(o?.then)}var Nf=P(494);function Pf(o){return(0,It.T)(o[Nf.s])}function xf(o){return Symbol.asyncIterator&&(0,It.T)(o?.[Symbol.asyncIterator])}function jl(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Rf=function So(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kf(o){return(0,It.T)(o?.[Rf])}function Ff(o){return function Br(o,s,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,a=r.apply(o,s||[]),h=[];return u=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),C("next"),C("throw"),C("return",function m(V){return function(q){return Promise.resolve(q).then(V,I)}}),u[Symbol.asyncIterator]=function(){return this},u;function C(V,q){a[V]&&(u[V]=function(W){return new Promise(function(U,re){h.push([V,W,U,re])>1||_(V,W)})},q&&(u[V]=q(u[V])))}function _(V,q){try{!function b(V){V.value instanceof Yt?Promise.resolve(V.value.v).then(T,I):F(h[0][2],V)}(a[V](q))}catch(W){F(h[0][3],W)}}function T(V){_("next",V)}function I(V){_("throw",V)}function F(V,q){V(q),h.shift(),h.length&&_(h[0][0],h[0][1])}}(this,arguments,function*(){const r=o.getReader();try{for(;;){const{value:a,done:u}=yield Yt(r.read());if(u)return yield Yt(void 0);yield yield Yt(a)}}finally{r.releaseLock()}})}function Lf(o){return(0,It.T)(o?.getReader)}var hv=P(334);function S(o){if(o instanceof ft.c)return o;if(null!=o){if(Pf(o))return function ye(o){return new ft.c(s=>{const r=o[Nf.s]();if((0,It.T)(r.subscribe))return r.subscribe(s);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(o);if(Vl(o))return function Vf(o){return new ft.c(s=>{for(let r=0;r<o.length&&!s.closed;r++)s.next(o[r]);s.complete()})}(o);if(fv(o))return function jf(o){return new ft.c(s=>{o.then(r=>{s.closed||(s.next(r),s.complete())},r=>s.error(r)).then(null,hv.m)})}(o);if(xf(o))return Ul(o);if(kf(o))return function Te(o){return new ft.c(s=>{for(const r of o)if(s.next(r),s.closed)return;s.complete()})}(o);if(Lf(o))return function Ti(o){return Ul(Ff(o))}(o)}throw jl(o)}function Ul(o){return new ft.c(s=>{(function Pn(o,s){var r,a,u,h;return function Pl(o,s,r,a){return new(r||(r=Promise))(function(h,m){function C(T){try{b(a.next(T))}catch(I){m(I)}}function _(T){try{b(a.throw(T))}catch(I){m(I)}}function b(T){T.done?h(T.value):function u(h){return h instanceof r?h:new r(function(m){m(h)})}(T.value).then(C,_)}b((a=a.apply(o,s||[])).next())})}(this,void 0,void 0,function*(){try{for(r=Tf(o);!(a=yield r.next()).done;)if(s.next(a.value),s.closed)return}catch(m){u={error:m}}finally{try{a&&!a.done&&(h=r.return)&&(yield h.call(r))}finally{if(u)throw u.error}}s.complete()})})(o,s).catch(r=>s.error(r))})}function yn(o,s,r,a=0,u=!1){const h=s.schedule(function(){r(),u?o.add(this.schedule(null,a)):this.unsubscribe()},a);if(o.add(h),!u)return h}var Xe=P(974),Ke=P(360);function pv(o,s=0){return(0,Xe.N)((r,a)=>{r.subscribe((0,Ke._)(a,u=>yn(a,o,()=>a.next(u),s),()=>yn(a,o,()=>a.complete(),s),u=>yn(a,o,()=>a.error(u),s)))})}function $l(o,s=0){return(0,Xe.N)((r,a)=>{a.add(o.schedule(()=>r.subscribe(a),s))})}function xn(o,s){if(!o)throw new Error("Iterable cannot be null");return new ft.c(r=>{yn(r,s,()=>{const a=o[Symbol.asyncIterator]();yn(r,s,()=>{a.next().then(u=>{u.done?r.complete():r.next(u.value)})},0,!0)})})}function ht(o,s){return s?function $f(o,s){if(null!=o){if(Pf(o))return function Tt(o,s){return S(o).pipe($l(s),pv(s))}(o,s);if(Vl(o))return function Uf(o,s){return new ft.c(r=>{let a=0;return s.schedule(function(){a===o.length?r.complete():(r.next(o[a++]),r.closed||this.schedule())})})}(o,s);if(fv(o))return function Kn(o,s){return S(o).pipe($l(s),pv(s))}(o,s);if(xf(o))return xn(o,s);if(kf(o))return function Cn(o,s){return new ft.c(r=>{let a;return yn(r,s,()=>{a=o[Rf](),yn(r,s,()=>{let u,h;try{({value:u,done:h}=a.next())}catch(m){return void r.error(m)}h?r.complete():r.next(u)},0,!0)}),()=>(0,It.T)(a?.return)&&a.return()})}(o,s);if(Lf(o))return function gv(o,s){return xn(Ff(o),s)}(o,s)}throw jl(o)}(o,s):S(o)}function Oi(o){return o[o.length-1]}function fa(o){return(0,It.T)(Oi(o))?o.pop():void 0}function To(o){return function mv(o){return o&&(0,It.T)(o.schedule)}(Oi(o))?o.pop():void 0}function le(...o){return ht(o,To(o))}var ut=P(412);const Oo=(0,P(853).L)(o=>function(){o(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Bf}=Array,{getPrototypeOf:Hf,prototype:Gf,keys:Gl}=Object;function zf(o){if(1===o.length){const s=o[0];if(Bf(s))return{args:s,keys:null};if(function Dt(o){return o&&"object"==typeof o&&Hf(o)===Gf}(s)){const r=Gl(s);return{args:r.map(a=>s[a]),keys:r}}}return{args:o,keys:null}}var Gt=P(669),X=P(354);const{isArray:Wf}=Array;function zl(o){return(0,X.T)(s=>function vv(o,s){return Wf(s)?o(...s):o(s)}(o,s))}function qf(o,s){return o.reduce((r,a,u)=>(r[a]=s[u],r),{})}function Wl(...o){const s=To(o),r=fa(o),{args:a,keys:u}=zf(o);if(0===a.length)return ht([],s);const h=new ft.c(function Xf(o,s,r=Gt.D){return a=>{Ao(s,()=>{const{length:u}=o,h=new Array(u);let m=u,C=u;for(let _=0;_<u;_++)Ao(s,()=>{const b=ht(o[_],s);let T=!1;b.subscribe((0,Ke._)(a,I=>{h[_]=I,T||(T=!0,C--),C||a.next(r(h.slice()))},()=>{--m||a.complete()}))},a)},a)}}(a,s,u?m=>qf(u,m):Gt.D));return r?h.pipe(zl(r)):h}function Ao(o,s,r){o?yn(r,o,s):s()}function Ot(o,s,r=1/0){return(0,It.T)(s)?Ot((a,u)=>(0,X.T)((h,m)=>s(a,h,u,m))(S(o(a,u))),r):("number"==typeof s&&(r=s),(0,Xe.N)((a,u)=>function Rn(o,s,r,a,u,h,m,C){const _=[];let b=0,T=0,I=!1;const F=()=>{I&&!_.length&&!b&&s.complete()},V=W=>b<a?q(W):_.push(W),q=W=>{h&&s.next(W),b++;let U=!1;S(r(W,T++)).subscribe((0,Ke._)(s,re=>{u?.(re),h?V(re):s.next(re)},()=>{U=!0},void 0,()=>{if(U)try{for(b--;_.length&&b<a;){const re=_.shift();m?yn(s,m,()=>q(re)):q(re)}F()}catch(re){s.error(re)}}))};return o.subscribe((0,Ke._)(s,V,()=>{I=!0,F()})),()=>{C?.()}}(a,u,o,r)))}function Po(...o){return function ha(){return function No(o=1/0){return Ot(Gt.D,o)}(1)}()(ht(o,To(o)))}function pa(o){return new ft.c(s=>{S(o()).subscribe(s)})}var Qf=P(203);function Ai(o,s){const r=(0,It.T)(o)?o:()=>o,a=u=>u.error(r());return new ft.c(s?u=>s.schedule(a,0,u):a)}const kn=new ft.c(o=>o.complete());var ga=P(359);function xi(){return(0,Xe.N)((o,s)=>{let r=null;o._refCount++;const a=(0,Ke._)(s,void 0,void 0,void 0,()=>{if(!o||o._refCount<=0||0<--o._refCount)return void(r=null);const u=o._connection,h=r;r=null,u&&(!h||u===h)&&u.unsubscribe(),s.unsubscribe()});o.subscribe(a),a.closed||(r=o.connect())})}class Kf extends ft.c{constructor(s,r){super(),this.source=s,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,(0,Xe.S)(s)&&(this.lift=s.lift)}_subscribe(s){return this.getSubject().subscribe(s)}getSubject(){const s=this._subject;return(!s||s.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:s}=this;this._subject=this._connection=null,s?.unsubscribe()}connect(){let s=this._connection;if(!s){s=this._connection=new ga.yU;const r=this.getSubject();s.add(this.source.subscribe((0,Ke._)(r,void 0,()=>{this._teardown(),r.complete()},a=>{this._teardown(),r.error(a)},()=>this._teardown()))),s.closed&&(this._connection=null,s=ga.yU.EMPTY)}return s}refCount(){return xi()(this)}}var Jt=P(413);function Fn(o,s){return(0,Xe.N)((r,a)=>{let u=null,h=0,m=!1;const C=()=>m&&!u&&a.complete();r.subscribe((0,Ke._)(a,_=>{u?.unsubscribe();let b=0;const T=h++;S(o(_,T)).subscribe(u=(0,Ke._)(a,I=>a.next(s?s(_,I,T,b++):I),()=>{u=null,C()}))},()=>{m=!0,C()}))})}function Ri(o){return o<=0?()=>kn:(0,Xe.N)((s,r)=>{let a=0;s.subscribe((0,Ke._)(r,u=>{++a<=o&&(r.next(u),o<=a&&r.complete())}))})}function Ln(o,s){return(0,Xe.N)((r,a)=>{let u=0;r.subscribe((0,Ke._)(a,h=>o.call(s,h,u++)&&a.next(h)))})}function gr(o){return(0,Xe.N)((s,r)=>{let a=!1;s.subscribe((0,Ke._)(r,u=>{a=!0,r.next(u)},()=>{a||r.next(o),r.complete()}))})}function Yf(o=ki){return(0,Xe.N)((s,r)=>{let a=!1;s.subscribe((0,Ke._)(r,u=>{a=!0,r.next(u)},()=>a?r.complete():r.error(o())))})}function ki(){return new Oo}function Yn(o,s){const r=arguments.length>=2;return a=>a.pipe(o?Ln((u,h)=>o(u,h,a)):Gt.D,Ri(1),r?gr(s):Yf(()=>new Oo))}function mr(o,s){return(0,It.T)(s)?Ot(o,s,1):Ot(o,1)}function kt(o,s,r){const a=(0,It.T)(o)||s||r?{next:o,error:s,complete:r}:o;return a?(0,Xe.N)((u,h)=>{var m;null===(m=a.subscribe)||void 0===m||m.call(a);let C=!0;u.subscribe((0,Ke._)(h,_=>{var b;null===(b=a.next)||void 0===b||b.call(a,_),h.next(_)},()=>{var _;C=!1,null===(_=a.complete)||void 0===_||_.call(a),h.complete()},_=>{var b;C=!1,null===(b=a.error)||void 0===b||b.call(a,_),h.error(_)},()=>{var _,b;C&&(null===(_=a.unsubscribe)||void 0===_||_.call(a)),null===(b=a.finalize)||void 0===b||b.call(a)}))}):Gt.D}function Gr(o){return(0,Xe.N)((s,r)=>{let h,a=null,u=!1;a=s.subscribe((0,Ke._)(r,void 0,void 0,m=>{h=S(o(m,Gr(o)(s))),a?(a.unsubscribe(),a=null,h.subscribe(r)):u=!0})),u&&(a.unsubscribe(),a=null,h.subscribe(r))})}function en(o){return o<=0?()=>kn:(0,Xe.N)((s,r)=>{let a=[];s.subscribe((0,Ke._)(r,u=>{a.push(u),o<a.length&&a.shift()},()=>{for(const u of a)r.next(u);r.complete()},void 0,()=>{a=null}))})}function xo(o){return(0,Xe.N)((s,r)=>{try{s.subscribe(r)}finally{r.add(o)}})}var Jf=P(343);function Vn(o){return(0,Xe.N)((s,r)=>{S(o).subscribe((0,Ke._)(r,()=>r.complete(),Jf.l)),!r.closed&&s.subscribe(r)})}const fe="primary",Fi=Symbol("RouteTitle");class eh{constructor(s){this.params=s||{}}has(s){return Object.prototype.hasOwnProperty.call(this.params,s)}get(s){if(this.has(s)){const r=this.params[s];return Array.isArray(r)?r[0]:r}return null}getAll(s){if(this.has(s)){const r=this.params[s];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function zr(o){return new eh(o)}function th(o,s,r){const a=r.path.split("/");if(a.length>o.length||"full"===r.pathMatch&&(s.hasChildren()||a.length<o.length))return null;const u={};for(let h=0;h<a.length;h++){const m=a[h],C=o[h];if(m.startsWith(":"))u[m.substring(1)]=C;else if(m!==C.path)return null}return{consumed:o.slice(0,a.length),posParams:u}}function jn(o,s){const r=o?Ro(o):void 0,a=s?Ro(s):void 0;if(!r||!a||r.length!=a.length)return!1;let u;for(let h=0;h<r.length;h++)if(u=r[h],!vr(o[u],s[u]))return!1;return!0}function Ro(o){return[...Object.keys(o),...Object.getOwnPropertySymbols(o)]}function vr(o,s){if(Array.isArray(o)&&Array.isArray(s)){if(o.length!==s.length)return!1;const r=[...o].sort(),a=[...s].sort();return r.every((u,h)=>a[h]===u)}return o===s}function rh(o){return o.length>0?o[o.length-1]:null}function Zn(o){return function bf(o){return!!o&&(o instanceof ft.c||(0,It.T)(o.lift)&&(0,It.T)(o.subscribe))}(o)?o:(0,l.jNT)(o)?ht(Promise.resolve(o)):le(o)}const oh={exact:function ih(o,s,r){if(!Un(o.segments,s.segments)||!Li(o.segments,s.segments,r)||o.numberOfChildren!==s.numberOfChildren)return!1;for(const a in s.children)if(!o.children[a]||!ih(o.children[a],s.children[a],r))return!1;return!0},subset:va},Wr={exact:function rt(o,s){return jn(o,s)},subset:function sh(o,s){return Object.keys(s).length<=Object.keys(o).length&&Object.keys(s).every(r=>vr(o[r],s[r]))},ignored:()=>!0};function qr(o,s,r){return oh[r.paths](o.root,s.root,r.matrixParams)&&Wr[r.queryParams](o.queryParams,s.queryParams)&&!("exact"===r.fragment&&o.fragment!==s.fragment)}function va(o,s,r){return ah(o,s,s.segments,r)}function ah(o,s,r,a){if(o.segments.length>r.length){const u=o.segments.slice(0,r.length);return!(!Un(u,r)||s.hasChildren()||!Li(u,r,a))}if(o.segments.length===r.length){if(!Un(o.segments,r)||!Li(o.segments,r,a))return!1;for(const u in s.children)if(!o.children[u]||!va(o.children[u],s.children[u],a))return!1;return!0}{const u=r.slice(0,o.segments.length),h=r.slice(o.segments.length);return!!(Un(o.segments,u)&&Li(o.segments,u,a)&&o.children[fe])&&ah(o.children[fe],s,h,a)}}function Li(o,s,r){return s.every((a,u)=>Wr[r](o[u].parameters,a.parameters))}class Jn{constructor(s=new Pe([],{}),r={},a=null){this.root=s,this.queryParams=r,this.fragment=a}get queryParamMap(){return this._queryParamMap??=zr(this.queryParams),this._queryParamMap}toString(){return _v.serialize(this)}}class Pe{constructor(s,r){this.segments=s,this.children=r,this.parent=null,Object.values(r).forEach(a=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vi(this)}}class ko{constructor(s,r){this.path=s,this.parameters=r}get parameterMap(){return this._parameterMap??=zr(this.parameters),this._parameterMap}toString(){return Ft(this)}}function Un(o,s){return o.length===s.length&&o.every((r,a)=>r.path===s[a].path)}let Fo=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:()=>new Xl,providedIn:"root"})}}return o})();class Xl{parse(s){const r=new BD(s);return new Jn(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(s){const r=`/${ji(s.root,!0)}`,a=function uh(o){const s=Object.entries(o).map(([r,a])=>Array.isArray(a)?a.map(u=>`${ya(r)}=${ya(u)}`).join("&"):`${ya(r)}=${ya(a)}`).filter(r=>r);return s.length?`?${s.join("&")}`:""}(s.queryParams);return`${r}${a}${"string"==typeof s.fragment?`#${function Dv(o){return encodeURI(o)}(s.fragment)}`:""}`}}const _v=new Xl;function Vi(o){return o.segments.map(s=>Ft(s)).join("/")}function ji(o,s){if(!o.hasChildren())return Vi(o);if(s){const r=o.children[fe]?ji(o.children[fe],!1):"",a=[];return Object.entries(o.children).forEach(([u,h])=>{u!==fe&&a.push(`${u}:${ji(h,!1)}`)}),a.length>0?`${r}(${a.join("//")})`:r}{const r=function ch(o,s){let r=[];return Object.entries(o.children).forEach(([a,u])=>{a===fe&&(r=r.concat(s(u,a)))}),Object.entries(o.children).forEach(([a,u])=>{a!==fe&&(r=r.concat(s(u,a)))}),r}(o,(a,u)=>u===fe?[ji(o.children[fe],!1)]:[`${u}:${ji(a,!1)}`]);return 1===Object.keys(o.children).length&&null!=o.children[fe]?`${Vi(o)}/${r[0]}`:`${Vi(o)}/(${r.join("//")})`}}function Ql(o){return encodeURIComponent(o).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ya(o){return Ql(o).replace(/%3B/gi,";")}function lh(o){return Ql(o).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ui(o){return decodeURIComponent(o)}function Kl(o){return Ui(o.replace(/\+/g,"%20"))}function Ft(o){return`${lh(o.path)}${function UD(o){return Object.entries(o).map(([s,r])=>`;${lh(s)}=${lh(r)}`).join("")}(o.parameters)}`}const $D=/^[^\/()?;#]+/;function $i(o){const s=o.match($D);return s?s[0]:""}const er=/^[^\/()?;=#]+/,Lo=/^[^=?&#]+/,wv=/^[^&#]+/;class BD{constructor(s){this.url=s,this.remaining=s}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){const s={};if(this.consumeOptional("?"))do{this.parseQueryParam(s)}while(this.consumeOptional("&"));return s}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const s=[];for(this.peekStartsWith("(")||s.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),s.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(s.length>0||Object.keys(r).length>0)&&(a[fe]=new Pe(s,r)),a}parseSegment(){const s=$i(this.remaining);if(""===s&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(s),new ko(Ui(s),this.parseMatrixParams())}parseMatrixParams(){const s={};for(;this.consumeOptional(";");)this.parseParam(s);return s}parseParam(s){const r=function dh(o){const s=o.match(er);return s?s[0]:""}(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const u=$i(this.remaining);u&&(a=u,this.capture(a))}s[Ui(r)]=Ui(a)}parseQueryParam(s){const r=function bv(o){const s=o.match(Lo);return s?s[0]:""}(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const m=function fh(o){const s=o.match(wv);return s?s[0]:""}(this.remaining);m&&(a=m,this.capture(a))}const u=Kl(r),h=Kl(a);if(s.hasOwnProperty(u)){let m=s[u];Array.isArray(m)||(m=[m],s[u]=m),m.push(h)}else s[u]=h}parseParens(s){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=$i(this.remaining),u=this.remaining[a.length];if("/"!==u&&")"!==u&&";"!==u)throw new l.wOt(4010,!1);let h;a.indexOf(":")>-1?(h=a.slice(0,a.indexOf(":")),this.capture(h),this.capture(":")):s&&(h=fe);const m=this.parseChildren();r[h]=1===Object.keys(m).length?m[fe]:new Pe([],m),this.consumeOptional("//")}return r}peekStartsWith(s){return this.remaining.startsWith(s)}consumeOptional(s){return!!this.peekStartsWith(s)&&(this.remaining=this.remaining.substring(s.length),!0)}capture(s){if(!this.consumeOptional(s))throw new l.wOt(4011,!1)}}function Mv(o){return o.segments.length>0?new Pe([],{[fe]:o}):o}function Ev(o){const s={};for(const[a,u]of Object.entries(o.children)){const h=Ev(u);if(a===fe&&0===h.segments.length&&h.hasChildren())for(const[m,C]of Object.entries(h.children))s[m]=C;else(h.segments.length>0||h.hasChildren())&&(s[a]=h)}return function HD(o){if(1===o.numberOfChildren&&o.children[fe]){const s=o.children[fe];return new Pe(o.segments.concat(s.segments),s.children)}return o}(new Pe(o.segments,s))}function Bi(o){return o instanceof Jn}function Xr(o){let s;const u=Mv(function r(h){const m={};for(const _ of h.children){const b=r(_);m[_.outlet]=b}const C=new Pe(h.url,m);return h===o&&(s=C),C}(o.root));return s??u}function Vo(o,s,r,a){let u=o;for(;u.parent;)u=u.parent;if(0===s.length)return zi(u,u,u,r,a);const h=function Yl(o){if("string"==typeof o[0]&&1===o.length&&"/"===o[0])return new hh(!0,0,o);let s=0,r=!1;const a=o.reduce((u,h,m)=>{if("object"==typeof h&&null!=h){if(h.outlets){const C={};return Object.entries(h.outlets).forEach(([_,b])=>{C[_]="string"==typeof b?b.split("/"):b}),[...u,{outlets:C}]}if(h.segmentPath)return[...u,h.segmentPath]}return"string"!=typeof h?[...u,h]:0===m?(h.split("/").forEach((C,_)=>{0==_&&"."===C||(0==_&&""===C?r=!0:".."===C?s++:""!=C&&u.push(C))}),u):[...u,h]},[]);return new hh(r,s,a)}(s);if(h.toRoot())return zi(u,u,new Pe([],{}),r,a);const m=function Sv(o,s,r){if(o.isAbsolute)return new yr(s,!0,0);if(!r)return new yr(s,!1,NaN);if(null===r.parent)return new yr(r,!0,0);const a=Hi(o.commands[0])?0:1;return function ph(o,s,r){let a=o,u=s,h=r;for(;h>u;){if(h-=u,a=a.parent,!a)throw new l.wOt(4005,!1);u=a.segments.length}return new yr(a,!1,u-h)}(r,r.segments.length-1+a,o.numberOfDoubleDots)}(h,u,o),C=m.processChildren?Cr(m.segmentGroup,m.index,h.commands):Wi(m.segmentGroup,m.index,h.commands);return zi(u,m.segmentGroup,C,r,a)}function Hi(o){return"object"==typeof o&&null!=o&&!o.outlets&&!o.segmentPath}function Gi(o){return"object"==typeof o&&null!=o&&o.outlets}function zi(o,s,r,a,u){let m,h={};a&&Object.entries(a).forEach(([_,b])=>{h[_]=Array.isArray(b)?b.map(T=>`${T}`):`${b}`}),m=o===s?r:_n(o,s,r);const C=Mv(Ev(m));return new Jn(C,h,u)}function _n(o,s,r){const a={};return Object.entries(o.children).forEach(([u,h])=>{a[u]=h===s?r:_n(h,s,r)}),new Pe(o.segments,a)}class hh{constructor(s,r,a){if(this.isAbsolute=s,this.numberOfDoubleDots=r,this.commands=a,s&&a.length>0&&Hi(a[0]))throw new l.wOt(4003,!1);const u=a.find(Gi);if(u&&u!==rh(a))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yr{constructor(s,r,a){this.segmentGroup=s,this.processChildren=r,this.index=a}}function Wi(o,s,r){if(o??=new Pe([],{}),0===o.segments.length&&o.hasChildren())return Cr(o,s,r);const a=function Zl(o,s,r){let a=0,u=s;const h={match:!1,pathIndex:0,commandIndex:0};for(;u<o.segments.length;){if(a>=r.length)return h;const m=o.segments[u],C=r[a];if(Gi(C))break;const _=`${C}`,b=a<r.length-1?r[a+1]:null;if(u>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!eu(_,b,m))return h;a+=2}else{if(!eu(_,{},m))return h;a++}u++}return{match:!0,pathIndex:u,commandIndex:a}}(o,s,r),u=r.slice(a.commandIndex);if(a.match&&a.pathIndex<o.segments.length){const h=new Pe(o.segments.slice(0,a.pathIndex),{});return h.children[fe]=new Pe(o.segments.slice(a.pathIndex),o.children),Cr(h,0,u)}return a.match&&0===u.length?new Pe(o.segments,{}):a.match&&!o.hasChildren()?Jl(o,s,r):a.match?Cr(o,0,u):Jl(o,s,r)}function Cr(o,s,r){if(0===r.length)return new Pe(o.segments,{});{const a=function gh(o){return Gi(o[0])?o[0].outlets:{[fe]:o}}(r),u={};if(Object.keys(a).some(h=>h!==fe)&&o.children[fe]&&1===o.numberOfChildren&&0===o.children[fe].segments.length){const h=Cr(o.children[fe],s,r);return new Pe(o.segments,h.children)}return Object.entries(a).forEach(([h,m])=>{"string"==typeof m&&(m=[m]),null!==m&&(u[h]=Wi(o.children[h],s,m))}),Object.entries(o.children).forEach(([h,m])=>{void 0===a[h]&&(u[h]=m)}),new Pe(o.segments,u)}}function Jl(o,s,r){const a=o.segments.slice(0,s);let u=0;for(;u<r.length;){const h=r[u];if(Gi(h)){const _=Tv(h.outlets);return new Pe(a,_)}if(0===u&&Hi(r[0])){a.push(new ko(o.segments[s].path,mh(r[0]))),u++;continue}const m=Gi(h)?h.outlets[fe]:`${h}`,C=u<r.length-1?r[u+1]:null;m&&C&&Hi(C)?(a.push(new ko(m,mh(C))),u+=2):(a.push(new ko(m,{})),u++)}return new Pe(a,{})}function Tv(o){const s={};return Object.entries(o).forEach(([r,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(s[r]=Jl(new Pe([],{}),0,a))}),s}function mh(o){const s={};return Object.entries(o).forEach(([r,a])=>s[r]=`${a}`),s}function eu(o,s,r){return o==r.path&&jn(s,r.parameters)}const qi="imperative";var be=function(o){return o[o.NavigationStart=0]="NavigationStart",o[o.NavigationEnd=1]="NavigationEnd",o[o.NavigationCancel=2]="NavigationCancel",o[o.NavigationError=3]="NavigationError",o[o.RoutesRecognized=4]="RoutesRecognized",o[o.ResolveStart=5]="ResolveStart",o[o.ResolveEnd=6]="ResolveEnd",o[o.GuardsCheckStart=7]="GuardsCheckStart",o[o.GuardsCheckEnd=8]="GuardsCheckEnd",o[o.RouteConfigLoadStart=9]="RouteConfigLoadStart",o[o.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",o[o.ChildActivationStart=11]="ChildActivationStart",o[o.ChildActivationEnd=12]="ChildActivationEnd",o[o.ActivationStart=13]="ActivationStart",o[o.ActivationEnd=14]="ActivationEnd",o[o.Scroll=15]="Scroll",o[o.NavigationSkipped=16]="NavigationSkipped",o}(be||{});class Be{constructor(s,r){this.id=s,this.url=r}}class Xi extends Be{constructor(s,r,a="imperative",u=null){super(s,r),this.type=be.NavigationStart,this.navigationTrigger=a,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _r extends Be{constructor(s,r,a){super(s,r),this.urlAfterRedirects=a,this.type=be.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var At=function(o){return o[o.Redirect=0]="Redirect",o[o.SupersededByNewNavigation=1]="SupersededByNewNavigation",o[o.NoDataFromResolver=2]="NoDataFromResolver",o[o.GuardRejected=3]="GuardRejected",o}(At||{}),dt=function(o){return o[o.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",o[o.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",o}(dt||{});class $n extends Be{constructor(s,r,a,u){super(s,r),this.reason=a,this.code=u,this.type=be.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jo extends Be{constructor(s,r,a,u){super(s,r),this.reason=a,this.code=u,this.type=be.NavigationSkipped}}class Qi extends Be{constructor(s,r,a,u){super(s,r),this.error=a,this.target=u,this.type=be.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vh extends Be{constructor(s,r,a,u){super(s,r),this.urlAfterRedirects=a,this.state=u,this.type=be.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yh extends Be{constructor(s,r,a,u){super(s,r),this.urlAfterRedirects=a,this.state=u,this.type=be.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ov extends Be{constructor(s,r,a,u,h){super(s,r),this.urlAfterRedirects=a,this.state=u,this.shouldActivate=h,this.type=be.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ch extends Be{constructor(s,r,a,u){super(s,r),this.urlAfterRedirects=a,this.state=u,this.type=be.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Av extends Be{constructor(s,r,a,u){super(s,r),this.urlAfterRedirects=a,this.state=u,this.type=be.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _h{constructor(s){this.route=s,this.type=be.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nv{constructor(s){this.route=s,this.type=be.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pv{constructor(s){this.snapshot=s,this.type=be.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xv{constructor(s){this.snapshot=s,this.type=be.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rv{constructor(s){this.snapshot=s,this.type=be.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dh{constructor(s){this.snapshot=s,this.type=be.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ca{}class Uo{constructor(s){this.url=s}}class bh{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $o,this.attachRef=null}}let $o=(()=>{class o{constructor(){this.contexts=new Map}onChildOutletCreated(r,a){const u=this.getOrCreateContext(r);u.outlet=a,this.contexts.set(r,u)}onChildOutletDestroyed(r){const a=this.getContext(r);a&&(a.outlet=null,a.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let a=this.getContext(r);return a||(a=new bh,this.contexts.set(r,a)),a}getContext(r){return this.contexts.get(r)||null}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();class tu{constructor(s){this._root=s}get root(){return this._root.value}parent(s){const r=this.pathFromRoot(s);return r.length>1?r[r.length-2]:null}children(s){const r=nu(s,this._root);return r?r.children.map(a=>a.value):[]}firstChild(s){const r=nu(s,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(s){const r=ru(s,this._root);return r.length<2?[]:r[r.length-2].children.map(u=>u.value).filter(u=>u!==s)}pathFromRoot(s){return ru(s,this._root).map(r=>r.value)}}function nu(o,s){if(o===s.value)return s;for(const r of s.children){const a=nu(o,r);if(a)return a}return null}function ru(o,s){if(o===s.value)return[s];for(const r of s.children){const a=ru(o,r);if(a.length)return a.unshift(s),a}return[]}class Dn{constructor(s,r){this.value=s,this.children=r}toString(){return`TreeNode(${this.value})`}}function Bo(o){const s={};return o&&o.children.forEach(r=>s[r.value.outlet]=r),s}class ou extends tu{constructor(s,r){super(s),this.snapshot=r,_a(this,s)}toString(){return this.snapshot.toString()}}function Lv(o){const s=function wh(o){const h=new Mh([],{},{},"",{},fe,o,null,{});return new Eh("",new Dn(h,[]))}(o),r=new ut.t([new ko("",{})]),a=new ut.t({}),u=new ut.t({}),h=new ut.t({}),m=new ut.t(""),C=new Ho(r,a,h,m,u,fe,o,s.root);return C.snapshot=s.root,new ou(new Dn(C,[]),s)}class Ho{constructor(s,r,a,u,h,m,C,_){this.urlSubject=s,this.paramsSubject=r,this.queryParamsSubject=a,this.fragmentSubject=u,this.dataSubject=h,this.outlet=m,this.component=C,this._futureSnapshot=_,this.title=this.dataSubject?.pipe((0,X.T)(b=>b[Fi]))??le(void 0),this.url=s,this.params=r,this.queryParams=a,this.fragment=u,this.data=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,X.T)(s=>zr(s))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,X.T)(s=>zr(s))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iu(o,s,r="emptyOnly"){let a;const{routeConfig:u}=o;return a=null===s||"always"!==r&&""!==u?.path&&(s.component||s.routeConfig?.loadComponent)?{params:{...o.params},data:{...o.data},resolve:{...o.data,...o._resolvedData??{}}}:{params:{...s.params,...o.params},data:{...s.data,...o.data},resolve:{...o.data,...s.data,...u?.data,...o._resolvedData}},u&&au(u)&&(a.resolve[Fi]=u.title),a}class Mh{get title(){return this.data?.[Fi]}constructor(s,r,a,u,h,m,C,_,b){this.url=s,this.params=r,this.queryParams=a,this.fragment=u,this.data=h,this.outlet=m,this.component=C,this.routeConfig=_,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zr(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Eh extends tu{constructor(s,r){super(r),this.url=s,_a(this,r)}toString(){return Da(this._root)}}function _a(o,s){s.value._routerState=o,s.children.forEach(r=>_a(o,r))}function Da(o){const s=o.children.length>0?` { ${o.children.map(Da).join(", ")} } `:"";return`${o.value}${s}`}function su(o){if(o.snapshot){const s=o.snapshot,r=o._futureSnapshot;o.snapshot=r,jn(s.queryParams,r.queryParams)||o.queryParamsSubject.next(r.queryParams),s.fragment!==r.fragment&&o.fragmentSubject.next(r.fragment),jn(s.params,r.params)||o.paramsSubject.next(r.params),function nh(o,s){if(o.length!==s.length)return!1;for(let r=0;r<o.length;++r)if(!jn(o[r],s[r]))return!1;return!0}(s.url,r.url)||o.urlSubject.next(r.url),jn(s.data,r.data)||o.dataSubject.next(r.data)}else o.snapshot=o._futureSnapshot,o.dataSubject.next(o._futureSnapshot.data)}function Bn(o,s){const r=jn(o.params,s.params)&&function ql(o,s){return Un(o,s)&&o.every((r,a)=>jn(r.parameters,s[a].parameters))}(o.url,s.url);return r&&!(!o.parent!=!s.parent)&&(!o.parent||Bn(o.parent,s.parent))}function au(o){return"string"==typeof o.title||null===o.title}let Ih=(()=>{class o{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)($o),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.environmentInjector=(0,l.WQX)(l.uvJ),this.inputBinder=(0,l.WQX)(Go,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:a,previousValue:u}=r.name;if(a)return;this.isTrackedInParentContexts(u)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(u)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,a){this.activated=r,this._activatedRoute=a,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,a){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=r;const u=this.location,m=r.snapshot.component,C=this.parentContexts.getOrCreateContext(this.name).children,_=new ba(r,C,u.injector);this.activated=u.createComponent(m,{index:u.length,injector:_,environmentInjector:a??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275dir=l.FsC({type:o,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}}return o})();class ba{__ngOutletInjector(s){return new ba(this.route,this.childContexts,s)}constructor(s,r,a){this.route=s,this.childContexts=r,this.parent=a}get(s,r){return s===Ho?this.route:s===$o?this.childContexts:this.parent.get(s,r)}}const Go=new l.nKC("");function Ki(o,s,r){if(r&&o.shouldReuseRoute(s.value,r.value.snapshot)){const a=r.value;a._futureSnapshot=s.value;const u=function Uv(o,s,r){return s.children.map(a=>{for(const u of r.children)if(o.shouldReuseRoute(a.value,u.value.snapshot))return Ki(o,a,u);return Ki(o,a)})}(o,s,r);return new Dn(a,u)}{if(o.shouldAttach(s.value)){const h=o.retrieve(s.value);if(null!==h){const m=h.route;return m.value._futureSnapshot=s.value,m.children=s.children.map(C=>Ki(o,C)),m}}const a=function $v(o){return new Ho(new ut.t(o.url),new ut.t(o.params),new ut.t(o.queryParams),new ut.t(o.fragment),new ut.t(o.data),o.outlet,o.component,o)}(s.value),u=s.children.map(h=>Ki(o,h));return new Dn(a,u)}}const Bv="ngNavigationCancelingError";function Hv(o,s){const{redirectTo:r,navigationBehaviorOptions:a}=Bi(s)?{redirectTo:s,navigationBehaviorOptions:void 0}:s,u=Yi(!1,At.Redirect);return u.url=r,u.navigationBehaviorOptions=a,u}function Yi(o,s){const r=new Error(`NavigationCancelingError: ${o||""}`);return r[Bv]=!0,r.cancellationCode=s,r}function wa(o){return!!o&&o[Bv]}let Ma=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=l.VBU({type:o,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(a,u){1&a&&l.nrm(0,"router-outlet")},dependencies:[Ih],encapsulation:2})}}return o})();function Ah(o){const s=o.children&&o.children.map(Ah),r=s?{...o,children:s}:{...o};return!r.component&&!r.loadComponent&&(s||r.loadChildren)&&r.outlet&&r.outlet!==fe&&(r.component=Ma),r}function tn(o){return o.outlet||fe}function Ji(o){if(!o)return null;if(o.routeConfig?._injector)return o.routeConfig._injector;for(let s=o.parent;s;s=s.parent){const r=s.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class qv{constructor(s,r,a,u,h){this.routeReuseStrategy=s,this.futureState=r,this.currState=a,this.forwardEvent=u,this.inputBindingEnabled=h}activate(s){const r=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,a,s),su(this.futureState.root),this.activateChildRoutes(r,a,s)}deactivateChildRoutes(s,r,a){const u=Bo(r);s.children.forEach(h=>{const m=h.value.outlet;this.deactivateRoutes(h,u[m],a),delete u[m]}),Object.values(u).forEach(h=>{this.deactivateRouteAndItsChildren(h,a)})}deactivateRoutes(s,r,a){const u=s.value,h=r?r.value:null;if(u===h)if(u.component){const m=a.getContext(u.outlet);m&&this.deactivateChildRoutes(s,r,m.children)}else this.deactivateChildRoutes(s,r,a);else h&&this.deactivateRouteAndItsChildren(r,a)}deactivateRouteAndItsChildren(s,r){s.value.component&&this.routeReuseStrategy.shouldDetach(s.value.snapshot)?this.detachAndStoreRouteSubtree(s,r):this.deactivateRouteAndOutlet(s,r)}detachAndStoreRouteSubtree(s,r){const a=r.getContext(s.value.outlet),u=a&&s.value.component?a.children:r,h=Bo(s);for(const m of Object.values(h))this.deactivateRouteAndItsChildren(m,u);if(a&&a.outlet){const m=a.outlet.detach(),C=a.children.onOutletDeactivated();this.routeReuseStrategy.store(s.value.snapshot,{componentRef:m,route:s,contexts:C})}}deactivateRouteAndOutlet(s,r){const a=r.getContext(s.value.outlet),u=a&&s.value.component?a.children:r,h=Bo(s);for(const m of Object.values(h))this.deactivateRouteAndItsChildren(m,u);a&&(a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated()),a.attachRef=null,a.route=null)}activateChildRoutes(s,r,a){const u=Bo(r);s.children.forEach(h=>{this.activateRoutes(h,u[h.value.outlet],a),this.forwardEvent(new Dh(h.value.snapshot))}),s.children.length&&this.forwardEvent(new xv(s.value.snapshot))}activateRoutes(s,r,a){const u=s.value,h=r?r.value:null;if(su(u),u===h)if(u.component){const m=a.getOrCreateContext(u.outlet);this.activateChildRoutes(s,r,m.children)}else this.activateChildRoutes(s,r,a);else if(u.component){const m=a.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const C=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),m.children.onOutletReAttached(C.contexts),m.attachRef=C.componentRef,m.route=C.route.value,m.outlet&&m.outlet.attach(C.componentRef,C.route.value),su(C.route.value),this.activateChildRoutes(s,null,m.children)}else{const C=Ji(u.snapshot);m.attachRef=null,m.route=u,m.injector=C,m.outlet&&m.outlet.activateWith(u,m.injector),this.activateChildRoutes(s,null,m.children)}}else this.activateChildRoutes(s,null,a)}}class Sa{constructor(s){this.path=s,this.route=this.path[this.path.length-1]}}class es{constructor(s,r){this.component=s,this.route=r}}function Xv(o,s,r){const a=o._root;return qo(a,s?s._root:null,r,[a.value])}function Hn(o,s){const r=Symbol(),a=s.get(o,r);return a===r?"function"!=typeof o||(0,l.LfX)(o)?s.get(o):o:a}function qo(o,s,r,a,u={canDeactivateChecks:[],canActivateChecks:[]}){const h=Bo(s);return o.children.forEach(m=>{(function uu(o,s,r,a,u={canDeactivateChecks:[],canActivateChecks:[]}){const h=o.value,m=s?s.value:null,C=r?r.getContext(o.value.outlet):null;if(m&&h.routeConfig===m.routeConfig){const _=function Kv(o,s,r){if("function"==typeof r)return r(o,s);switch(r){case"pathParamsChange":return!Un(o.url,s.url);case"pathParamsOrQueryParamsChange":return!Un(o.url,s.url)||!jn(o.queryParams,s.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bn(o,s)||!jn(o.queryParams,s.queryParams);default:return!Bn(o,s)}}(m,h,h.routeConfig.runGuardsAndResolvers);_?u.canActivateChecks.push(new Sa(a)):(h.data=m.data,h._resolvedData=m._resolvedData),qo(o,s,h.component?C?C.children:null:r,a,u),_&&C&&C.outlet&&C.outlet.isActivated&&u.canDeactivateChecks.push(new es(C.outlet.component,m))}else m&&Ta(s,C,u),u.canActivateChecks.push(new Sa(a)),qo(o,null,h.component?C?C.children:null:r,a,u)})(m,h[m.value.outlet],r,a.concat([m.value]),u),delete h[m.value.outlet]}),Object.entries(h).forEach(([m,C])=>Ta(C,r.getContext(m),u)),u}function Ta(o,s,r){const a=Bo(o),u=o.value;Object.entries(a).forEach(([h,m])=>{Ta(m,u.component?s?s.children.getContext(h):null:s,r)}),r.canDeactivateChecks.push(new es(u.component&&s&&s.outlet&&s.outlet.isActivated?s.outlet.component:null,u))}function Oa(o){return"function"==typeof o}function Na(o){return o instanceof Oo||"EmptyError"===o?.name}const Qr=Symbol("INITIAL_VALUE");function tr(){return Fn(o=>Wl(o.map(s=>s.pipe(Ri(1),function jD(...o){const s=To(o);return(0,Xe.N)((r,a)=>{(s?Po(o,r,s):Po(o,r)).subscribe(a)})}(Qr)))).pipe((0,X.T)(s=>{for(const r of s)if(!0!==r){if(r===Qr)return Qr;if(!1===r||r instanceof Jn)return r}return!0}),Ln(s=>s!==Qr),Ri(1)))}function ns(o){return(0,Qf.F)(kt(s=>{if(Bi(s))throw Hv(0,s)}),(0,X.T)(s=>!0===s))}class xa{constructor(s){this.segmentGroup=s||null}}class Ra extends Error{constructor(s){super(),this.urlTree=s}}function Kr(o){return Ai(new xa(o))}class oy{constructor(s,r){this.urlSerializer=s,this.urlTree=r}lineralizeSegments(s,r){let a=[],u=r.root;for(;;){if(a=a.concat(u.segments),0===u.numberOfChildren)return le(a);if(u.numberOfChildren>1||!u.children[fe])return Ai(new l.wOt(4e3,!1));u=u.children[fe]}}applyRedirectCommands(s,r,a){const u=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),s,a);if(r.startsWith("/"))throw new Ra(u);return u}applyRedirectCreateUrlTree(s,r,a,u){const h=this.createSegmentGroup(s,r.root,a,u);return new Jn(h,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(s,r){const a={};return Object.entries(s).forEach(([u,h])=>{if("string"==typeof h&&h.startsWith(":")){const C=h.substring(1);a[u]=r[C]}else a[u]=h}),a}createSegmentGroup(s,r,a,u){const h=this.createSegments(s,r.segments,a,u);let m={};return Object.entries(r.children).forEach(([C,_])=>{m[C]=this.createSegmentGroup(s,_,a,u)}),new Pe(h,m)}createSegments(s,r,a,u){return r.map(h=>h.path.startsWith(":")?this.findPosParam(s,h,u):this.findOrReturn(h,a))}findPosParam(s,r,a){const u=a[r.path.substring(1)];if(!u)throw new l.wOt(4001,!1);return u}findOrReturn(s,r){let a=0;for(const u of r){if(u.path===s.path)return r.splice(a),u;a++}return s}}const pu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iy(o,s,r,a,u){const h=Gn(o,s,r);return h.matched?(a=function zo(o,s){return o.providers&&!o._injector&&(o._injector=(0,l.Ol2)(o.providers,s,`Route: ${o.path}`)),o._injector??s}(s,a),function hu(o,s,r,a){const u=s.canMatch;return u&&0!==u.length?le(u.map(m=>{const C=Hn(m,o);return Zn(function Nh(o){return o&&Oa(o.canMatch)}(C)?C.canMatch(s,r):(0,l.N4e)(o,()=>C(s,r)))})).pipe(tr(),ns()):le(!0)}(a,s,r).pipe((0,X.T)(m=>!0===m?h:{...pu}))):le(h)}function Gn(o,s,r){if("**"===s.path)return function rs(o){return{matched:!0,parameters:o.length>0?rh(o).parameters:{},consumedSegments:o,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===s.path)return"full"===s.pathMatch&&(o.hasChildren()||r.length>0)?{...pu}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const u=(s.matcher||th)(r,o,s);if(!u)return{...pu};const h={};Object.entries(u.posParams??{}).forEach(([C,_])=>{h[C]=_.path});const m=u.consumed.length>0?{...h,...u.consumed[u.consumed.length-1].parameters}:h;return{matched:!0,consumedSegments:u.consumed,remainingSegments:r.slice(u.consumed.length),parameters:m,positionalParamSegments:u.posParams??{}}}function kh(o,s,r,a){return r.length>0&&function qD(o,s,r){return r.some(a=>gu(o,s,a)&&tn(a)!==fe)}(o,r,a)?{segmentGroup:new Pe(s,WD(a,new Pe(r,o.children))),slicedSegments:[]}:0===r.length&&function XD(o,s,r){return r.some(a=>gu(o,s,a))}(o,r,a)?{segmentGroup:new Pe(o.segments,zD(o,r,a,o.children)),slicedSegments:r}:{segmentGroup:new Pe(o.segments,o.children),slicedSegments:r}}function zD(o,s,r,a){const u={};for(const h of r)if(gu(o,s,h)&&!a[tn(h)]){const m=new Pe([],{});u[tn(h)]=m}return{...a,...u}}function WD(o,s){const r={};r[fe]=s;for(const a of o)if(""===a.path&&tn(a)!==fe){const u=new Pe([],{});r[tn(a)]=u}return r}function gu(o,s,r){return(!(o.hasChildren()||s.length>0)||"full"!==r.pathMatch)&&""===r.path}class ay{}class mu{constructor(s,r,a,u,h,m,C){this.injector=s,this.configLoader=r,this.rootComponentType=a,this.config=u,this.urlTree=h,this.paramsInheritanceStrategy=m,this.urlSerializer=C,this.applyRedirects=new oy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(s){return new l.wOt(4002,`'${s.segmentGroup}'`)}recognize(){const s=kh(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(s).pipe((0,X.T)(r=>{const a=new Mh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},fe,this.rootComponentType,null,{}),u=new Dn(a,r),h=new Eh("",u),m=function Iv(o,s,r=null,a=null){return Vo(Xr(o),s,r,a)}(a,[],this.urlTree.queryParams,this.urlTree.fragment);return m.queryParams=this.urlTree.queryParams,h.url=this.urlSerializer.serialize(m),this.inheritParamsAndData(h._root,null),{state:h,tree:m}}))}match(s){return this.processSegmentGroup(this.injector,this.config,s,fe).pipe(Gr(a=>{if(a instanceof Ra)return this.urlTree=a.urlTree,this.match(a.urlTree.root);throw a instanceof xa?this.noMatchError(a):a}))}inheritParamsAndData(s,r){const a=s.value,u=iu(a,r,this.paramsInheritanceStrategy);a.params=Object.freeze(u.params),a.data=Object.freeze(u.data),s.children.forEach(h=>this.inheritParamsAndData(h,a))}processSegmentGroup(s,r,a,u){return 0===a.segments.length&&a.hasChildren()?this.processChildren(s,r,a):this.processSegment(s,r,a,a.segments,u,!0).pipe((0,X.T)(h=>h instanceof Dn?[h]:[]))}processChildren(s,r,a){const u=[];for(const h of Object.keys(a.children))"primary"===h?u.unshift(h):u.push(h);return ht(u).pipe(mr(h=>{const m=a.children[h],C=function Zi(o,s){const r=o.filter(a=>tn(a)===s);return r.push(...o.filter(a=>tn(a)!==s)),r}(r,h);return this.processSegmentGroup(s,C,m,h)}),function yv(o,s){return(0,Xe.N)(function Zf(o,s,r,a,u){return(h,m)=>{let C=r,_=s,b=0;h.subscribe((0,Ke._)(m,T=>{const I=b++;_=C?o(_,T,I):(C=!0,T),a&&m.next(_)},u&&(()=>{C&&m.next(_),m.complete()})))}}(o,s,arguments.length>=2,!0))}((h,m)=>(h.push(...m),h)),gr(null),function Cv(o,s){const r=arguments.length>=2;return a=>a.pipe(o?Ln((u,h)=>o(u,h,a)):Gt.D,en(1),r?gr(s):Yf(()=>new Oo))}(),Ot(h=>{if(null===h)return Kr(a);const m=vu(h);return function nr(o){o.sort((s,r)=>s.value.outlet===fe?-1:r.value.outlet===fe?1:s.value.outlet.localeCompare(r.value.outlet))}(m),le(m)}))}processSegment(s,r,a,u,h,m){return ht(r).pipe(mr(C=>this.processSegmentAgainstRoute(C._injector??s,r,C,a,u,h,m).pipe(Gr(_=>{if(_ instanceof xa)return le(null);throw _}))),Yn(C=>!!C),Gr(C=>{if(Na(C))return function sy(o,s,r){return 0===s.length&&!o.children[r]}(a,u,h)?le(new ay):Kr(a);throw C}))}processSegmentAgainstRoute(s,r,a,u,h,m,C){return function Fh(o,s,r,a){return!!(tn(o)===a||a!==fe&&gu(s,r,o))&&Gn(s,o,r).matched}(a,u,h,m)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(s,u,a,h,m):this.allowRedirects&&C?this.expandSegmentAgainstRouteUsingRedirect(s,u,r,a,h,m):Kr(u):Kr(u)}expandSegmentAgainstRouteUsingRedirect(s,r,a,u,h,m){const{matched:C,consumedSegments:_,positionalParamSegments:b,remainingSegments:T}=Gn(r,u,h);if(!C)return Kr(r);u.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const I=this.applyRedirects.applyRedirectCommands(_,u.redirectTo,b);return this.applyRedirects.lineralizeSegments(u,I).pipe(Ot(F=>this.processSegment(s,a,r,F.concat(T),m,!1)))}matchSegmentAgainstRoute(s,r,a,u,h){const m=iy(r,a,u,s);return"**"===a.path&&(r.children={}),m.pipe(Fn(C=>C.matched?this.getChildConfig(s=a._injector??s,a,u).pipe(Fn(({routes:_})=>{const b=a._loadedInjector??s,{consumedSegments:T,remainingSegments:I,parameters:F}=C,V=new Mh(T,F,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Lh(o){return o.data||{}}(a),tn(a),a.component??a._loadedComponent??null,a,function QD(o){return o.resolve||{}}(a)),{segmentGroup:q,slicedSegments:W}=kh(r,T,I,_);if(0===W.length&&q.hasChildren())return this.processChildren(b,_,q).pipe((0,X.T)(re=>null===re?null:new Dn(V,re)));if(0===_.length&&0===W.length)return le(new Dn(V,[]));const U=tn(a)===h;return this.processSegment(b,_,q,W,U?fe:h,!0).pipe((0,X.T)(re=>new Dn(V,re instanceof Dn?[re]:[])))})):Kr(r)))}getChildConfig(s,r,a){return r.children?le({routes:r.children,injector:s}):r.loadChildren?void 0!==r._loadedRoutes?le({routes:r._loadedRoutes,injector:r._loadedInjector}):function GD(o,s,r,a){const u=s.canLoad;return void 0===u||0===u.length?le(!0):le(u.map(m=>{const C=Hn(m,o);return Zn(function Yv(o){return o&&Oa(o.canLoad)}(C)?C.canLoad(s,r):(0,l.N4e)(o,()=>C(s,r)))})).pipe(tr(),ns())}(s,r,a).pipe(Ot(u=>u?this.configLoader.loadChildren(s,r).pipe(kt(h=>{r._loadedRoutes=h.routes,r._loadedInjector=h.injector})):function ry(o){return Ai(Yi(!1,At.GuardRejected))}())):le({routes:[],injector:s})}}function os(o){const s=o.value.routeConfig;return s&&""===s.path}function vu(o){const s=[],r=new Set;for(const a of o){if(!os(a)){s.push(a);continue}const u=s.find(h=>a.value.routeConfig===h.value.routeConfig);void 0!==u?(u.children.push(...a.children),r.add(u)):s.push(a)}for(const a of r){const u=vu(a.children);s.push(new Dn(a.value,u))}return s.filter(a=>!r.has(a))}function ka(o){const s=o.children.map(r=>ka(r)).flat();return[o,...s]}function Fa(o){return Fn(s=>{const r=o(s);return r?ht(r).pipe((0,X.T)(()=>s)):le(s)})}let Vh=(()=>{class o{buildTitle(r){let a,u=r.root;for(;void 0!==u;)a=this.getResolvedTitleForRoute(u)??a,u=u.children.find(h=>h.outlet===fe);return a}getResolvedTitleForRoute(r){return r.data[Fi]}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:()=>(0,l.WQX)(dy),providedIn:"root"})}}return o})(),dy=(()=>{class o extends Vh{constructor(r){super(),this.title=r}updateTitle(r){const a=this.buildTitle(r);void 0!==a&&this.title.setTitle(a)}static{this.\u0275fac=function(a){return new(a||o)(l.KVO($r))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const is=new l.nKC("",{providedIn:"root",factory:()=>({})}),La=new l.nKC("");let jh=(()=>{class o{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return le(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const a=Zn(r.loadComponent()).pipe((0,X.T)(Bh),kt(h=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=h}),xo(()=>{this.componentLoaders.delete(r)})),u=new Kf(a,()=>new Jt.B).pipe(xi());return this.componentLoaders.set(r,u),u}loadChildren(r,a){if(this.childrenLoaders.get(a))return this.childrenLoaders.get(a);if(a._loadedRoutes)return le({routes:a._loadedRoutes,injector:a._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(a);const h=function Uh(o,s,r,a){return Zn(o.loadChildren()).pipe((0,X.T)(Bh),Ot(u=>u instanceof l.Co$||Array.isArray(u)?le(u):ht(s.compileModuleAsync(u))),(0,X.T)(u=>{a&&a(o);let h,m,C=!1;return Array.isArray(u)?(m=u,!0):(h=u.create(r).injector,m=h.get(La,[],{optional:!0,self:!0}).flat()),{routes:m.map(Ah),injector:h}}))}(a,this.compiler,r,this.onLoadEndListener).pipe(xo(()=>{this.childrenLoaders.delete(a)})),m=new Kf(h,()=>new Jt.B).pipe(xi());return this.childrenLoaders.set(a,m),m}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function Bh(o){return function $h(o){return o&&"object"==typeof o&&"default"in o}(o)?o.default:o}let Cu=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:()=>(0,l.WQX)(Hh),providedIn:"root"})}}return o})(),Hh=(()=>{class o{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,a){return r}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const ss=new l.nKC("");let rr=(()=>{class o{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Jt.B,this.transitionAbortSubject=new Jt.B,this.configLoader=(0,l.WQX)(jh),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(Fo),this.rootContexts=(0,l.WQX)($o),this.location=(0,l.WQX)(ct),this.inputBindingEnabled=null!==(0,l.WQX)(Go,{optional:!0}),this.titleStrategy=(0,l.WQX)(Vh),this.options=(0,l.WQX)(is,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.WQX)(Cu),this.createViewTransition=(0,l.WQX)(ss,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>le(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=u=>this.events.next(new Nv(u)),this.configLoader.onLoadStartListener=u=>this.events.next(new _h(u))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const a=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:a})}setupNavigations(r,a,u){return this.transitions=new ut.t({id:0,currentUrlTree:a,currentRawUrl:a,extractedUrl:this.urlHandlingStrategy.extract(a),urlAfterRedirects:this.urlHandlingStrategy.extract(a),rawUrl:a,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qi,restoredState:null,currentSnapshot:u.snapshot,targetSnapshot:null,currentRouterState:u,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ln(h=>0!==h.id),(0,X.T)(h=>({...h,extractedUrl:this.urlHandlingStrategy.extract(h.rawUrl)})),Fn(h=>{let m=!1,C=!1;return le(h).pipe(Fn(_=>{if(this.navigationId>h.id)return this.cancelNavigationTransition(h,"",At.SupersededByNewNavigation),kn;this.currentTransition=h,this.currentNavigation={id:_.id,initialUrl:_.rawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const b=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!b&&"reload"!==(_.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const I="";return this.events.next(new jo(_.id,this.urlSerializer.serialize(_.rawUrl),I,dt.IgnoredSameUrlNavigation)),_.resolve(null),kn}if(this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return le(_).pipe(Fn(I=>{const F=this.transitions?.getValue();return this.events.next(new Xi(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),F!==this.transitions?.getValue()?kn:Promise.resolve(I)}),function KD(o,s,r,a,u,h){return Ot(m=>function cy(o,s,r,a,u,h,m="emptyOnly"){return new mu(o,s,r,a,u,m,h).recognize()}(o,s,r,a,m.extractedUrl,u,h).pipe((0,X.T)(({state:C,tree:_})=>({...m,targetSnapshot:C,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),kt(I=>{h.targetSnapshot=I.targetSnapshot,h.urlAfterRedirects=I.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects};const F=new vh(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(F)}));if(b&&this.urlHandlingStrategy.shouldProcessUrl(_.currentRawUrl)){const{id:I,extractedUrl:F,source:V,restoredState:q,extras:W}=_,U=new Xi(I,this.urlSerializer.serialize(F),V,q);this.events.next(U);const re=Lv(this.rootComponentType).snapshot;return this.currentTransition=h={..._,targetSnapshot:re,urlAfterRedirects:F,extras:{...W,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=F,le(h)}{const I="";return this.events.next(new jo(_.id,this.urlSerializer.serialize(_.extractedUrl),I,dt.IgnoredByUrlHandlingStrategy)),_.resolve(null),kn}}),kt(_=>{const b=new yh(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(b)}),(0,X.T)(_=>(this.currentTransition=h={..._,guards:Xv(_.targetSnapshot,_.currentSnapshot,this.rootContexts)},h)),function Ph(o,s){return Ot(r=>{const{targetSnapshot:a,currentSnapshot:u,guards:{canActivateChecks:h,canDeactivateChecks:m}}=r;return 0===m.length&&0===h.length?le({...r,guardsResult:!0}):function xh(o,s,r,a){return ht(o).pipe(Ot(u=>function ey(o,s,r,a,u){const h=s&&s.routeConfig?s.routeConfig.canDeactivate:null;return h&&0!==h.length?le(h.map(C=>{const _=Ji(s)??u,b=Hn(C,_);return Zn(function Zv(o){return o&&Oa(o.canDeactivate)}(b)?b.canDeactivate(o,s,r,a):(0,l.N4e)(_,()=>b(o,s,r,a))).pipe(Yn())})).pipe(tr()):le(!0)}(u.component,u.route,r,s,a)),Yn(u=>!0!==u,!0))}(m,a,u,o).pipe(Ot(C=>C&&function ts(o){return"boolean"==typeof o}(C)?function Rh(o,s,r,a){return ht(s).pipe(mr(u=>Po(function fu(o,s){return null!==o&&s&&s(new Pv(o)),le(!0)}(u.route.parent,a),function Pa(o,s){return null!==o&&s&&s(new Rv(o)),le(!0)}(u.route,a),function Jv(o,s,r){const a=s[s.length-1],h=s.slice(0,s.length-1).reverse().map(m=>function Qv(o){const s=o.routeConfig?o.routeConfig.canActivateChild:null;return s&&0!==s.length?{node:o,guards:s}:null}(m)).filter(m=>null!==m).map(m=>pa(()=>le(m.guards.map(_=>{const b=Ji(m.node)??r,T=Hn(_,b);return Zn(function du(o){return o&&Oa(o.canActivateChild)}(T)?T.canActivateChild(a,o):(0,l.N4e)(b,()=>T(a,o))).pipe(Yn())})).pipe(tr())));return le(h).pipe(tr())}(o,u.path,r),function Xo(o,s,r){const a=s.routeConfig?s.routeConfig.canActivate:null;if(!a||0===a.length)return le(!0);const u=a.map(h=>pa(()=>{const m=Ji(s)??r,C=Hn(h,m);return Zn(function Aa(o){return o&&Oa(o.canActivate)}(C)?C.canActivate(s,o):(0,l.N4e)(m,()=>C(s,o))).pipe(Yn())}));return le(u).pipe(tr())}(o,u.route,r))),Yn(u=>!0!==u,!0))}(a,h,o,s):le(C)),(0,X.T)(C=>({...r,guardsResult:C})))})}(this.environmentInjector,_=>this.events.next(_)),kt(_=>{if(h.guardsResult=_.guardsResult,Bi(_.guardsResult))throw Hv(0,_.guardsResult);const b=new Ov(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.events.next(b)}),Ln(_=>!!_.guardsResult||(this.cancelNavigationTransition(_,"",At.GuardRejected),!1)),Fa(_=>{if(_.guards.canActivateChecks.length)return le(_).pipe(kt(b=>{const T=new Ch(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(T)}),Fn(b=>{let T=!1;return le(b).pipe(function YD(o,s){return Ot(r=>{const{targetSnapshot:a,guards:{canActivateChecks:u}}=r;if(!u.length)return le(r);const h=new Set(u.map(_=>_.route)),m=new Set;for(const _ of h)if(!m.has(_))for(const b of ka(_))m.add(b);let C=0;return ht(m).pipe(mr(_=>h.has(_)?function yu(o,s,r,a){const u=o.routeConfig,h=o._resolve;return void 0!==u?.title&&!au(u)&&(h[Fi]=u.title),function ZD(o,s,r,a){const u=Ro(o);if(0===u.length)return le({});const h={};return ht(u).pipe(Ot(m=>function JD(o,s,r,a){const u=Ji(s)??a,h=Hn(o,u);return Zn(h.resolve?h.resolve(s,r):(0,l.N4e)(u,()=>h(s,r)))}(o[m],s,r,a).pipe(Yn(),kt(C=>{h[m]=C}))),en(1),function ma(o){return(0,X.T)(()=>o)}(h),Gr(m=>Na(m)?kn:Ai(m)))}(h,o,s,a).pipe((0,X.T)(m=>(o._resolvedData=m,o.data=iu(o,o.parent,r).resolve,null)))}(_,a,o,s):(_.data=iu(_,_.parent,o).resolve,le(void 0))),kt(()=>C++),en(1),Ot(_=>C===m.size?le(r):kn))})}(this.paramsInheritanceStrategy,this.environmentInjector),kt({next:()=>T=!0,complete:()=>{T||this.cancelNavigationTransition(b,"",At.NoDataFromResolver)}}))}),kt(b=>{const T=new Av(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(T)}))}),Fa(_=>{const b=T=>{const I=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(T.routeConfig).pipe(kt(F=>{T.component=F}),(0,X.T)(()=>{})));for(const F of T.children)I.push(...b(F));return I};return Wl(b(_.targetSnapshot.root)).pipe(gr(null),Ri(1))}),Fa(()=>this.afterPreactivation()),Fn(()=>{const{currentSnapshot:_,targetSnapshot:b}=h,T=this.createViewTransition?.(this.environmentInjector,_.root,b.root);return T?ht(T).pipe((0,X.T)(()=>h)):le(h)}),(0,X.T)(_=>{const b=function jv(o,s,r){const a=Ki(o,s._root,r?r._root:void 0);return new ou(a,s)}(r.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return this.currentTransition=h={..._,targetRouterState:b},this.currentNavigation.targetRouterState=b,h}),kt(()=>{this.events.next(new Ca)}),((o,s,r,a)=>(0,X.T)(u=>(new qv(s,u.targetRouterState,u.currentRouterState,r,a).activate(o),u)))(this.rootContexts,r.routeReuseStrategy,_=>this.events.next(_),this.inputBindingEnabled),Ri(1),kt({next:_=>{m=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _r(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects))),this.titleStrategy?.updateTitle(_.targetRouterState.snapshot),_.resolve(!0)},complete:()=>{m=!0}}),Vn(this.transitionAbortSubject.pipe(kt(_=>{throw _}))),xo(()=>{!m&&!C&&this.cancelNavigationTransition(h,"",At.SupersededByNewNavigation),this.currentTransition?.id===h.id&&(this.currentNavigation=null,this.currentTransition=null)}),Gr(_=>{if(C=!0,wa(_))this.events.next(new $n(h.id,this.urlSerializer.serialize(h.extractedUrl),_.message,_.cancellationCode)),function Gv(o){return wa(o)&&Bi(o.url)}(_)?this.events.next(new Uo(_.url)):h.resolve(!1);else{this.events.next(new Qi(h.id,this.urlSerializer.serialize(h.extractedUrl),_,h.targetSnapshot??void 0));try{h.resolve(r.errorHandler(_))}catch(b){this.options.resolveNavigationPromiseOnError?h.resolve(!1):h.reject(b)}}return kn}))}))}cancelNavigationTransition(r,a,u){const h=new $n(r.id,this.urlSerializer.serialize(r.extractedUrl),a,u);this.events.next(h),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function zh(o){return o!==qi}let hy=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:()=>(0,l.WQX)(qh),providedIn:"root"})}}return o})();class Wh{shouldDetach(s){return!1}store(s,r){}shouldAttach(s){return!1}retrieve(s){return null}shouldReuseRoute(s,r){return s.routeConfig===r.routeConfig}}let qh=(()=>{class o extends Wh{static{this.\u0275fac=(()=>{let r;return function(u){return(r||(r=l.xGo(o)))(u||o)}})()}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),Xh=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:()=>(0,l.WQX)(py),providedIn:"root"})}}return o})(),py=(()=>{class o extends Xh{constructor(){super(...arguments),this.location=(0,l.WQX)(ct),this.urlSerializer=(0,l.WQX)(Fo),this.options=(0,l.WQX)(is,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.WQX)(Cu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Jn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Lv(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(a=>{"popstate"===a.type&&r(a.url,a.state)})}handleRouterEvent(r,a){if(r instanceof Xi)this.stateMemento=this.createStateMemento();else if(r instanceof jo)this.rawUrlTree=a.initialUrl;else if(r instanceof vh){if("eager"===this.urlUpdateStrategy&&!a.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(a.finalUrl,a.initialUrl);this.setBrowserUrl(u,a)}}else r instanceof Ca?(this.currentUrlTree=a.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(a.finalUrl,a.initialUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a))):r instanceof $n&&(r.code===At.GuardRejected||r.code===At.NoDataFromResolver)?this.restoreHistory(a):r instanceof Qi?this.restoreHistory(a,!0):r instanceof _r&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,a){const u=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(u)||a.extras.replaceUrl){const m={...a.extras.state,...this.generateNgRouterState(a.id,this.browserPageId)};this.location.replaceState(u,"",m)}else{const h={...a.extras.state,...this.generateNgRouterState(a.id,this.browserPageId+1)};this.location.go(u,"",h)}}restoreHistory(r,a=!1){if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-this.browserPageId;0!==h?this.location.historyGo(h):this.currentUrlTree===r.finalUrl&&0===h&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,a){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:a}:{navigationId:r}}static{this.\u0275fac=(()=>{let r;return function(u){return(r||(r=l.xGo(o)))(u||o)}})()}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var as=function(o){return o[o.COMPLETE=0]="COMPLETE",o[o.FAILED=1]="FAILED",o[o.REDIRECTING=2]="REDIRECTING",o}(as||{});function Kh(o){throw o}const eb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zt=(()=>{class o{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,l.WQX)(l.H3F),this.stateManager=(0,l.WQX)(Xh),this.options=(0,l.WQX)(is,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.WQX)(rr),this.urlSerializer=(0,l.WQX)(Fo),this.location=(0,l.WQX)(ct),this.urlHandlingStrategy=(0,l.WQX)(Cu),this._events=new Jt.B,this.errorHandler=this.options.errorHandler||Kh,this.navigated=!1,this.routeReuseStrategy=(0,l.WQX)(hy),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,l.WQX)(La,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,l.WQX)(Go,{optional:!0}),this.eventsSubscription=new ga.yU,this.isNgZoneEnabled=(0,l.WQX)(l.SKi)instanceof l.SKi&&l.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(a=>{try{const u=this.navigationTransitions.currentTransition,h=this.navigationTransitions.currentNavigation;if(null!==u&&null!==h)if(this.stateManager.handleRouterEvent(a,h),a instanceof $n&&a.code!==At.Redirect&&a.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(a instanceof _r)this.navigated=!0;else if(a instanceof Uo){const m=this.urlHandlingStrategy.merge(a.url,u.currentRawUrl),C={info:u.extras.info,skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zh(u.source)};this.scheduleNavigation(m,qi,null,C,{resolve:u.resolve,reject:u.reject,promise:u.promise})}(function my(o){return!(o instanceof Ca||o instanceof Uo)})(a)&&this._events.next(a)}catch(u){this.navigationTransitions.transitionAbortSubject.next(u)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,a)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",a)},0)})}navigateToSyncWithBrowser(r,a,u){const h={replaceUrl:!0},m=u?.navigationId?u:null;if(u){const _={...u};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(h.state=_)}const C=this.parseUrl(r);this.scheduleNavigation(C,a,m,h)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ah),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,a={}){const{relativeTo:u,queryParams:h,fragment:m,queryParamsHandling:C,preserveFragment:_}=a,b=_?this.currentUrlTree.fragment:m;let I,T=null;switch(C){case"merge":T={...this.currentUrlTree.queryParams,...h};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=h||null}null!==T&&(T=this.removeEmptyProps(T));try{I=Xr(u?u.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),I=this.currentUrlTree.root}return Vo(I,r,T,b??null)}navigateByUrl(r,a={skipLocationChange:!1}){const u=Bi(r)?r:this.parseUrl(r),h=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(h,qi,null,a)}navigate(r,a={skipLocationChange:!1}){return function gy(o){for(let s=0;s<o.length;s++)if(null==o[s])throw new l.wOt(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,a),a)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,a){let u;if(u=!0===a?{...eb}:!1===a?{...tb}:a,Bi(r))return qr(this.currentUrlTree,r,u);const h=this.parseUrl(r);return qr(this.currentUrlTree,h,u)}removeEmptyProps(r){return Object.entries(r).reduce((a,[u,h])=>(null!=h&&(a[u]=h),a),{})}scheduleNavigation(r,a,u,h,m){if(this.disposed)return Promise.resolve(!1);let C,_,b;m?(C=m.resolve,_=m.reject,b=m.promise):b=new Promise((I,F)=>{C=I,_=F});const T=this.pendingTasks.add();return function Qh(o,s){o.events.pipe(Ln(r=>r instanceof _r||r instanceof $n||r instanceof Qi||r instanceof jo),(0,X.T)(r=>r instanceof _r||r instanceof jo?as.COMPLETE:r instanceof $n&&(r.code===At.Redirect||r.code===At.SupersededByNewNavigation)?as.REDIRECTING:as.FAILED),Ln(r=>r!==as.REDIRECTING),Ri(1)).subscribe(()=>{s()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:a,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:h,resolve:C,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(I=>Promise.reject(I))}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const bu=new l.nKC("");function _y(o){return o.routerState.root}function Dy(){const o=(0,l.WQX)(l.zZn);return s=>{const r=o.get(l.o8S);if(s!==r.components[0])return;const a=o.get(zt),u=o.get(Zh);1===o.get(Qo)&&a.initialNavigation(),o.get(Mu,null,l.$GK.Optional)?.setUpPreloading(),o.get(bu,null,l.$GK.Optional)?.init(),a.resetRootComponentType(r.componentTypes[0]),u.closed||(u.next(),u.complete(),u.unsubscribe())}}const Zh=new l.nKC("",{factory:()=>new Jt.B}),Qo=new l.nKC("",{providedIn:"root",factory:()=>1}),Mu=new l.nKC("");class $a{}class Ba{}class Wt{constructor(s){this.normalizedNames=new Map,this.lazyUpdate=null,s?"string"==typeof s?this.lazyInit=()=>{this.headers=new Map,s.split("\n").forEach(r=>{const a=r.indexOf(":");if(a>0){const u=r.slice(0,a),h=u.toLowerCase(),m=r.slice(a+1).trim();this.maybeSetNormalizedName(u,h),this.headers.has(h)?this.headers.get(h).push(m):this.headers.set(h,[m])}})}:typeof Headers<"u"&&s instanceof Headers?(this.headers=new Map,s.forEach((r,a)=>{this.setHeaderEntries(a,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(s).forEach(([r,a])=>{this.setHeaderEntries(r,a)})}:this.headers=new Map}has(s){return this.init(),this.headers.has(s.toLowerCase())}get(s){this.init();const r=this.headers.get(s.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(s){return this.init(),this.headers.get(s.toLowerCase())||null}append(s,r){return this.clone({name:s,value:r,op:"a"})}set(s,r){return this.clone({name:s,value:r,op:"s"})}delete(s,r){return this.clone({name:s,value:r,op:"d"})}maybeSetNormalizedName(s,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,s)}init(){this.lazyInit&&(this.lazyInit instanceof Wt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(s=>this.applyUpdate(s)),this.lazyUpdate=null))}copyFrom(s){s.init(),Array.from(s.headers.keys()).forEach(r=>{this.headers.set(r,s.headers.get(r)),this.normalizedNames.set(r,s.normalizedNames.get(r))})}clone(s){const r=new Wt;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Wt?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([s]),r}applyUpdate(s){const r=s.name.toLowerCase();switch(s.op){case"a":case"s":let a=s.value;if("string"==typeof a&&(a=[a]),0===a.length)return;this.maybeSetNormalizedName(s.name,r);const u=("a"===s.op?this.headers.get(r):void 0)||[];u.push(...a),this.headers.set(r,u);break;case"d":const h=s.value;if(h){let m=this.headers.get(r);if(!m)return;m=m.filter(C=>-1===h.indexOf(C)),0===m.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,m)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(s,r){const a=(Array.isArray(r)?r:[r]).map(h=>h.toString()),u=s.toLowerCase();this.headers.set(u,a),this.maybeSetNormalizedName(s,u)}forEach(s){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>s(this.normalizedNames.get(r),this.headers.get(r)))}}class Oy{encodeKey(s){return ds(s)}encodeValue(s){return ds(s)}decodeKey(s){return decodeURIComponent(s)}decodeValue(s){return decodeURIComponent(s)}}const np=/%(\d[a-f0-9])/gi,us={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ds(o){return encodeURIComponent(o).replace(np,(s,r)=>us[r]??s)}function Ko(o){return`${o}`}class or{constructor(s={}){if(this.updates=null,this.cloneFrom=null,this.encoder=s.encoder||new Oy,s.fromString){if(s.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ay(o,s){const r=new Map;return o.length>0&&o.replace(/^\?/,"").split("&").forEach(u=>{const h=u.indexOf("="),[m,C]=-1==h?[s.decodeKey(u),""]:[s.decodeKey(u.slice(0,h)),s.decodeValue(u.slice(h+1))],_=r.get(m)||[];_.push(C),r.set(m,_)}),r}(s.fromString,this.encoder)}else s.fromObject?(this.map=new Map,Object.keys(s.fromObject).forEach(r=>{const a=s.fromObject[r],u=Array.isArray(a)?a.map(Ko):[Ko(a)];this.map.set(r,u)})):this.map=null}has(s){return this.init(),this.map.has(s)}get(s){this.init();const r=this.map.get(s);return r?r[0]:null}getAll(s){return this.init(),this.map.get(s)||null}keys(){return this.init(),Array.from(this.map.keys())}append(s,r){return this.clone({param:s,value:r,op:"a"})}appendAll(s){const r=[];return Object.keys(s).forEach(a=>{const u=s[a];Array.isArray(u)?u.forEach(h=>{r.push({param:a,value:h,op:"a"})}):r.push({param:a,value:u,op:"a"})}),this.clone(r)}set(s,r){return this.clone({param:s,value:r,op:"s"})}delete(s,r){return this.clone({param:s,value:r,op:"d"})}toString(){return this.init(),this.keys().map(s=>{const r=this.encoder.encodeKey(s);return this.map.get(s).map(a=>r+"="+this.encoder.encodeValue(a)).join("&")}).filter(s=>""!==s).join("&")}clone(s){const r=new or({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(s),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(s=>this.map.set(s,this.cloneFrom.map.get(s))),this.updates.forEach(s=>{switch(s.op){case"a":case"s":const r=("a"===s.op?this.map.get(s.param):void 0)||[];r.push(Ko(s.value)),this.map.set(s.param,r);break;case"d":if(void 0===s.value){this.map.delete(s.param);break}{let a=this.map.get(s.param)||[];const u=a.indexOf(Ko(s.value));-1!==u&&a.splice(u,1),a.length>0?this.map.set(s.param,a):this.map.delete(s.param)}}}),this.cloneFrom=this.updates=null)}}class Su{constructor(){this.map=new Map}set(s,r){return this.map.set(s,r),this}get(s){return this.map.has(s)||this.map.set(s,s.defaultValue()),this.map.get(s)}delete(s){return this.map.delete(s),this}has(s){return this.map.has(s)}keys(){return this.map.keys()}}function Dr(o){return typeof ArrayBuffer<"u"&&o instanceof ArrayBuffer}function Tu(o){return typeof Blob<"u"&&o instanceof Blob}function Ou(o){return typeof FormData<"u"&&o instanceof FormData}class Ha{constructor(s,r,a,u){let h;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=s.toUpperCase(),function rp(o){switch(o){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==a?a:null,h=u):h=a,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params),this.transferCache=h.transferCache),this.headers??=new Wt,this.context??=new Su,this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=r;else{const C=r.indexOf("?");this.urlWithParams=r+(-1===C?"?":C<r.length-1?"&":"")+m}}else this.params=new or,this.urlWithParams=r}serializeBody(){return null===this.body?null:"string"==typeof this.body||Dr(this.body)||Tu(this.body)||Ou(this.body)||function Ny(o){return typeof URLSearchParams<"u"&&o instanceof URLSearchParams}(this.body)?this.body:this.body instanceof or?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ou(this.body)?null:Tu(this.body)?this.body.type||null:Dr(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof or?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(s={}){const r=s.method||this.method,a=s.url||this.url,u=s.responseType||this.responseType,h=s.transferCache??this.transferCache,m=void 0!==s.body?s.body:this.body,C=s.withCredentials??this.withCredentials,_=s.reportProgress??this.reportProgress;let b=s.headers||this.headers,T=s.params||this.params;const I=s.context??this.context;return void 0!==s.setHeaders&&(b=Object.keys(s.setHeaders).reduce((F,V)=>F.set(V,s.setHeaders[V]),b)),s.setParams&&(T=Object.keys(s.setParams).reduce((F,V)=>F.set(V,s.setParams[V]),T)),new Ha(r,a,m,{params:T,headers:b,context:I,reportProgress:_,responseType:u,withCredentials:C,transferCache:h})}}var bn=function(o){return o[o.Sent=0]="Sent",o[o.UploadProgress=1]="UploadProgress",o[o.ResponseHeader=2]="ResponseHeader",o[o.DownloadProgress=3]="DownloadProgress",o[o.Response=4]="Response",o[o.User=5]="User",o}(bn||{});class Au{constructor(s,r=Zr.Ok,a="OK"){this.headers=s.headers||new Wt,this.status=void 0!==s.status?s.status:r,this.statusText=s.statusText||a,this.url=s.url||null,this.ok=this.status>=200&&this.status<300}}class fs extends Au{constructor(s={}){super(s),this.type=bn.ResponseHeader}clone(s={}){return new fs({headers:s.headers||this.headers,status:void 0!==s.status?s.status:this.status,statusText:s.statusText||this.statusText,url:s.url||this.url||void 0})}}class br extends Au{constructor(s={}){super(s),this.type=bn.Response,this.body=void 0!==s.body?s.body:null}clone(s={}){return new br({body:void 0!==s.body?s.body:this.body,headers:s.headers||this.headers,status:void 0!==s.status?s.status:this.status,statusText:s.statusText||this.statusText,url:s.url||this.url||void 0})}}class Yr extends Au{constructor(s){super(s,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${s.url||"(unknown url)"}`:`Http failure response for ${s.url||"(unknown url)"}: ${s.status} ${s.statusText}`,this.error=s.error||null}}var Zr=function(o){return o[o.Continue=100]="Continue",o[o.SwitchingProtocols=101]="SwitchingProtocols",o[o.Processing=102]="Processing",o[o.EarlyHints=103]="EarlyHints",o[o.Ok=200]="Ok",o[o.Created=201]="Created",o[o.Accepted=202]="Accepted",o[o.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",o[o.NoContent=204]="NoContent",o[o.ResetContent=205]="ResetContent",o[o.PartialContent=206]="PartialContent",o[o.MultiStatus=207]="MultiStatus",o[o.AlreadyReported=208]="AlreadyReported",o[o.ImUsed=226]="ImUsed",o[o.MultipleChoices=300]="MultipleChoices",o[o.MovedPermanently=301]="MovedPermanently",o[o.Found=302]="Found",o[o.SeeOther=303]="SeeOther",o[o.NotModified=304]="NotModified",o[o.UseProxy=305]="UseProxy",o[o.Unused=306]="Unused",o[o.TemporaryRedirect=307]="TemporaryRedirect",o[o.PermanentRedirect=308]="PermanentRedirect",o[o.BadRequest=400]="BadRequest",o[o.Unauthorized=401]="Unauthorized",o[o.PaymentRequired=402]="PaymentRequired",o[o.Forbidden=403]="Forbidden",o[o.NotFound=404]="NotFound",o[o.MethodNotAllowed=405]="MethodNotAllowed",o[o.NotAcceptable=406]="NotAcceptable",o[o.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",o[o.RequestTimeout=408]="RequestTimeout",o[o.Conflict=409]="Conflict",o[o.Gone=410]="Gone",o[o.LengthRequired=411]="LengthRequired",o[o.PreconditionFailed=412]="PreconditionFailed",o[o.PayloadTooLarge=413]="PayloadTooLarge",o[o.UriTooLong=414]="UriTooLong",o[o.UnsupportedMediaType=415]="UnsupportedMediaType",o[o.RangeNotSatisfiable=416]="RangeNotSatisfiable",o[o.ExpectationFailed=417]="ExpectationFailed",o[o.ImATeapot=418]="ImATeapot",o[o.MisdirectedRequest=421]="MisdirectedRequest",o[o.UnprocessableEntity=422]="UnprocessableEntity",o[o.Locked=423]="Locked",o[o.FailedDependency=424]="FailedDependency",o[o.TooEarly=425]="TooEarly",o[o.UpgradeRequired=426]="UpgradeRequired",o[o.PreconditionRequired=428]="PreconditionRequired",o[o.TooManyRequests=429]="TooManyRequests",o[o.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",o[o.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",o[o.InternalServerError=500]="InternalServerError",o[o.NotImplemented=501]="NotImplemented",o[o.BadGateway=502]="BadGateway",o[o.ServiceUnavailable=503]="ServiceUnavailable",o[o.GatewayTimeout=504]="GatewayTimeout",o[o.HttpVersionNotSupported=505]="HttpVersionNotSupported",o[o.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",o[o.InsufficientStorage=507]="InsufficientStorage",o[o.LoopDetected=508]="LoopDetected",o[o.NotExtended=510]="NotExtended",o[o.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",o}(Zr||{});function Ga(o,s){return{body:s,headers:o.headers,context:o.context,observe:o.observe,params:o.params,reportProgress:o.reportProgress,responseType:o.responseType,withCredentials:o.withCredentials,transferCache:o.transferCache}}let Jr=(()=>{class o{constructor(r){this.handler=r}request(r,a,u={}){let h;if(r instanceof Ha)h=r;else{let _,b;_=u.headers instanceof Wt?u.headers:new Wt(u.headers),u.params&&(b=u.params instanceof or?u.params:new or({fromObject:u.params})),h=new Ha(r,a,void 0!==u.body?u.body:null,{headers:_,context:u.context,params:b,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials,transferCache:u.transferCache})}const m=le(h).pipe(mr(_=>this.handler.handle(_)));if(r instanceof Ha||"events"===u.observe)return m;const C=m.pipe(Ln(_=>_ instanceof br));switch(u.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return C.pipe((0,X.T)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return C.pipe((0,X.T)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return C.pipe((0,X.T)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return C.pipe((0,X.T)(_=>_.body))}case"response":return C;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(r,a={}){return this.request("DELETE",r,a)}get(r,a={}){return this.request("GET",r,a)}head(r,a={}){return this.request("HEAD",r,a)}jsonp(r,a){return this.request("JSONP",r,{params:(new or).append(a,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,a={}){return this.request("OPTIONS",r,a)}patch(r,a,u={}){return this.request("PATCH",r,Ga(u,a))}post(r,a,u={}){return this.request("POST",r,Ga(u,a))}put(r,a,u={}){return this.request("PUT",r,Ga(u,a))}static{this.\u0275fac=function(a){return new(a||o)(l.KVO($a))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac})}}return o})();function sp(o,s){return s(o)}const cp=new l.nKC(""),gs=new l.nKC(""),Nu=new l.nKC(""),Pu=new l.nKC("");let to=(()=>{class o extends $a{constructor(r,a){super(),this.backend=r,this.injector=a,this.chain=null,this.pendingTasks=(0,l.WQX)(l.TgB);const u=(0,l.WQX)(Pu,{optional:!0});this.backend=u??r}handle(r){if(null===this.chain){const u=Array.from(new Set([...this.injector.get(gs),...this.injector.get(Nu,[])]));this.chain=u.reduceRight((h,m)=>function Py(o,s,r){return(a,u)=>(0,l.N4e)(r,()=>s(a,h=>o(h,u)))}(h,m,this.injector),sp)}const a=this.pendingTasks.add();return this.chain(r,u=>this.backend.handle(u)).pipe(xo(()=>this.pendingTasks.remove(a)))}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(Ba),l.KVO(l.uvJ))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac})}}return o})();const hp=/^\)\]\}',?\n/;let pp=(()=>{class o{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new l.wOt(-2800,!1);const a=this.xhrFactory;return(a.\u0275loadImpl?ht(a.\u0275loadImpl()):le(null)).pipe(Fn(()=>new ft.c(h=>{const m=a.build();if(m.open(r.method,r.urlWithParams),r.withCredentials&&(m.withCredentials=!0),r.headers.forEach((W,U)=>m.setRequestHeader(W,U.join(","))),r.headers.has("Accept")||m.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const W=r.detectContentTypeHeader();null!==W&&m.setRequestHeader("Content-Type",W)}if(r.responseType){const W=r.responseType.toLowerCase();m.responseType="json"!==W?W:"text"}const C=r.serializeBody();let _=null;const b=()=>{if(null!==_)return _;const W=m.statusText||"OK",U=new Wt(m.getAllResponseHeaders()),re=function ku(o){return"responseURL"in o&&o.responseURL?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):null}(m)||r.url;return _=new fs({headers:U,status:m.status,statusText:W,url:re}),_},T=()=>{let{headers:W,status:U,statusText:re,url:Nt}=b(),ie=null;U!==Zr.NoContent&&(ie=typeof m.response>"u"?m.responseText:m.response),0===U&&(U=ie?Zr.Ok:0);let st=U>=200&&U<300;if("json"===r.responseType&&"string"==typeof ie){const Pt=ie;ie=ie.replace(hp,"");try{ie=""!==ie?JSON.parse(ie):null}catch(jt){ie=Pt,st&&(st=!1,ie={error:jt,text:ie})}}st?(h.next(new br({body:ie,headers:W,status:U,statusText:re,url:Nt||void 0})),h.complete()):h.error(new Yr({error:ie,headers:W,status:U,statusText:re,url:Nt||void 0}))},I=W=>{const{url:U}=b(),re=new Yr({error:W,status:m.status||0,statusText:m.statusText||"Unknown Error",url:U||void 0});h.error(re)};let F=!1;const V=W=>{F||(h.next(b()),F=!0);let U={type:bn.DownloadProgress,loaded:W.loaded};W.lengthComputable&&(U.total=W.total),"text"===r.responseType&&m.responseText&&(U.partialText=m.responseText),h.next(U)},q=W=>{let U={type:bn.UploadProgress,loaded:W.loaded};W.lengthComputable&&(U.total=W.total),h.next(U)};return m.addEventListener("load",T),m.addEventListener("error",I),m.addEventListener("timeout",I),m.addEventListener("abort",I),r.reportProgress&&(m.addEventListener("progress",V),null!==C&&m.upload&&m.upload.addEventListener("progress",q)),m.send(C),h.next({type:bn.Sent}),()=>{m.removeEventListener("error",I),m.removeEventListener("abort",I),m.removeEventListener("load",T),m.removeEventListener("timeout",I),r.reportProgress&&(m.removeEventListener("progress",V),null!==C&&m.upload&&m.upload.removeEventListener("progress",q)),m.readyState!==m.DONE&&m.abort()}})))}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(di))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac})}}return o})();const Fu=new l.nKC(""),Lu=new l.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),gp=new l.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mp{}let Vy=(()=>{class o{constructor(r,a,u){this.doc=r,this.platform=a,this.cookieName=u,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ks(r,this.cookieName),this.lastCookieString=r),this.lastToken}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(L),l.KVO(l.Agw),l.KVO(Lu))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac})}}return o})();function vp(o,s){const r=o.url.toLowerCase();if(!(0,l.WQX)(Fu)||"GET"===o.method||"HEAD"===o.method||r.startsWith("http://")||r.startsWith("https://"))return s(o);const a=(0,l.WQX)(mp).getToken(),u=(0,l.WQX)(gp);return null!=a&&!o.headers.has(u)&&(o=o.clone({headers:o.headers.set(u,a)})),s(o)}let Tp=(()=>{class o{constructor(r,a,u,h,m){this.doc=r,this.delegate=a,this.zone=u,this.animationType=h,this.moduleImpl=m,this._rendererFactoryPromise=null,this.scheduler=(0,l.WQX)(l.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??P.e(142).then(P.bind(P,142))).catch(a=>{throw new l.wOt(5300,!1)}).then(({\u0275createEngine:a,\u0275AnimationRendererFactory:u})=>{this._engine=a(this.animationType,this.doc,this.scheduler);const h=new u(this.delegate,this._engine,this.zone);return this.delegate=h,h})}createRenderer(r,a){const u=this.delegate.createRenderer(r,a);if(0===u.\u0275type)return u;"boolean"==typeof u.throwOnSyntheticProps&&(u.throwOnSyntheticProps=!1);const h=new Op(u);return a?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(m=>{const C=m.createRenderer(r,a);h.use(C)}).catch(m=>{h.use(u)}),h}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(a){l.QTQ()}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac})}}return o})();class Op{constructor(s){this.delegate=s,this.replay=[],this.\u0275type=1}use(s){if(this.delegate=s,null!==this.replay){for(const r of this.replay)r(s);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(s,r){return this.delegate.createElement(s,r)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}get destroyNode(){return this.delegate.destroyNode}appendChild(s,r){this.delegate.appendChild(s,r)}insertBefore(s,r,a,u){this.delegate.insertBefore(s,r,a,u)}removeChild(s,r,a){this.delegate.removeChild(s,r,a)}selectRootElement(s,r){return this.delegate.selectRootElement(s,r)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,r,a,u){this.delegate.setAttribute(s,r,a,u)}removeAttribute(s,r,a){this.delegate.removeAttribute(s,r,a)}addClass(s,r){this.delegate.addClass(s,r)}removeClass(s,r){this.delegate.removeClass(s,r)}setStyle(s,r,a,u){this.delegate.setStyle(s,r,a,u)}removeStyle(s,r,a){this.delegate.removeStyle(s,r,a)}setProperty(s,r,a){this.shouldReplay(r)&&this.replay.push(u=>u.setProperty(s,r,a)),this.delegate.setProperty(s,r,a)}setValue(s,r){this.delegate.setValue(s,r)}listen(s,r,a){return this.shouldReplay(r)&&this.replay.push(u=>u.listen(s,r,a)),this.delegate.listen(s,r,a)}shouldReplay(s){return null!==this.replay&&s.startsWith("@")}}var ir=P(707);let Ya=(()=>{class o{constructor(r){this.http=r,this.configSubject=new ut.t(null),this.config$=this.configSubject.asObservable(),this.defaultConfig={backendBaseUrl:"",maxUploadSizeMb:100,features:{mindmap:!0,podcast:!0,export:!0}}}loadConfig(){var r=this;return(0,Qn.A)(function*(){try{const a=yield function Gy(o,s){const r="object"==typeof s;return new Promise((a,u)=>{const h=new ir.Ms({next:m=>{a(m),h.unsubscribe()},error:u,complete:()=>{r?a(s.defaultValue):u(new Oo)}});o.subscribe(h)})}(r.http.get("/api/config")),u=r.validateConfig(a);return r.configSubject.next(u),u}catch{return r.configSubject.next(r.defaultConfig),r.defaultConfig}})()}getConfig(){return this.configSubject.value||this.defaultConfig}getBackendBaseUrl(){return this.getConfig().backendBaseUrl}isFeatureEnabled(r){return this.getConfig().features[r]}getMaxUploadSizeMb(){return this.getConfig().maxUploadSizeMb}validateConfig(r){return{backendBaseUrl:this.validateUrl(r.backendBaseUrl)||this.defaultConfig.backendBaseUrl,maxUploadSizeMb:this.validateNumber(r.maxUploadSizeMb,1,1e3)||this.defaultConfig.maxUploadSizeMb,features:{mindmap:!!(r.features?.mindmap??this.defaultConfig.features.mindmap),podcast:!!(r.features?.podcast??this.defaultConfig.features.podcast),export:!!(r.features?.export??this.defaultConfig.features.export)}}}validateUrl(r){if("string"!=typeof r)return null;try{return new URL(r),r.replace(/\/$/,"")}catch{return null}}validateNumber(r,a,u){const h=Number(r);return isNaN(h)||h<a||h>u?null:h}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(Jr))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),$u=(()=>{class o{constructor(r){this.appConfig=r}intercept(r,a){if(this.shouldPrefixUrl(r.url)){const u=this.appConfig.getBackendBaseUrl();if(u){const h=r.clone({url:`${u}${r.url}`});return a.handle(h)}}return a.handle(r)}shouldPrefixUrl(r){return!r.startsWith("http://")&&!r.startsWith("https://")&&(r.startsWith("/api/")||r.startsWith("/rag/")||r.startsWith("/sources/")||r.startsWith("/ingest/"))}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(Ya))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac})}}return o})();const ys={providers:[function ob(o,...s){return(0,l.EmA)([{provide:La,multi:!0,useValue:o},[],{provide:Ho,useFactory:_y,deps:[zt]},{provide:l.iLQ,multi:!0,useFactory:Dy},s.map(r=>r.\u0275providers)])}([]),function Lt(...o){const s=[Jr,pp,to,{provide:$a,useExisting:to},{provide:Ba,useExisting:pp},{provide:gs,useValue:vp,multi:!0},{provide:Fu,useValue:!0},{provide:mp,useClass:Vy}];for(const r of o)s.push(...r.\u0275providers);return(0,l.EmA)(s)}(),function Ka(o="animations"){return(0,l.ngT)("NgAsyncAnimations"),(0,l.EmA)([{provide:l._9s,useFactory:(s,r,a)=>new Tp(s,r,a,o),deps:[L,pr,l.SKi]},{provide:l.bc$,useValue:"noop"===o?"NoopAnimations":"BrowserAnimations"}])}(),{provide:cp,useClass:$u,multi:!0},{provide:l.hnV,useFactory:function zy(o){return(0,Qn.A)(function*(){yield o.loadConfig()})},deps:[Ya],multi:!0}]};let ro=(()=>{class o{constructor(r,a){this._renderer=r,this._elementRef=a,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(r,a){this._renderer.setProperty(this._elementRef.nativeElement,r,a)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}static{this.\u0275fac=function(a){return new(a||o)(l.rXU(l.sFG),l.rXU(l.aKT))}}static{this.\u0275dir=l.FsC({type:o})}}return o})(),wn=(()=>{class o extends ro{static{this.\u0275fac=(()=>{let r;return function(u){return(r||(r=l.xGo(o)))(u||o)}})()}static{this.\u0275dir=l.FsC({type:o,features:[l.Vt3]})}}return o})();const on=new l.nKC(""),Np={provide:on,useExisting:(0,l.Rfq)(()=>_s),multi:!0},qy=new l.nKC("");let _s=(()=>{class o extends ro{constructor(r,a,u){super(r,a),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wy(){const o=$()?$().getUserAgent():"";return/android (\d+)/.test(o.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}static{this.\u0275fac=function(a){return new(a||o)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(qy,8))}}static{this.\u0275dir=l.FsC({type:o,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(a,u){1&a&&l.bIt("input",function(m){return u._handleInput(m.target.value)})("blur",function(){return u.onTouched()})("compositionstart",function(){return u._compositionStart()})("compositionend",function(m){return u._compositionEnd(m.target.value)})},features:[l.Jv_([Np]),l.Vt3]})}}return o})();const ot=new l.nKC(""),Er=new l.nKC("");function Zo(o){return null!=o}function kp(o){return(0,l.jNT)(o)?ht(o):o}function Fp(o){let s={};return o.forEach(r=>{s=null!=r?{...s,...r}:s}),0===Object.keys(s).length?null:s}function Lp(o,s){return s.map(r=>r(o))}function ec(o){return o.map(s=>function Ja(o){return!o.validate}(s)?s:r=>s.validate(r))}function jp(o){return null!=o?function Vp(o){if(!o)return null;const s=o.filter(Zo);return 0==s.length?null:function(r){return Fp(Lp(r,s))}}(ec(o)):null}function qu(o){return null!=o?function Xy(o){if(!o)return null;const s=o.filter(Zo);return 0==s.length?null:function(r){return function Ap(...o){const s=fa(o),{args:r,keys:a}=zf(o),u=new ft.c(h=>{const{length:m}=r;if(!m)return void h.complete();const C=new Array(m);let _=m,b=m;for(let T=0;T<m;T++){let I=!1;S(r[T]).subscribe((0,Ke._)(h,F=>{I||(I=!0,b--),C[T]=F},()=>_--,void 0,()=>{(!_||!I)&&(b||h.next(a?qf(a,C):C),h.complete())}))}});return s?u.pipe(zl(s)):u}(Lp(r,s).map(kp)).pipe((0,X.T)(Fp))}}(ec(o)):null}function Up(o,s){return null===o?[s]:Array.isArray(o)?[...o,s]:[o,s]}function Bp(o){return o?Array.isArray(o)?o:[o]:[]}function tc(o,s){return Array.isArray(o)?o.includes(s):o===s}function Hp(o,s){const r=Bp(s);return Bp(o).forEach(u=>{tc(r,u)||r.push(u)}),r}function Gp(o,s){return Bp(s).filter(r=>!tc(o,r))}class nc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(s){this._rawValidators=s||[],this._composedValidatorFn=jp(this._rawValidators)}_setAsyncValidators(s){this._rawAsyncValidators=s||[],this._composedAsyncValidatorFn=qu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(s){this._onDestroyCallbacks.push(s)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(s=>s()),this._onDestroyCallbacks=[]}reset(s=void 0){this.control&&this.control.reset(s)}hasError(s,r){return!!this.control&&this.control.hasError(s,r)}getError(s,r){return this.control?this.control.getError(s,r):null}}class it extends nc{get formDirective(){return null}get path(){return null}}class Wn extends nc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ds{constructor(s){this._cd=s}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let bs=(()=>{class o extends Ds{constructor(r){super(r)}static{this.\u0275fac=function(a){return new(a||o)(l.rXU(Wn,2))}}static{this.\u0275dir=l.FsC({type:o,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(a,u){2&a&&l.AVh("ng-untouched",u.isUntouched)("ng-touched",u.isTouched)("ng-pristine",u.isPristine)("ng-dirty",u.isDirty)("ng-valid",u.isValid)("ng-invalid",u.isInvalid)("ng-pending",u.isPending)},features:[l.Vt3]})}}return o})();const Es="VALID",ic="INVALID",Sr="PENDING",Is="DISABLED";function ac(o){return null!=o&&!Array.isArray(o)&&"object"==typeof o}class Jo{constructor(s,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(s),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(s){this._rawValidators=this._composedValidatorFn=s}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(s){this._rawAsyncValidators=this._composedAsyncValidatorFn=s}get parent(){return this._parent}get valid(){return this.status===Es}get invalid(){return this.status===ic}get pending(){return this.status==Sr}get disabled(){return this.status===Is}get enabled(){return this.status!==Is}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(s){this._assignValidators(s)}setAsyncValidators(s){this._assignAsyncValidators(s)}addValidators(s){this.setValidators(Hp(s,this._rawValidators))}addAsyncValidators(s){this.setAsyncValidators(Hp(s,this._rawAsyncValidators))}removeValidators(s){this.setValidators(Gp(s,this._rawValidators))}removeAsyncValidators(s){this.setAsyncValidators(Gp(s,this._rawAsyncValidators))}hasValidator(s){return tc(this._rawValidators,s)}hasAsyncValidator(s){return tc(this._rawAsyncValidators,s)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(s={}){this.touched=!0,this._parent&&!s.onlySelf&&this._parent.markAsTouched(s)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(s=>s.markAllAsTouched())}markAsUntouched(s={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!s.onlySelf&&this._parent._updateTouched(s)}markAsDirty(s={}){this.pristine=!1,this._parent&&!s.onlySelf&&this._parent.markAsDirty(s)}markAsPristine(s={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!s.onlySelf&&this._parent._updatePristine(s)}markAsPending(s={}){this.status=Sr,!1!==s.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!s.onlySelf&&this._parent.markAsPending(s)}disable(s={}){const r=this._parentMarkedDirty(s.onlySelf);this.status=Is,this.errors=null,this._forEachChild(a=>{a.disable({...s,onlySelf:!0})}),this._updateValue(),!1!==s.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...s,skipPristineCheck:r}),this._onDisabledChange.forEach(a=>a(!0))}enable(s={}){const r=this._parentMarkedDirty(s.onlySelf);this.status=Es,this._forEachChild(a=>{a.enable({...s,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:s.emitEvent}),this._updateAncestors({...s,skipPristineCheck:r}),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(s){this._parent&&!s.onlySelf&&(this._parent.updateValueAndValidity(s),s.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(s){this._parent=s}getRawValue(){return this.value}updateValueAndValidity(s={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Es||this.status===Sr)&&this._runAsyncValidator(s.emitEvent)),!1!==s.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!s.onlySelf&&this._parent.updateValueAndValidity(s)}_updateTreeValidity(s={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(s)),this.updateValueAndValidity({onlySelf:!0,emitEvent:s.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Is:Es}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(s){if(this.asyncValidator){this.status=Sr,this._hasOwnPendingAsyncValidator=!0;const r=kp(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:s})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(s,r={}){this.errors=s,this._updateControlsErrors(!1!==r.emitEvent)}get(s){let r=s;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((a,u)=>a&&a._find(u),this)}getError(s,r){const a=r?this.get(r):this;return a&&a.errors?a.errors[s]:null}hasError(s,r){return!!this.getError(s,r)}get root(){let s=this;for(;s._parent;)s=s._parent;return s}_updateControlsErrors(s){this.status=this._calculateStatus(),s&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(s)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?Is:this.errors?ic:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sr)?Sr:this._anyControlsHaveStatus(ic)?ic:Es}_anyControlsHaveStatus(s){return this._anyControls(r=>r.status===s)}_anyControlsDirty(){return this._anyControls(s=>s.dirty)}_anyControlsTouched(){return this._anyControls(s=>s.touched)}_updatePristine(s={}){this.pristine=!this._anyControlsDirty(),this._parent&&!s.onlySelf&&this._parent._updatePristine(s)}_updateTouched(s={}){this.touched=this._anyControlsTouched(),this._parent&&!s.onlySelf&&this._parent._updateTouched(s)}_registerOnCollectionChange(s){this._onCollectionChange=s}_setUpdateStrategy(s){ac(s)&&null!=s.updateOn&&(this._updateOn=s.updateOn)}_parentMarkedDirty(s){return!s&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(s){return null}_assignValidators(s){this._rawValidators=Array.isArray(s)?s.slice():s,this._composedValidatorFn=function eC(o){return Array.isArray(o)?jp(o):o||null}(this._rawValidators)}_assignAsyncValidators(s){this._rawAsyncValidators=Array.isArray(s)?s.slice():s,this._composedAsyncValidatorFn=function qp(o){return Array.isArray(o)?qu(o):o||null}(this._rawAsyncValidators)}}const sr=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ss}),Ss="always";function Ts(o,s,r=Ss){(function uc(o,s){const r=function Qy(o){return o._rawValidators}(o);null!==s.validator?o.setValidators(Up(r,s.validator)):"function"==typeof r&&o.setValidators([r]);const a=function $p(o){return o._rawAsyncValidators}(o);null!==s.asyncValidator?o.setAsyncValidators(Up(a,s.asyncValidator)):"function"==typeof a&&o.setAsyncValidators([a]);const u=()=>o.updateValueAndValidity();ei(s._rawValidators,u),ei(s._rawAsyncValidators,u)})(o,s),s.valueAccessor.writeValue(o.value),(o.disabled||"always"===r)&&s.valueAccessor.setDisabledState?.(o.disabled),function Qp(o,s){s.valueAccessor.registerOnChange(r=>{o._pendingValue=r,o._pendingChange=!0,o._pendingDirty=!0,"change"===o.updateOn&&oC(o,s)})}(o,s),function Ye(o,s){const r=(a,u)=>{s.valueAccessor.writeValue(a),u&&s.viewToModelUpdate(a)};o.registerOnChange(r),s._registerOnDestroy(()=>{o._unregisterOnChange(r)})}(o,s),function rC(o,s){s.valueAccessor.registerOnTouched(()=>{o._pendingTouched=!0,"blur"===o.updateOn&&o._pendingChange&&oC(o,s),"submit"!==o.updateOn&&o.markAsTouched()})}(o,s),function Tb(o,s){if(s.valueAccessor.setDisabledState){const r=a=>{s.valueAccessor.setDisabledState(a)};o.registerOnDisabledChange(r),s._registerOnDestroy(()=>{o._unregisterOnDisabledChange(r)})}}(o,s)}function ei(o,s){o.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(s)})}function oC(o,s){o._pendingDirty&&o.markAsDirty(),o.setValue(o._pendingValue,{emitModelToViewChange:!1}),s.viewToModelUpdate(o._pendingValue),o._pendingChange=!1}function ed(o,s){const r=o.indexOf(s);r>-1&&o.splice(r,1)}function ti(o){return"object"==typeof o&&null!==o&&2===Object.keys(o).length&&"value"in o&&"disabled"in o}Promise.resolve();const hc=class extends Jo{constructor(s=null,r,a){super(function sc(o){return(ac(o)?o.validators:o)||null}(r),function Yu(o,s){return(ac(s)?s.asyncValidators:o)||null}(a,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(s),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ac(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=ti(s)?s.value:s)}setValue(s,r={}){this.value=this._pendingValue=s,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(s,r={}){this.setValue(s,r)}reset(s=this.defaultValue,r={}){this._applyFormState(s),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(s){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(s){this._onChange.push(s)}_unregisterOnChange(s){ed(this._onChange,s)}registerOnDisabledChange(s){this._onDisabledChange.push(s)}_unregisterOnDisabledChange(s){ed(this._onDisabledChange,s)}_forEachChild(s){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(s){ti(s)?(this.value=this._pendingValue=s.value,s.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=s}},Ns={provide:Wn,useExisting:(0,l.Rfq)(()=>Tr)},uC=Promise.resolve();let Tr=(()=>{class o extends Wn{constructor(r,a,u,h,m,C){super(),this._changeDetectorRef=m,this.callSetDisabledState=C,this.control=new hc,this._registered=!1,this.name="",this.update=new l.bkB,this._parent=r,this._setValidators(a),this._setAsyncValidators(u),this.valueAccessor=function ar(o,s){if(!s)return null;let r,a,u;return Array.isArray(s),s.forEach(h=>{h.constructor===_s?r=h:function cC(o){return Object.getPrototypeOf(o.constructor)===wn}(h)?a=h:u=h}),u||a||r||null}(0,h)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const a=r.name.previousValue;this.formDirective.removeControl({name:a,path:this._getPath(a)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function dc(o,s){if(!o.hasOwnProperty("model"))return!1;const r=o.model;return!!r.isFirstChange()||!Object.is(s,r.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ts(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){uC.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const a=r.isDisabled.currentValue,u=0!==a&&(0,l.L39)(a);uC.then(()=>{u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function cc(o,s){return[...s.path,o]}(r,this._parent):[r]}static{this.\u0275fac=function(a){return new(a||o)(l.rXU(it,9),l.rXU(ot,10),l.rXU(Er,10),l.rXU(on,10),l.rXU(l.gRc,8),l.rXU(sr,8))}}static{this.\u0275dir=l.FsC({type:o,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[l.Mj6.None,"disabled","isDisabled"],model:[l.Mj6.None,"ngModel","model"],options:[l.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.Jv_([Ns]),l.Vt3,l.OA$]})}}return o})();const fg={provide:on,useExisting:(0,l.Rfq)(()=>ri),multi:!0};function _c(o,s){return null==o?`${s}`:(s&&"object"==typeof s&&(s="Object"),`${o}: ${s}`.slice(0,50))}let ri=(()=>{class o extends wn{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const u=_c(this._getOptionId(r),r);this.setProperty("value",u)}registerOnChange(r){this.onChange=a=>{this.value=this._getOptionValue(a),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const a of this._optionMap.keys())if(this._compareWith(this._optionMap.get(a),r))return a;return null}_getOptionValue(r){const a=function hg(o){return o.split(":")[0]}(r);return this._optionMap.has(a)?this._optionMap.get(a):r}static{this.\u0275fac=(()=>{let r;return function(u){return(r||(r=l.xGo(o)))(u||o)}})()}static{this.\u0275dir=l.FsC({type:o,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(a,u){1&a&&l.bIt("change",function(m){return u.onChange(m.target.value)})("blur",function(){return u.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.Jv_([fg]),l.Vt3]})}}return o})(),rd=(()=>{class o{constructor(r,a,u){this._element=r,this._renderer=a,this._select=u,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(_c(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(a){return new(a||o)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(ri,9))}}static{this.\u0275dir=l.FsC({type:o,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return o})();const mC={provide:on,useExisting:(0,l.Rfq)(()=>Dc),multi:!0};function pg(o,s){return null==o?`${s}`:("string"==typeof s&&(s=`'${s}'`),s&&"object"==typeof s&&(s="Object"),`${o}: ${s}`.slice(0,50))}let Dc=(()=>{class o extends wn{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let a;if(this.value=r,Array.isArray(r)){const u=r.map(h=>this._getOptionId(h));a=(h,m)=>{h._setSelected(u.indexOf(m.toString())>-1)}}else a=(u,h)=>{u._setSelected(!1)};this._optionMap.forEach(a)}registerOnChange(r){this.onChange=a=>{const u=[],h=a.selectedOptions;if(void 0!==h){const m=h;for(let C=0;C<m.length;C++){const b=this._getOptionValue(m[C].value);u.push(b)}}else{const m=a.options;for(let C=0;C<m.length;C++){const _=m[C];if(_.selected){const b=this._getOptionValue(_.value);u.push(b)}}}this.value=u,r(u)}}_registerOption(r){const a=(this._idCounter++).toString();return this._optionMap.set(a,r),a}_getOptionId(r){for(const a of this._optionMap.keys())if(this._compareWith(this._optionMap.get(a)._value,r))return a;return null}_getOptionValue(r){const a=function od(o){return o.split(":")[0]}(r);return this._optionMap.has(a)?this._optionMap.get(a)._value:r}static{this.\u0275fac=(()=>{let r;return function(u){return(r||(r=l.xGo(o)))(u||o)}})()}static{this.\u0275dir=l.FsC({type:o,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(a,u){1&a&&l.bIt("change",function(m){return u.onChange(m.target)})("blur",function(){return u.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.Jv_([mC]),l.Vt3]})}}return o})(),Ps=(()=>{class o{constructor(r,a,u){this._element=r,this._renderer=a,this._select=u,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(pg(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(pg(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(a){return new(a||o)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(Dc,9))}}static{this.\u0275dir=l.FsC({type:o,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return o})(),ld=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=l.$C({type:o})}static{this.\u0275inj=l.G2t({})}}return o})(),bg=(()=>{class o{static withConfig(r){return{ngModule:o,providers:[{provide:sr,useValue:r.callSetDisabledState??Ss}]}}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=l.$C({type:o})}static{this.\u0275inj=l.G2t({imports:[ld]})}}return o})();class kb extends ga.yU{constructor(s,r){super()}schedule(s,r=0){return this}}const ud={setInterval(o,s,...r){const{delegate:a}=ud;return a?.setInterval?a.setInterval(o,s,...r):setInterval(o,s,...r)},clearInterval(o){const{delegate:s}=ud;return(s?.clearInterval||clearInterval)(o)},delegate:void 0};var Fb=P(908);const dd={now:()=>(dd.delegate||Date).now(),delegate:void 0};class Ic{constructor(s,r=Ic.now){this.schedulerActionCtor=s,this.now=r}schedule(s,r=0,a){return new this.schedulerActionCtor(this,s).schedule(a,r)}}Ic.now=dd.now;const Vb=new class Lb extends Ic{constructor(s,r=Ic.now){super(s,r),this.actions=[],this._active=!1}flush(s){const{actions:r}=this;if(this._active)return void r.push(s);let a;this._active=!0;do{if(a=s.execute(s.state,s.delay))break}while(s=r.shift());if(this._active=!1,a){for(;s=r.shift();)s.unsubscribe();throw a}}}(class wg extends kb{constructor(s,r){super(s,r),this.scheduler=s,this.work=r,this.pending=!1}schedule(s,r=0){var a;if(this.closed)return this;this.state=s;const u=this.id,h=this.scheduler;return null!=u&&(this.id=this.recycleAsyncId(h,u,r)),this.pending=!0,this.delay=r,this.id=null!==(a=this.id)&&void 0!==a?a:this.requestAsyncId(h,this.id,r),this}requestAsyncId(s,r,a=0){return ud.setInterval(s.flush.bind(s,this),a)}recycleAsyncId(s,r,a=0){if(null!=a&&this.delay===a&&!1===this.pending)return r;null!=r&&ud.clearInterval(r)}execute(s,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const a=this._execute(s,r);if(a)return a;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(s,r){let u,a=!1;try{this.work(s)}catch(h){a=!0,u=h||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),u}unsubscribe(){if(!this.closed){const{id:s,scheduler:r}=this,{actions:a}=r;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Fb.o)(a,this),null!=s&&(this.id=this.recycleAsyncId(r,s,null)),this.delay=null,super.unsubscribe()}}});function $b(o,s){return o===s}let Bb=(()=>{class o{constructor(){this.uploadComplete=new l.bkB,this.uploadError=new l.bkB}onDragOver(r){r.preventDefault()}onDragLeave(r){r.preventDefault()}onDrop(r){r.preventDefault();const a=r.dataTransfer?.files;a&&this.handleFiles(a)}onFileSelect(r){const u=r.target?.files;u&&this.handleFiles(u)}handleFiles(r){console.log("Files to upload:",r.length),this.uploadComplete.emit()}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=l.VBU({type:o,selectors:[["app-upload-dropzone"]],outputs:{uploadComplete:"uploadComplete",uploadError:"uploadError"},standalone:!0,features:[l.aNF],decls:10,vars:0,consts:[["fileInput",""],[1,"upload-dropzone",3,"dragover","dragleave","drop"],[1,"upload-content"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"upload-text"],["type","file","multiple","","accept",".pdf,.docx,.txt,.html",1,"file-input",3,"change"],[1,"upload-btn",3,"click"]],template:function(a,u){if(1&a){const h=l.RV6();l.j41(0,"div",1),l.bIt("dragover",function(C){return l.eBV(h),l.Njj(u.onDragOver(C))})("dragleave",function(C){return l.eBV(h),l.Njj(u.onDragLeave(C))})("drop",function(C){return l.eBV(h),l.Njj(u.onDrop(C))}),l.j41(1,"div",2),l.qSk(),l.j41(2,"svg",3),l.nrm(3,"path",4),l.k0s(),l.joV(),l.j41(4,"p",5),l.EFF(5,"Drop files here or click to upload"),l.k0s(),l.j41(6,"input",6,0),l.bIt("change",function(C){return l.eBV(h),l.Njj(u.onFileSelect(C))}),l.k0s(),l.j41(8,"button",7),l.bIt("click",function(){l.eBV(h);const C=l.sdS(7);return l.Njj(C.click())}),l.EFF(9," Choose Files "),l.k0s()()()}},dependencies:[hn],styles:[".upload-dropzone[_ngcontent-%COMP%]{border:2px dashed #d1d5db;border-radius:.5rem;padding:2rem;text-align:center;transition:all .2s;cursor:pointer}.upload-dropzone[_ngcontent-%COMP%]:hover{border-color:#9ca3af;background-color:#f9fafb}.upload-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:0 auto 1rem;color:#6b7280}.upload-text[_ngcontent-%COMP%]{margin:0 0 1rem;color:#6b7280;font-size:.875rem}.file-input[_ngcontent-%COMP%]{display:none}.upload-btn[_ngcontent-%COMP%]{background:#111827;color:#fff;border:none;padding:.5rem 1rem;border-radius:.375rem;font-size:.875rem;cursor:pointer;transition:background-color .2s}.upload-btn[_ngcontent-%COMP%]:hover{background:#374151}"]})}}return o})();let IC=(()=>{class o{constructor(r){this.http=r,this.apiUrl="/api/ingest"}uploadDocument(r){const a=new FormData;return a.append("file",r),this.http.post(`${this.apiUrl}/upload`,a)}getDocumentChunks(r,a=1,u=20){const h=(new or).set("page",a.toString()).set("pageSize",u.toString());return this.http.get(`${this.apiUrl}/${r}/chunks`,{params:h})}getDocuments(r={}){return this.http.get(`${this.apiUrl}/documents`,{params:r})}getDocumentContent(r){return this.http.get(`${this.apiUrl}/documents/${r}/content`)}deleteDocument(r){return this.http.delete(`${this.apiUrl}/documents/${r}`)}retryDocument(r){return this.http.post(`${this.apiUrl}/documents/${r}/retry`,{})}getStats(){return this.http.get(`${this.apiUrl}/stats`)}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(Jr))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),Or=(()=>{class o{constructor(){this.currentDocumentSubject=new ut.t(null),this.currentDocument$=this.currentDocumentSubject.asObservable(),this.highlightedSpansSubject=new ut.t([]),this.highlightedSpans$=this.highlightedSpansSubject.asObservable(),this.currentPageSubject=new ut.t(1),this.currentPage$=this.currentPageSubject.asObservable()}loadDocument(r){this.currentDocumentSubject.next(r),this.currentPageSubject.next(1),this.clearHighlights()}getCurrentDocument(){return this.currentDocumentSubject.value}setCurrentPage(r){const a=this.getCurrentDocument();a&&a.pages&&r>=1&&r<=a.pages.length&&this.currentPageSubject.next(r)}getCurrentPage(){return this.currentPageSubject.value}scrollToSpan(r,a,u,h,m){const C=this.getCurrentDocument();if(!C||C.id!==r)return void console.warn("ViewerService: Document not loaded or ID mismatch:",r);const _={docId:r,page:a,spanStart:u,spanEnd:h,chunkId:m};a&&a!==this.getCurrentPage()&&this.setCurrentPage(a),this.addHighlight(_),setTimeout(()=>{this.performDOMRangeScroll(_)},150)}addHighlight(r){const a=this.highlightedSpansSubject.value;a.some(h=>h.docId===r.docId&&h.page===r.page&&h.spanStart===r.spanStart&&h.spanEnd===r.spanEnd)||this.highlightedSpansSubject.next([...a,r])}performDOMRangeScroll(r){try{const a=`[data-span-start="${r.spanStart}"][data-span-end="${r.spanEnd}"]`;let u=document.querySelector(a);if(u)return void this.scrollToElementAndHighlight(u,r);const h=document.querySelector(".viewer-content, .document-content, .page-content");if(!h)return void console.warn("ViewerService: No content element found for scrolling");const m=this.createRangeFromCharacterPositions(h,r.spanStart,r.spanEnd);m?(u=this.createHighlightElement(m,r),u&&this.scrollToElementAndHighlight(u,r)):this.performProportionalScroll(h,r)}catch{console.error("ViewerService: Error during DOM range scroll:","Unknown error");const a=document.querySelector(".viewer-content, .document-content");a&&this.performProportionalScroll(a,r)}}createRangeFromCharacterPositions(r,a,u){const h=document.createTreeWalker(r,NodeFilter.SHOW_TEXT,null);let I,m=0,C=null,_=0,b=null,T=0;for(;I=h.nextNode();){const F=I.textContent?.length||0;if(!C&&m+F>=a&&(C=I,_=a-m),!b&&m+F>=u){b=I,T=u-m;break}m+=F}if(C&&b){const F=document.createRange();return F.setStart(C,Math.max(0,_)),F.setEnd(b,Math.min(b.textContent?.length||0,T)),F}return null}createHighlightElement(r,a){try{const u=document.createElement("span");return u.className="viewer-highlight-span",u.setAttribute("data-span-start",a.spanStart.toString()),u.setAttribute("data-span-end",a.spanEnd.toString()),a.chunkId&&u.setAttribute("data-chunk-id",a.chunkId),r.surroundContents(u),u}catch{try{const u=r.extractContents(),h=document.createElement("span");return h.className="viewer-highlight-span",h.setAttribute("data-span-start",a.spanStart.toString()),h.setAttribute("data-span-end",a.spanEnd.toString()),a.chunkId&&h.setAttribute("data-chunk-id",a.chunkId),h.appendChild(u),r.insertNode(h),h}catch(u){return console.warn("ViewerService: Could not create highlight element:",u),null}}}scrollToElementAndHighlight(r,a){r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),r.classList.add("viewer-highlight-active","viewer-highlight-flash"),setTimeout(()=>{r.classList.remove("viewer-highlight-flash")},2e3)}performProportionalScroll(r,a){const h=(r.textContent||"").length;if(h>0){const C=Math.max(0,a.spanStart/h*r.scrollHeight);r.scrollTo({top:C,behavior:"smooth"})}}clearHighlights(){this.highlightedSpansSubject.next([])}removeHighlight(r){const u=this.highlightedSpansSubject.value.filter(h=>!(h.docId===r.docId&&h.page===r.page&&h.spanStart===r.spanStart&&h.spanEnd===r.spanEnd));this.highlightedSpansSubject.next(u)}isHighlighted(r,a,u,h){return this.highlightedSpansSubject.value.some(C=>C.docId===r&&C.page===a&&C.spanStart===u&&C.spanEnd===h)}getHighlightsForCurrentPage(){const r=this.getCurrentPage(),a=this.getCurrentDocument();return a?this.highlightedSpansSubject.value.filter(u=>u.docId===a.id&&u.page===r):[]}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function xs(o,s){if(1&o){const r=l.RV6();l.j41(0,"button",39),l.bIt("click",function(){l.eBV(r);const u=l.XpG();return l.Njj(u.clearSearch())}),l.qSk(),l.j41(1,"svg",6),l.nrm(2,"path",40),l.k0s()()}}function SC(o,s){1&o&&(l.j41(0,"div",41),l.nrm(1,"div",42),l.j41(2,"span"),l.EFF(3,"Loading documents..."),l.k0s()())}function Gb(o,s){if(1&o){const r=l.RV6();l.j41(0,"button",48),l.bIt("click",function(){l.eBV(r);const u=l.XpG(2);return l.Njj(u.toggleUpload())}),l.EFF(1," Upload your first document "),l.k0s()}}function Mg(o,s){if(1&o&&(l.j41(0,"div",43),l.qSk(),l.j41(1,"svg",44),l.nrm(2,"path",45),l.k0s(),l.joV(),l.j41(3,"p",46),l.EFF(4),l.k0s(),l.DNE(5,Gb,2,0,"button",47),l.k0s()),2&o){const r=l.XpG();l.R7$(4),l.SpI(" ",r.filters.search||r.filters.mimeType||r.filters.status?"No documents match your filters":"No documents uploaded yet"," "),l.R7$(),l.Y8G("ngIf",!(r.showUpload||r.filters.search||r.filters.mimeType||r.filters.status))}}function TC(o,s){if(1&o&&(l.j41(0,"span",65),l.EFF(1),l.k0s()),2&o){const r=l.XpG(2).$implicit;l.R7$(),l.SpI("",r.chunksCount," chunks")}}function zb(o,s){if(1&o&&(l.j41(0,"span",65),l.EFF(1),l.k0s()),2&o){const r=l.XpG(2).$implicit;l.R7$(),l.SpI("",r.tokensCount," tokens")}}function OC(o,s){if(1&o&&(l.j41(0,"div",63),l.DNE(1,TC,2,1,"span",64)(2,zb,2,1,"span",64),l.k0s()),2&o){const r=l.XpG().$implicit;l.R7$(),l.Y8G("ngIf",r.chunksCount),l.R7$(),l.Y8G("ngIf",r.tokensCount)}}function AC(o,s){1&o&&(l.qSk(),l.j41(0,"svg",6),l.nrm(1,"path",66),l.k0s())}function NC(o,s){1&o&&(l.qSk(),l.j41(0,"svg",67),l.nrm(1,"path",33),l.k0s())}function Sc(o,s){1&o&&(l.qSk(),l.j41(0,"svg",6),l.nrm(1,"path",68),l.k0s())}function Eg(o,s){if(1&o){const r=l.RV6();l.j41(0,"div",49),l.bIt("click",function(){const u=l.eBV(r).$implicit,h=l.XpG();return l.Njj(h.selectDocument(u))})("keydown.enter",function(){const u=l.eBV(r).$implicit,h=l.XpG();return l.Njj(h.selectDocument(u))}),l.j41(1,"div",50),l.qSk(),l.j41(2,"svg",3),l.nrm(3,"path",45),l.k0s()(),l.joV(),l.j41(4,"div",51)(5,"h3",52),l.EFF(6),l.k0s(),l.j41(7,"div",53)(8,"span",54),l.EFF(9),l.k0s(),l.j41(10,"span",55),l.EFF(11),l.k0s()(),l.DNE(12,OC,3,2,"div",56),l.k0s(),l.j41(13,"div",57),l.DNE(14,AC,2,0,"svg",58)(15,NC,2,0,"svg",59)(16,Sc,2,0,"svg",58),l.k0s(),l.j41(17,"button",60),l.bIt("click",function(u){const h=l.eBV(r).$implicit,m=l.XpG();return l.Njj(m.openDocument(h,u))}),l.qSk(),l.j41(18,"svg",6),l.nrm(19,"path",61)(20,"path",62),l.k0s()()()}if(2&o){const r=s.$implicit,a=l.XpG();l.AVh("selected",a.selectedDocumentId===r.id),l.R7$(),l.HbH("type-"+a.getDocumentTypeClass(r.mimeType)),l.R7$(4),l.Y8G("title",r.title),l.R7$(),l.JRh(r.title),l.R7$(3),l.JRh(a.formatFileSize(r.size)),l.R7$(2),l.JRh(a.formatDate(r.uploadedAt)),l.R7$(),l.Y8G("ngIf",r.chunksCount||r.tokensCount),l.R7$(),l.HbH("status-"+r.status),l.R7$(),l.Y8G("ngIf","ready"===r.status),l.R7$(),l.Y8G("ngIf","processing"===r.status),l.R7$(),l.Y8G("ngIf","error"===r.status),l.R7$(),l.Y8G("disabled","ready"!==r.status)}}function PC(o,s){if(1&o){const r=l.RV6();l.j41(0,"div",69)(1,"button",70),l.bIt("click",function(){l.eBV(r);const u=l.XpG();return l.Njj(u.goToPage(u.currentPage-1))}),l.qSk(),l.j41(2,"svg",6),l.nrm(3,"path",71),l.k0s()(),l.joV(),l.j41(4,"span",72),l.EFF(5),l.k0s(),l.j41(6,"button",70),l.bIt("click",function(){l.eBV(r);const u=l.XpG();return l.Njj(u.goToPage(u.currentPage+1))}),l.qSk(),l.j41(7,"svg",6),l.nrm(8,"path",73),l.k0s()()()}if(2&o){const r=l.XpG();l.R7$(),l.Y8G("disabled",1===r.currentPage),l.R7$(4),l.Lme(" ",r.currentPage," / ",r.totalPages," "),l.R7$(),l.Y8G("disabled",r.currentPage===r.totalPages)}}let Ig=(()=>{class o{constructor(r,a){this.ingestService=r,this.viewerService=a,this.documents=[],this.totalDocuments=0,this.currentPage=1,this.totalPages=1,this.pageSize=20,this.isLoading=!1,this.showUpload=!1,this.selectedDocumentId=null,this.filters={search:"",mimeType:"",status:""},this.destroy$=new Jt.B,this.filterChange$=new Jt.B}ngOnInit(){this.setupFilterDebounce(),this.loadDocuments()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setupFilterDebounce(){this.filterChange$.pipe(function jb(o,s=Vb){return(0,Xe.N)((r,a)=>{let u=null,h=null,m=null;const C=()=>{if(u){u.unsubscribe(),u=null;const b=h;h=null,a.next(b)}};function _(){const b=m+o,T=s.now();if(T<b)return u=this.schedule(void 0,b-T),void a.add(u);C()}r.subscribe((0,Ke._)(a,b=>{h=b,m=s.now(),u||(u=s.schedule(_,o),a.add(u))},()=>{C(),a.complete()},void 0,()=>{h=u=null}))})}(300),function Ub(o,s=Gt.D){return o=o??$b,(0,Xe.N)((r,a)=>{let u,h=!0;r.subscribe((0,Ke._)(a,m=>{const C=s(m);(h||!o(u,C))&&(h=!1,u=C,a.next(m))}))})}(),Vn(this.destroy$)).subscribe(()=>{this.currentPage=1,this.loadDocuments()})}loadDocuments(){var r=this;return(0,Qn.A)(function*(){r.isLoading=!0;try{const a=yield r.ingestService.getDocuments({page:r.currentPage,pageSize:r.pageSize,...r.filters}).toPromise();a&&(r.documents=a.items,r.totalDocuments=a.total,r.totalPages=a.totalPages)}catch(a){console.error("Failed to load documents:",a),r.documents=[],r.totalDocuments=0,r.totalPages=1}finally{r.isLoading=!1}})()}onFilterChange(){this.filterChange$.next()}clearSearch(){this.filters.search="",this.onFilterChange()}refreshDocuments(){this.loadDocuments()}toggleUpload(){this.showUpload=!this.showUpload}selectDocument(r){this.selectedDocumentId=r.id}openDocument(r,a){var u=this;return(0,Qn.A)(function*(){if(a.stopPropagation(),"ready"===r.status)try{const h=yield u.ingestService.getDocumentContent(r.id).toPromise();h&&(u.viewerService.loadDocument({id:r.id,title:r.title,content:(h.pages||[]).map(m=>m.content||"").join("\n\n"),pages:(h.pages||[]).map(m=>({...m,spans:[]}))}),u.selectedDocumentId=r.id)}catch(h){console.error("Failed to open document:",h)}})()}goToPage(r){r>=1&&r<=this.totalPages&&r!==this.currentPage&&(this.currentPage=r,this.loadDocuments())}onUploadComplete(){this.refreshDocuments(),this.showUpload=!1}onUploadError(r){console.error("Upload error:",r)}trackByDocId(r,a){return a.id}getDocumentTypeClass(r){return r.includes("pdf")?"pdf":r.includes("word")?"word":r.includes("html")?"html":r.includes("text")?"text":"unknown"}formatFileSize(r){if(0===r)return"0 B";const h=Math.floor(Math.log(r)/Math.log(1024));return parseFloat((r/Math.pow(1024,h)).toFixed(1))+" "+["B","KB","MB","GB"][h]}formatDate(r){const a=new Date(r),h=(new Date).getTime()-a.getTime(),m=Math.floor(h/864e5);return 0===m?"Today":1===m?"Yesterday":m<7?`${m} days ago`:a.toLocaleDateString()}static{this.\u0275fac=function(a){return new(a||o)(l.rXU(IC),l.rXU(Or))}}static{this.\u0275cmp=l.VBU({type:o,selectors:[["app-sidebar-sources"]],standalone:!0,features:[l.aNF],decls:55,vars:21,consts:[[1,"sources-sidebar"],[1,"sidebar-header"],[1,"sidebar-title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],["title","Toggle upload panel",1,"upload-toggle-btn",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"upload-panel"],[3,"uploadComplete","uploadError"],[1,"filters-section"],[1,"search-box"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"search-icon","w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search documents...",1,"search-input",3,"ngModelChange","ngModel"],["class","clear-search-btn","title","Clear search","aria-label","Effacer la recherche",3,"click",4,"ngIf"],[1,"filter-group"],["for","typeFilter",1,"filter-label"],["id","typeFilter",1,"filter-select",3,"ngModelChange","ngModel"],["value",""],["value","application/pdf"],["value","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["value","text/html"],["value","text/plain"],["for","statusFilter",1,"filter-label"],["id","statusFilter",1,"filter-select",3,"ngModelChange","ngModel"],["value","ready"],["value","processing"],["value","error"],[1,"documents-section"],[1,"documents-header"],[1,"documents-count"],["title","Refresh documents",1,"refresh-btn",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"documents-list"],["class","loading-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","document-item","role","button","tabindex","0",3,"selected","click","keydown.enter",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination",4,"ngIf"],["title","Clear search","aria-label","Effacer la recherche",1,"clear-search-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"loading-state"],[1,"loading-spinner"],[1,"empty-state"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","empty-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"empty-message"],["class","upload-cta-btn",3,"click",4,"ngIf"],[1,"upload-cta-btn",3,"click"],["role","button","tabindex","0",1,"document-item",3,"click","keydown.enter"],[1,"document-icon"],[1,"document-info"],[1,"document-title",3,"title"],[1,"document-meta"],[1,"document-size"],[1,"document-date"],["class","document-stats",4,"ngIf"],[1,"document-status"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","w-4 h-4 animate-spin","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["title","Open document",1,"document-action-btn",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"document-stats"],["class","stat",4,"ngIf"],[1,"stat"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","animate-spin"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"pagination"],[1,"pagination-btn",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"pagination-info"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"]],template:function(a,u){1&a&&(l.j41(0,"div",0)(1,"div",1)(2,"h2",2),l.qSk(),l.j41(3,"svg",3),l.nrm(4,"path",4),l.k0s(),l.EFF(5," Sources "),l.k0s(),l.joV(),l.j41(6,"button",5),l.bIt("click",function(){return u.toggleUpload()}),l.qSk(),l.j41(7,"svg",6),l.nrm(8,"path",7),l.k0s()()(),l.joV(),l.j41(9,"div",8)(10,"app-upload-dropzone",9),l.bIt("uploadComplete",function(){return u.onUploadComplete()})("uploadError",function(m){return u.onUploadError(m)}),l.k0s()(),l.j41(11,"div",10)(12,"div",11),l.qSk(),l.j41(13,"svg",12),l.nrm(14,"path",13),l.k0s(),l.joV(),l.j41(15,"input",14),l.mxI("ngModelChange",function(m){return l.DH7(u.filters.search,m)||(u.filters.search=m),m}),l.bIt("ngModelChange",function(){return u.onFilterChange()}),l.k0s(),l.DNE(16,xs,3,0,"button",15),l.k0s(),l.j41(17,"div",16)(18,"label",17),l.EFF(19,"Type"),l.k0s(),l.j41(20,"select",18),l.mxI("ngModelChange",function(m){return l.DH7(u.filters.mimeType,m)||(u.filters.mimeType=m),m}),l.bIt("ngModelChange",function(){return u.onFilterChange()}),l.j41(21,"option",19),l.EFF(22,"All types"),l.k0s(),l.j41(23,"option",20),l.EFF(24,"PDF"),l.k0s(),l.j41(25,"option",21),l.EFF(26,"Word"),l.k0s(),l.j41(27,"option",22),l.EFF(28,"HTML"),l.k0s(),l.j41(29,"option",23),l.EFF(30,"Text"),l.k0s()()(),l.j41(31,"div",16)(32,"label",24),l.EFF(33,"Status"),l.k0s(),l.j41(34,"select",25),l.mxI("ngModelChange",function(m){return l.DH7(u.filters.status,m)||(u.filters.status=m),m}),l.bIt("ngModelChange",function(){return u.onFilterChange()}),l.j41(35,"option",19),l.EFF(36,"All status"),l.k0s(),l.j41(37,"option",26),l.EFF(38,"Ready"),l.k0s(),l.j41(39,"option",27),l.EFF(40,"Processing"),l.k0s(),l.j41(41,"option",28),l.EFF(42,"Error"),l.k0s()()()(),l.j41(43,"div",29)(44,"div",30)(45,"span",31),l.EFF(46),l.k0s(),l.j41(47,"button",32),l.bIt("click",function(){return u.refreshDocuments()}),l.qSk(),l.j41(48,"svg",6),l.nrm(49,"path",33),l.k0s()()(),l.joV(),l.j41(50,"div",34),l.DNE(51,SC,4,0,"div",35)(52,Mg,6,2,"div",36)(53,Eg,21,15,"div",37),l.k0s(),l.DNE(54,PC,9,4,"div",38),l.k0s()()),2&a&&(l.R7$(6),l.AVh("active",u.showUpload),l.R7$(3),l.AVh("expanded",u.showUpload),l.R7$(6),l.R50("ngModel",u.filters.search),l.BMQ("aria-label","Search documents"),l.R7$(),l.Y8G("ngIf",u.filters.search),l.R7$(4),l.R50("ngModel",u.filters.mimeType),l.R7$(14),l.R50("ngModel",u.filters.status),l.R7$(12),l.Lme(" ",u.totalDocuments," document",1!==u.totalDocuments?"s":""," "),l.R7$(),l.Y8G("disabled",u.isLoading),l.R7$(),l.AVh("animate-spin",u.isLoading),l.R7$(2),l.AVh("loading",u.isLoading),l.R7$(),l.Y8G("ngIf",u.isLoading&&0===u.documents.length),l.R7$(),l.Y8G("ngIf",!u.isLoading&&0===u.documents.length),l.R7$(),l.Y8G("ngForOf",u.documents)("ngForTrackBy",u.trackByDocId),l.R7$(),l.Y8G("ngIf",u.totalPages>1))},dependencies:[hn,mo,Js,bg,rd,Ps,_s,ri,bs,Tr,Bb],styles:['@charset "UTF-8";.sources-sidebar[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;background:#fff;border:1px solid #e5e7eb}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;border-bottom:1px solid #e5e7eb;background:#f9fafb}.sidebar-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0;font-size:.875rem;font-weight:600;color:#111827}.upload-toggle-btn[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;color:#6b7280;padding:.375rem;border-radius:.375rem;cursor:pointer;transition:all .15s}.upload-toggle-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#9ca3af}.upload-toggle-btn.active[_ngcontent-%COMP%]{background:#111827;color:#fff;border-color:#111827}.upload-panel[_ngcontent-%COMP%]{overflow:hidden;transition:all .3s ease;max-height:0}.upload-panel.expanded[_ngcontent-%COMP%]{max-height:200px;padding:1rem;border-bottom:1px solid #e5e7eb}.filters-section[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #e5e7eb;background:#f9fafb}.search-box[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem}.search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;top:50%;transform:translateY(-50%);color:#9ca3af}.search-input[_ngcontent-%COMP%]{width:100%;padding:.5rem .75rem .5rem 2.5rem;border:1px solid #d1d5db;border-radius:.375rem;font-size:.875rem;background:#fff}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#111827;box-shadow:0 0 0 1px #111827}.clear-search-btn[_ngcontent-%COMP%]{position:absolute;right:.5rem;top:50%;transform:translateY(-50%);background:none;border:none;color:#9ca3af;cursor:pointer;padding:.25rem}.clear-search-btn[_ngcontent-%COMP%]:hover{color:#6b7280}.filter-group[_ngcontent-%COMP%]{margin-bottom:.75rem}.filter-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.filter-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;font-weight:500;color:#374151;margin-bottom:.25rem}.filter-select[_ngcontent-%COMP%]{width:100%;padding:.375rem .5rem;border:1px solid #d1d5db;border-radius:.375rem;font-size:.875rem;background:#fff}.filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#111827}.documents-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.documents-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;border-bottom:1px solid #e5e7eb;background:#fff}.documents-count[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500}.refresh-btn[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;color:#6b7280;padding:.375rem;border-radius:.375rem;cursor:pointer;transition:all .15s}.refresh-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6;border-color:#9ca3af}.refresh-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.documents-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.documents-list.loading[_ngcontent-%COMP%]{opacity:.6}.loading-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;text-align:center}.loading-spinner[_ngcontent-%COMP%]{width:2rem;height:2rem;border:2px solid #e5e7eb;border-top:2px solid #111827;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-icon[_ngcontent-%COMP%]{color:#d1d5db;margin-bottom:1rem}.empty-message[_ngcontent-%COMP%]{color:#6b7280;font-size:.875rem;margin:0 0 1rem}.upload-cta-btn[_ngcontent-%COMP%]{background:#111827;color:#fff;border:none;padding:.5rem 1rem;border-radius:.375rem;font-size:.875rem;cursor:pointer;transition:background-color .15s}.upload-cta-btn[_ngcontent-%COMP%]:hover{background:#374151}.document-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;border-bottom:1px solid #f3f4f6;cursor:pointer;transition:background-color .15s}.document-item[_ngcontent-%COMP%]:hover{background:#f9fafb}.document-item.selected[_ngcontent-%COMP%]{background:#f3f4f6;border-left:3px solid #111827}.document-icon[_ngcontent-%COMP%]{flex-shrink:0;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;border-radius:.375rem}.document-icon.type-pdf[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.document-icon.type-word[_ngcontent-%COMP%]{background:#dbeafe;color:#2563eb}.document-icon.type-html[_ngcontent-%COMP%]{background:#dcfce7;color:#16a34a}.document-icon.type-text[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.document-icon.type-unknown[_ngcontent-%COMP%]{background:#f3f4f6;color:#9ca3af}.document-info[_ngcontent-%COMP%]{flex:1;min-width:0}.document-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#111827;margin:0 0 .25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.document-meta[_ngcontent-%COMP%]{display:flex;gap:.5rem;font-size:.75rem;color:#6b7280}.document-stats[_ngcontent-%COMP%]{display:flex;gap:.5rem;font-size:.75rem;color:#9ca3af;margin-top:.25rem}.stat[_ngcontent-%COMP%]:not(:last-child):after{content:"\\2022";margin-left:.5rem}.document-status[_ngcontent-%COMP%]{flex-shrink:0}.document-status.status-ready[_ngcontent-%COMP%]{color:#16a34a}.document-status.status-processing[_ngcontent-%COMP%]{color:#d97706}.document-status.status-error[_ngcontent-%COMP%]{color:#dc2626}.document-action-btn[_ngcontent-%COMP%]{flex-shrink:0;background:none;border:1px solid #d1d5db;color:#6b7280;padding:.375rem;border-radius:.375rem;cursor:pointer;transition:all .15s}.document-action-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6;border-color:#9ca3af}.document-action-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;padding:1rem;border-top:1px solid #e5e7eb;background:#fff}.pagination-btn[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;color:#6b7280;padding:.375rem;border-radius:.375rem;cursor:pointer;transition:all .15s}.pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6;border-color:#9ca3af}.pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-info[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;font-weight:500}@media (max-width: 768px){.sidebar-header[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]{padding:.75rem}.document-item[_ngcontent-%COMP%]{padding:.5rem .75rem}}']})}}return o})(),Wb=(()=>{class o{constructor(r){this.http=r,this.apiUrl="/api/rag",this.messagesSubject=new ut.t([]),this.messages$=this.messagesSubject.asObservable(),this.loadingSubject=new ut.t(!1),this.loading$=this.loadingSubject.asObservable()}searchCandidates(r,a=50,u){const h={query:r,top_k:a};return u&&(h.lang=u),this.http.post(`${this.apiUrl}/query`,h)}askQuestion(r,a=50,u){const h={query:r,top_k:a};u&&(h.lang=u),this.loadingSubject.next(!0);const m=this.http.post(`${this.apiUrl}/answer`,h);return m.subscribe({next:()=>this.loadingSubject.next(!1),error:()=>{this.loadingSubject.next(!1)}}),m}addUserMessage(r){const a=this.generateMessageId();return this.messagesSubject.next([...this.messagesSubject.value,{id:a,role:"user",content:r,timestamp:new Date}]),a}addAssistantMessage(r,a,u,h){const m=this.generateMessageId();return this.messagesSubject.next([...this.messagesSubject.value,{id:m,role:"assistant",content:r,sources:a,confidence:u,timestamp:new Date,processing_time_ms:h?.total_processing_time_ms,lang:h?.lang_detected}]),m}chatWithRag(r){var a=this;return(0,Qn.A)(function*(u,h=50,m){a.addUserMessage(u);try{const C=yield a.askQuestion(u,h,m).toPromise();C&&a.addAssistantMessage(C.answer,C.sources,C.confidence,C.stats)}catch(C){console.error("Erreur lors de la question RAG:",C),a.addAssistantMessage("D\xe9sol\xe9, une erreur est survenue lors du traitement de votre question. Veuillez r\xe9essayer.",[],0)}}).apply(this,arguments)}clearMessages(){this.messagesSubject.next([])}getStats(){return this.http.get(`${this.apiUrl}/stats`)}generateMessageId(){return`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}formatCitation(r){return`${r.title} (page ${r.page})`}extractCitations(r){const a=/\[([^\]]+)#([^:]+):([^\]]+)\]/g,u=[];let h;for(;null!==(h=a.exec(r));)u.push({id:`citation-${u.length}`,title:h[1],text:h[3],page:parseInt(h[2]),confidence:.8,spanStart:0,spanEnd:h[3].length});return{text:r,citations:u}}static{this.\u0275fac=function(a){return new(a||o)(l.KVO(Jr))}}static{this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const Sg=["messagesContainer"],qb=["queryInput"];function xC(o,s){if(1&o){const r=l.RV6();l.j41(0,"button",38),l.bIt("click",function(){const u=l.eBV(r).$implicit,h=l.XpG(3);return l.Njj(h.useExampleQuestion(u))}),l.qSk(),l.j41(1,"svg",10),l.nrm(2,"path",39),l.k0s(),l.EFF(3),l.k0s()}if(2&o){const r=s.$implicit;l.R7$(3),l.SpI(" ",r," ")}}function Tg(o,s){if(1&o&&(l.j41(0,"div",34)(1,"h4",35),l.EFF(2,"Try asking:"),l.k0s(),l.j41(3,"div",36),l.DNE(4,xC,4,1,"button",37),l.k0s()()),2&o){const r=l.XpG(2);l.R7$(4),l.Y8G("ngForOf",r.exampleQuestions)}}function fd(o,s){if(1&o&&(l.j41(0,"div",27)(1,"div",28),l.qSk(),l.j41(2,"svg",29),l.nrm(3,"path",30),l.k0s()(),l.joV(),l.j41(4,"h3",31),l.EFF(5,"Welcome to Regalica Notebook"),l.k0s(),l.j41(6,"p",32),l.EFF(7," Ask questions about your uploaded documents. I'll provide answers with precise citations and sources. "),l.k0s(),l.DNE(8,Tg,5,1,"div",33),l.k0s()),2&o){const r=l.XpG();l.R7$(8),l.Y8G("ngIf",r.exampleQuestions.length>0)}}function RC(o,s){if(1&o&&(l.j41(0,"div",46)(1,"div",47)(2,"div",48),l.EFF(3),l.k0s(),l.j41(4,"div",49),l.EFF(5),l.k0s()(),l.j41(6,"div",50),l.qSk(),l.j41(7,"svg",6),l.nrm(8,"path",51),l.k0s()()()),2&o){const r=l.XpG().$implicit,a=l.XpG(2);l.R7$(3),l.JRh(r.content),l.R7$(2),l.SpI(" ",a.formatTime(r.timestamp)," ")}}function kC(o,s){if(1&o&&(l.j41(0,"div",64)(1,"div",65),l.qSk(),l.j41(2,"svg",66),l.nrm(3,"path",67),l.k0s()(),l.joV(),l.j41(4,"div",68)(5,"h4"),l.EFF(6,"No relevant information found"),l.k0s(),l.j41(7,"p"),l.EFF(8),l.k0s()()()),2&o){const r=l.XpG(4);l.R7$(8),l.JRh(r.getNoAnswerExplanation())}}function Tc(o,s){if(1&o&&(l.j41(0,"span",80),l.EFF(1),l.k0s()),2&o){const r=l.XpG().$implicit;l.R7$(),l.SpI(" Page ",r.page," ")}}function FC(o,s){if(1&o){const r=l.RV6();l.j41(0,"button",75),l.bIt("click",function(){const u=l.eBV(r).$implicit,h=l.XpG(6);return l.Njj(h.onCitationClick(u))}),l.j41(1,"div",76)(2,"span",77),l.EFF(3),l.k0s(),l.DNE(4,Tc,2,1,"span",78),l.k0s(),l.j41(5,"div",79),l.EFF(6),l.k0s()()}if(2&o){const r=s.$implicit,a=l.XpG(6);l.HbH("confidence-"+a.getConfidenceLevel(r.confidence||0)),l.Y8G("title","Confidence: "+a.formatConfidence(r.confidence||0)),l.R7$(3),l.JRh(r.title),l.R7$(),l.Y8G("ngIf",r.page),l.R7$(2),l.SpI(" ",a.formatConfidence(r.confidence||0)," ")}}function LC(o,s){if(1&o&&(l.j41(0,"div",71)(1,"h4",72),l.EFF(2,"Sources:"),l.k0s(),l.j41(3,"div",73),l.DNE(4,FC,7,6,"button",74),l.k0s()()),2&o){const r=l.XpG(3).$implicit,a=l.XpG(2);l.R7$(4),l.Y8G("ngForOf",r.sources)("ngForTrackBy",a.trackBySourceId)}}function VC(o,s){if(1&o&&(l.j41(0,"div",48),l.nrm(1,"div",69),l.DNE(2,LC,5,2,"div",70),l.k0s()),2&o){const r=l.XpG(2).$implicit,a=l.XpG(2);l.R7$(),l.Y8G("innerHTML",a.formatMessageContent(r.content),l.npT),l.R7$(),l.Y8G("ngIf",r.sources&&r.sources.length>0)}}function jC(o,s){if(1&o&&(l.j41(0,"span",81),l.EFF(1),l.k0s()),2&o){const r=l.XpG(2).$implicit,a=l.XpG(2);l.R7$(),l.SpI(" ",a.formatProcessingTime(r.processing_time_ms)," ")}}function UC(o,s){if(1&o&&(l.j41(0,"div",82),l.nrm(1,"div",83),l.j41(2,"span",84),l.EFF(3),l.k0s()()),2&o){const r=l.XpG(2).$implicit,a=l.XpG(2);l.HbH(a.getConfidenceClass(r.confidence)),l.R7$(),l.xc7("width",100*r.confidence,"%"),l.R7$(2),l.SpI(" ",a.formatConfidence(r.confidence)," confidence ")}}function $C(o,s){if(1&o){const r=l.RV6();l.j41(0,"div",52)(1,"div",50),l.qSk(),l.j41(2,"svg",6),l.nrm(3,"path",30),l.k0s()(),l.joV(),l.j41(4,"div",47),l.DNE(5,kC,9,1,"div",53)(6,VC,3,2,"div",54),l.j41(7,"div",55)(8,"div",56)(9,"span",49),l.EFF(10),l.k0s(),l.DNE(11,jC,2,1,"span",57),l.k0s(),l.DNE(12,UC,4,5,"div",58),l.j41(13,"div",59)(14,"button",60),l.bIt("click",function(){l.eBV(r);const u=l.XpG().$implicit,h=l.XpG(2);return l.Njj(h.copyMessage(u))}),l.qSk(),l.j41(15,"svg",10),l.nrm(16,"path",61),l.k0s()(),l.joV(),l.j41(17,"button",62),l.bIt("click",function(){l.eBV(r);const u=l.XpG().$implicit,h=l.XpG(2);return l.Njj(h.improveQuestion(u))}),l.qSk(),l.j41(18,"svg",10),l.nrm(19,"path",63),l.k0s()()()()()()}if(2&o){const r=l.XpG().$implicit,a=l.XpG(2);l.R7$(5),l.Y8G("ngIf",a.isNoAnswer(r)),l.R7$(),l.Y8G("ngIf",!a.isNoAnswer(r)),l.R7$(4),l.SpI(" ",a.formatTime(r.timestamp)," "),l.R7$(),l.Y8G("ngIf",r.processing_time_ms),l.R7$(),l.Y8G("ngIf",void 0!==r.confidence)}}function BC(o,s){if(1&o&&(l.j41(0,"div",43),l.DNE(1,RC,9,2,"div",44)(2,$C,20,5,"div",45),l.k0s()),2&o){const r=s.$implicit;l.HbH("message-"+r.role),l.BMQ("data-testid","message-"+r.role),l.R7$(),l.Y8G("ngIf","user"===r.role),l.R7$(),l.Y8G("ngIf","assistant"===r.role)}}function Og(o,s){1&o&&(l.j41(0,"div",85)(1,"div",50),l.qSk(),l.j41(2,"svg",6),l.nrm(3,"path",30),l.k0s()(),l.joV(),l.j41(4,"div",86)(5,"div",87)(6,"div",88),l.nrm(7,"span")(8,"span")(9,"span"),l.k0s(),l.j41(10,"span",89),l.EFF(11,"Thinking..."),l.k0s()()()())}function Ag(o,s){if(1&o&&(l.j41(0,"div",40),l.DNE(1,BC,3,5,"div",41)(2,Og,12,0,"div",42),l.k0s()),2&o){const r=l.XpG();l.R7$(),l.Y8G("ngForOf",r.messages)("ngForTrackBy",r.trackByMessageId),l.R7$(),l.Y8G("ngIf",r.isStreaming)}}function HC(o,s){1&o&&(l.qSk(),l.j41(0,"svg",6),l.nrm(1,"path",90),l.k0s())}function Xb(o,s){1&o&&l.nrm(0,"div",91)}function Ng(o,s){if(1&o&&(l.j41(0,"div",92),l.nrm(1,"span",93),l.j41(2,"span",94),l.EFF(3),l.k0s()()),2&o){const r=l.XpG();l.R7$(),l.HbH("status-"+r.connectionStatus),l.R7$(2),l.JRh(r.getConnectionStatusText())}}let Pg=(()=>{class o{constructor(r,a,u){this.ragService=r,this.viewerService=a,this.appConfig=u,this.messages=[],this.currentQuery="",this.isStreaming=!1,this.connectionStatus="connected",this.destroy$=new Jt.B,this.shouldScrollToBottom=!1,this.exampleQuestions=["What are the main topics covered in the documents?","Can you summarize the key findings?","What are the most important recommendations?","Are there any specific conclusions mentioned?"]}ngOnInit(){this.setupSubscriptions(),this.loadChatHistory()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngAfterViewChecked(){this.shouldScrollToBottom&&(this.scrollToBottom(),this.shouldScrollToBottom=!1)}setupSubscriptions(){this.ragService.messages$.pipe(Vn(this.destroy$)).subscribe(r=>{this.messages=r,this.shouldScrollToBottom=!0}),this.ragService.loading$.pipe(Vn(this.destroy$)).subscribe(r=>{this.isStreaming=r,r&&(this.shouldScrollToBottom=!0)})}loadChatHistory(){}sendQuery(){var r=this;return(0,Qn.A)(function*(){const a=r.currentQuery.trim();if(a&&!r.isStreaming){r.currentQuery="";try{yield r.ragService.chatWithRag(a)}catch{r.connectionStatus="disconnected",setTimeout(()=>{r.connectionStatus="connected"},3e3)}}})()}useExampleQuestion(r){this.currentQuery=r,this.focusInput()}onKeyPress(r){"Enter"===r.key&&!r.shiftKey&&(r.preventDefault(),this.sendQuery())}clearChat(){confirm("Are you sure you want to clear the chat history?")&&this.ragService.clearMessages()}exportChat(){var r=this;return(0,Qn.A)(function*(){if(0!==r.messages.length)try{const a=r.messages.map(C=>({role:C.role,content:C.content,timestamp:C.timestamp.toISOString(),sources:C.sources||[],confidence:C.confidence,processingTimeMs:C.processing_time_ms})),u=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),h=URL.createObjectURL(u),m=document.createElement("a");m.href=h,m.download=`regalica-chat-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(h)}catch(a){console.error("Failed to export chat:",a),alert("Failed to export chat history.")}})()}onCitationClick(r){this.viewerService.scrollToSpan(r.id,r.page,r.spanStart,r.spanEnd,r.chunkId);const a=document.querySelector(`[data-source-id="${r.id}"][data-span-start="${r.spanStart}"]`);a&&(a.classList.add("citation-clicked"),setTimeout(()=>{a.classList.remove("citation-clicked")},1e3))}copyMessage(r){return(0,Qn.A)(function*(){try{yield navigator.clipboard.writeText(r.content)}catch(a){console.error("Error copying message:",a)}})()}improveQuestion(r){const a=this.messages.indexOf(r);if(a>0){const u=this.messages[a-1];"user"===u.role&&(this.currentQuery=`Please provide more details about: ${u.content}`,this.focusInput())}}formatMessageContent(r){return r.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,"<code>$1</code>").replace(/\n/g,"<br>")}formatTime(r){return r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}formatProcessingTime(r){return r<1e3?`${Math.round(r)}ms`:`${(r/1e3).toFixed(1)}s`}formatConfidence(r){return`${Math.round(100*r)}%`}getConfidenceLevel(r){return r>=.8?"high":r>=.6?"medium":"low"}getConfidenceClass(r){return`confidence-${this.getConfidenceLevel(r)}`}isNoAnswer(r){return"assistant"===r.role&&"NO_ANSWER"===r.content.trim()}getNoAnswerExplanation(){return"I couldn't find relevant information in the uploaded documents to answer your question. Try rephrasing your question or asking about a different topic."}getConnectionStatusText(){switch(this.connectionStatus){case"connecting":return"Connecting...";case"disconnected":return"Connection lost";default:return"Connected"}}trackByMessageId(r,a){return a.id}trackBySourceId(r,a){return a.id+a.spanStart+a.spanEnd}scrollToBottom(){try{if(this.messagesContainer){const r=this.messagesContainer.nativeElement;r.scrollTop=r.scrollHeight}}catch{}}focusInput(){setTimeout(()=>{this.queryInput&&this.queryInput.nativeElement.focus()},100)}static{this.\u0275fac=function(a){return new(a||o)(l.rXU(Wb),l.rXU(Or),l.rXU(Ya))}}static{this.\u0275cmp=l.VBU({type:o,selectors:[["app-chat-panel"]],viewQuery:function(a,u){if(1&a&&(l.GBs(Sg,5),l.GBs(qb,5)),2&a){let h;l.mGM(h=l.lsd())&&(u.messagesContainer=h.first),l.mGM(h=l.lsd())&&(u.queryInput=h.first)}},standalone:!0,features:[l.aNF],decls:36,vars:14,consts:[["messagesContainer",""],["queryInput",""],[1,"chat-panel"],[1,"chat-header"],[1,"header-content"],[1,"chat-title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"header-actions"],["title","Clear chat history",1,"header-btn",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"],["title","Export chat",1,"header-btn",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"messages-container"],["class","welcome-state",4,"ngIf"],["class","messages-list",4,"ngIf"],[1,"input-area"],[1,"input-container"],["placeholder","Ask a question about your documents...","rows","2","data-testid","query-input",1,"query-input",3,"ngModelChange","keydown","ngModel","disabled"],["data-testid","send-btn",1,"send-btn",3,"click","disabled"],["class","w-5 h-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"input-footer"],[1,"input-hints"],[1,"hint"],["class","input-status",4,"ngIf"],[1,"welcome-state"],[1,"welcome-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.663 17h4.673M12 3v1m6.364-.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"],[1,"welcome-title"],[1,"welcome-description"],["class","example-questions",4,"ngIf"],[1,"example-questions"],[1,"examples-title"],[1,"examples-grid"],["class","example-btn",3,"click",4,"ngFor","ngForOf"],[1,"example-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"messages-list"],["class","message-wrapper",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["class","streaming-indicator",4,"ngIf"],[1,"message-wrapper"],["class","user-message",4,"ngIf"],["class","assistant-message",4,"ngIf"],[1,"user-message"],[1,"message-bubble"],[1,"message-content"],[1,"message-timestamp"],[1,"message-avatar"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"assistant-message"],["class","no-answer-state",4,"ngIf"],["class","message-content",4,"ngIf"],[1,"message-footer"],[1,"message-meta"],["class","processing-time",4,"ngIf"],["class","confidence-bar",3,"class",4,"ngIf"],[1,"message-actions"],["title","Copy message",1,"action-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"],["title","Improve this question",1,"action-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],[1,"no-answer-state"],[1,"no-answer-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"no-answer-content"],[1,"answer-text",3,"innerHTML"],["class","message-sources",4,"ngIf"],[1,"message-sources"],[1,"sources-title"],[1,"sources-list"],["class","source-citation",3,"class","title","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"source-citation",3,"click","title"],[1,"citation-content"],[1,"citation-title"],["class","citation-location",4,"ngIf"],[1,"citation-confidence"],[1,"citation-location"],[1,"processing-time"],[1,"confidence-bar"],[1,"confidence-fill"],[1,"confidence-label"],[1,"streaming-indicator"],[1,"streaming-bubble"],[1,"streaming-content"],[1,"typing-dots"],[1,"streaming-text"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"],[1,"loading-spinner"],[1,"input-status"],[1,"status-indicator"],[1,"status-text"]],template:function(a,u){if(1&a){const h=l.RV6();l.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),l.qSk(),l.j41(4,"svg",6),l.nrm(5,"path",7),l.k0s(),l.EFF(6," Chat Assistant "),l.k0s(),l.joV(),l.j41(7,"div",8)(8,"button",9),l.bIt("click",function(){return l.eBV(h),l.Njj(u.clearChat())}),l.qSk(),l.j41(9,"svg",10),l.nrm(10,"path",11),l.k0s()(),l.joV(),l.j41(11,"button",12),l.bIt("click",function(){return l.eBV(h),l.Njj(u.exportChat())}),l.qSk(),l.j41(12,"svg",10),l.nrm(13,"path",13),l.k0s()()()()(),l.joV(),l.j41(14,"div",14,0),l.DNE(16,fd,9,1,"div",15)(17,Ag,3,3,"div",16),l.k0s(),l.j41(18,"div",17)(19,"div",18)(20,"textarea",19,1),l.mxI("ngModelChange",function(C){return l.eBV(h),l.DH7(u.currentQuery,C)||(u.currentQuery=C),l.Njj(C)}),l.bIt("keydown",function(C){return l.eBV(h),l.Njj(u.onKeyPress(C))}),l.k0s(),l.j41(22,"button",20),l.bIt("click",function(){return l.eBV(h),l.Njj(u.sendQuery())}),l.DNE(23,HC,2,0,"svg",21)(24,Xb,1,0,"div",22),l.k0s()(),l.j41(25,"div",23)(26,"div",24)(27,"span",25),l.EFF(28,"Press "),l.j41(29,"kbd"),l.EFF(30,"Enter"),l.k0s(),l.EFF(31," to send, "),l.j41(32,"kbd"),l.EFF(33,"Shift+Enter"),l.k0s(),l.EFF(34," for new line"),l.k0s()(),l.DNE(35,Ng,4,3,"div",26),l.k0s()()()}2&a&&(l.R7$(8),l.Y8G("disabled",0===u.messages.length),l.R7$(3),l.Y8G("disabled",0===u.messages.length),l.R7$(3),l.AVh("empty",0===u.messages.length),l.R7$(2),l.Y8G("ngIf",0===u.messages.length),l.R7$(),l.Y8G("ngIf",u.messages.length>0),l.R7$(3),l.R50("ngModel",u.currentQuery),l.Y8G("disabled",u.isStreaming),l.BMQ("aria-label","Ask a question about your documents"),l.R7$(2),l.Y8G("disabled",!u.currentQuery.trim()||u.isStreaming),l.BMQ("aria-label","Send message"),l.R7$(),l.Y8G("ngIf",!u.isStreaming),l.R7$(),l.Y8G("ngIf",u.isStreaming),l.R7$(11),l.Y8G("ngIf","connected"!==u.connectionStatus))},dependencies:[hn,mo,Js,bg,_s,bs,Tr],styles:[".chat-panel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;background:#fff}.chat-header[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb;background:#f9fafb}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem}.chat-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0;font-size:.875rem;font-weight:600;color:#111827}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.header-btn[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;color:#6b7280;padding:.375rem;border-radius:.375rem;cursor:pointer;transition:all .15s}.header-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6;border-color:#9ca3af}.header-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.messages-container.empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.welcome-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;max-width:32rem;margin:0 auto}.welcome-icon[_ngcontent-%COMP%]{margin-bottom:1.5rem}.welcome-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#d1d5db}.welcome-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#111827;margin:0 0 .5rem}.welcome-description[_ngcontent-%COMP%]{color:#6b7280;margin:0 0 2rem;line-height:1.5}.examples-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#374151;margin:0 0 1rem}.examples-grid[_ngcontent-%COMP%]{display:grid;gap:.5rem}.example-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem;background:#fff;border:1px solid #e5e7eb;border-radius:.5rem;text-align:left;font-size:.875rem;color:#374151;cursor:pointer;transition:all .15s}.example-btn[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#d1d5db}.example-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#9ca3af;flex-shrink:0}.messages-list[_ngcontent-%COMP%]{padding:1rem}.message-wrapper[_ngcontent-%COMP%]{margin-bottom:1.5rem}.message-wrapper[_ngcontent-%COMP%]:last-child{margin-bottom:0}.user-message[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem}.user-message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:#111827;color:#fff;border-radius:1rem 1rem .25rem;padding:.75rem 1rem;max-width:70%}.user-message[_ngcontent-%COMP%]   .message-avatar[_ngcontent-%COMP%]{order:2;flex-shrink:0;width:2rem;height:2rem;background:#f3f4f6;border-radius:50%;display:flex;align-items:center;justify-content:center}.user-message[_ngcontent-%COMP%]   .message-avatar[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#6b7280}.assistant-message[_ngcontent-%COMP%]{display:flex;gap:.75rem}.assistant-message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:#f9fafb;border:1px solid #e5e7eb;border-radius:1rem 1rem 1rem .25rem;padding:1rem;flex:1;max-width:70%}.assistant-message[_ngcontent-%COMP%]   .message-avatar[_ngcontent-%COMP%]{flex-shrink:0;width:2rem;height:2rem;background:#111827;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center}.message-content[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5;margin:0}.message-timestamp[_ngcontent-%COMP%]{font-size:.75rem;color:#ffffffb3;margin-top:.5rem}.assistant-message[_ngcontent-%COMP%]   .message-timestamp[_ngcontent-%COMP%]{color:#9ca3af}.no-answer-state[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1rem;background:#fef3c7;border:1px solid #fbbf24;border-radius:.5rem}.no-answer-icon[_ngcontent-%COMP%]{flex-shrink:0}.no-answer-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#d97706}.no-answer-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.875rem;font-weight:600;color:#92400e}.no-answer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#b45309}.answer-text[_ngcontent-%COMP%]{margin-bottom:1rem}.answer-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.answer-text[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-style:italic}.answer-text[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f3f4f6;padding:.125rem .25rem;border-radius:.25rem;font-family:monospace;font-size:.8125rem}.message-sources[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid #e5e7eb}.sources-title[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#374151;margin:0 0 .5rem}.sources-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.source-citation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.5rem;background:#fff;border:1px solid #e5e7eb;border-radius:.375rem;cursor:pointer;transition:all .15s;text-align:left}.source-citation[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#d1d5db}.source-citation.confidence-high[_ngcontent-%COMP%]{border-left:3px solid #16a34a}.source-citation.confidence-medium[_ngcontent-%COMP%]{border-left:3px solid #d97706}.source-citation.confidence-low[_ngcontent-%COMP%]{border-left:3px solid #dc2626}.citation-content[_ngcontent-%COMP%]{flex:1}.citation-title[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#111827;margin-bottom:.25rem}.citation-location[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.citation-confidence[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:#9ca3af}.message-footer[_ngcontent-%COMP%]{margin-top:1rem;padding-top:.75rem;border-top:1px solid #f3f4f6}.message-meta[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:.5rem}.processing-time[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.confidence-bar[_ngcontent-%COMP%]{position:relative;height:.25rem;background:#f3f4f6;border-radius:.125rem;margin-bottom:.75rem;overflow:hidden}.confidence-fill[_ngcontent-%COMP%]{height:100%;border-radius:.125rem;transition:width .3s ease}.confidence-high[_ngcontent-%COMP%]   .confidence-fill[_ngcontent-%COMP%]{background:#16a34a}.confidence-medium[_ngcontent-%COMP%]   .confidence-fill[_ngcontent-%COMP%]{background:#d97706}.confidence-low[_ngcontent-%COMP%]   .confidence-fill[_ngcontent-%COMP%]{background:#dc2626}.confidence-label[_ngcontent-%COMP%]{position:absolute;right:0;top:-1.5rem;font-size:.75rem;color:#6b7280}.message-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-btn[_ngcontent-%COMP%]{background:none;border:1px solid #e5e7eb;color:#6b7280;padding:.375rem;border-radius:.375rem;cursor:pointer;transition:all .15s}.action-btn[_ngcontent-%COMP%]:hover{background:#f9fafb;border-color:#d1d5db}.streaming-indicator[_ngcontent-%COMP%]{display:flex;gap:.75rem;padding:0 1rem 1rem}.streaming-bubble[_ngcontent-%COMP%]{background:#f9fafb;border:1px solid #e5e7eb;border-radius:1rem 1rem 1rem .25rem;padding:1rem}.streaming-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.typing-dots[_ngcontent-%COMP%]{display:flex;gap:.25rem}.typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:.375rem;height:.375rem;background:#9ca3af;border-radius:50%;animation:_ngcontent-%COMP%_typing 1.4s infinite ease-in-out}.typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}@keyframes _ngcontent-%COMP%_typing{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1);opacity:1}}.streaming-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.input-area[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;background:#fff;padding:1rem}.input-container[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:flex-end}.query-input[_ngcontent-%COMP%]{flex:1;min-height:2.5rem;max-height:8rem;padding:.75rem;border:1px solid #d1d5db;border-radius:.75rem;font-size:.875rem;line-height:1.4;resize:none}.query-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#111827;box-shadow:0 0 0 1px #111827}.query-input[_ngcontent-%COMP%]:disabled{background:#f9fafb;color:#9ca3af;cursor:not-allowed}.send-btn[_ngcontent-%COMP%]{flex-shrink:0;width:2.5rem;height:2.5rem;background:#111827;color:#fff;border:none;border-radius:.75rem;cursor:pointer;transition:all .15s;display:flex;align-items:center;justify-content:center}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#374151}.send-btn[_ngcontent-%COMP%]:disabled{background:#d1d5db;cursor:not-allowed}.loading-spinner[_ngcontent-%COMP%]{width:1rem;height:1rem;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:spin 1s linear infinite}.input-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:.75rem}.input-hints[_ngcontent-%COMP%]{font-size:.75rem;color:#9ca3af}.input-hints[_ngcontent-%COMP%]   kbd[_ngcontent-%COMP%]{background:#f3f4f6;border:1px solid #d1d5db;border-radius:.25rem;padding:.125rem .25rem;font-family:monospace;font-size:.6875rem}.input-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem}.status-indicator[_ngcontent-%COMP%]{width:.5rem;height:.5rem;border-radius:50%}.status-indicator.status-connected[_ngcontent-%COMP%]{background:#16a34a}.status-indicator.status-connecting[_ngcontent-%COMP%]{background:#d97706;animation:_ngcontent-%COMP%_pulse 2s infinite}.status-indicator.status-disconnected[_ngcontent-%COMP%]{background:#dc2626}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.status-text[_ngcontent-%COMP%]{color:#6b7280}@media (max-width: 768px){.welcome-state[_ngcontent-%COMP%]{padding:2rem 1rem}.messages-list[_ngcontent-%COMP%]{padding:.75rem}.message-bubble[_ngcontent-%COMP%]{max-width:85%!important}.input-area[_ngcontent-%COMP%]{padding:.75rem}.input-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}}"]})}}return o})();function co(o,s){if(1&o){const r=l.RV6();l.j41(0,"div",12)(1,"button",13),l.bIt("click",function(){l.eBV(r);const u=l.XpG();return l.Njj(u.zoomOut())}),l.qSk(),l.j41(2,"svg",14),l.nrm(3,"path",15),l.k0s()(),l.joV(),l.j41(4,"span",16),l.EFF(5),l.k0s(),l.j41(6,"button",17),l.bIt("click",function(){l.eBV(r);const u=l.XpG();return l.Njj(u.zoomIn())}),l.qSk(),l.j41(7,"svg",14),l.nrm(8,"path",18),l.k0s()()()}if(2&o){const r=l.XpG();l.R7$(),l.Y8G("disabled",r.zoomLevel<=.5),l.R7$(4),l.SpI("",r.Math.round(100*r.zoomLevel),"%"),l.R7$(),l.Y8G("disabled",r.zoomLevel>=2)}}function xg(o,s){if(1&o&&(l.j41(0,"div",19)(1,"h4",20),l.EFF(2),l.k0s(),l.j41(3,"div",21)(4,"span",22),l.EFF(5),l.k0s()()()),2&o){const r=l.XpG();l.R7$(2),l.JRh(r.currentDocument.title),l.R7$(3),l.Lme(" Page ",r.currentPage," of ",(null==r.currentDocument.pages?null:r.currentDocument.pages.length)||0," ")}}function GC(o,s){1&o&&(l.j41(0,"div",23)(1,"div",24),l.qSk(),l.j41(2,"svg",25),l.nrm(3,"path",5),l.k0s()(),l.joV(),l.j41(4,"h3",26),l.EFF(5,"No Document Selected"),l.k0s(),l.j41(6,"p",27),l.EFF(7," Select a document from the sources panel or click on a citation to view it here. "),l.k0s()())}function Qb(o,s){if(1&o&&l.nrm(0,"div",33),2&o){const r=s.$implicit;l.HbH("highlight-"+r.type),l.xc7("top",r.top,"px")("left",r.left,"px")("width",r.width,"px")("height",r.height,"px"),l.Y8G("title",r.text)}}function hd(o,s){if(1&o&&(l.j41(0,"div",28)(1,"div",29),l.nrm(2,"div",30),l.j41(3,"div",31),l.DNE(4,Qb,1,11,"div",32),l.k0s()()()),2&o){const r=l.XpG();l.R7$(),l.xc7("transform","scale("+r.zoomLevel+")")("transform-origin","top left"),l.R7$(),l.Y8G("innerHTML",r.getHighlightedContent(r.getCurrentPageContent()),l.npT),l.R7$(2),l.Y8G("ngForOf",r.currentHighlights)}}function pd(o,s){if(1&o&&(l.j41(0,"option",42),l.EFF(1),l.k0s()),2&o){const r=s.index;l.Y8G("value",r+1),l.R7$(),l.SpI(" Page ",r+1," ")}}function zC(o,s){if(1&o){const r=l.RV6();l.j41(0,"div",34)(1,"button",35),l.bIt("click",function(){l.eBV(r);const u=l.XpG();return l.Njj(u.previousPage())}),l.qSk(),l.j41(2,"svg",14),l.nrm(3,"path",36),l.k0s()(),l.joV(),l.j41(4,"div",37)(5,"select",38),l.mxI("ngModelChange",function(u){l.eBV(r);const h=l.XpG();return l.DH7(h.currentPage,u)||(h.currentPage=u),l.Njj(u)}),l.bIt("ngModelChange",function(u){l.eBV(r);const h=l.XpG();return l.Njj(h.goToPage(+u))}),l.DNE(6,pd,2,2,"option",39),l.k0s()(),l.j41(7,"button",40),l.bIt("click",function(){l.eBV(r);const u=l.XpG();return l.Njj(u.nextPage())}),l.qSk(),l.j41(8,"svg",14),l.nrm(9,"path",41),l.k0s()()()}if(2&o){const r=l.XpG();l.R7$(),l.Y8G("disabled",1===r.currentPage),l.R7$(4),l.R50("ngModel",r.currentPage),l.R7$(),l.Y8G("ngForOf",r.currentDocument.pages),l.R7$(),l.Y8G("disabled",r.currentPage===(r.currentDocument.pages.length||0))}}let Rg=(()=>{class o{constructor(r){this.viewerService=r,this.currentDocument=null,this.currentPage=1,this.zoomLevel=1,this.currentHighlights=[],this.destroy$=new Jt.B,this.Math=Math}ngOnInit(){this.setupSubscriptions()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setupSubscriptions(){this.viewerService.currentDocument$.pipe(Vn(this.destroy$)).subscribe(r=>{this.currentDocument=r,r&&(this.currentPage=1,this.zoomLevel=1)}),this.viewerService.currentPage$.pipe(Vn(this.destroy$)).subscribe(r=>{this.currentPage=r}),this.viewerService.highlightedSpans$.pipe(Vn(this.destroy$)).subscribe(()=>{})}getCurrentPageContent(){return this.currentDocument&&this.currentDocument.pages&&this.currentDocument.pages[this.currentPage-1]&&this.currentDocument.pages[this.currentPage-1].content||""}getHighlightedContent(r){if(!r)return"";const a=this.viewerService.getHighlightsForCurrentPage();if(0===a.length)return r;const u=a.sort((m,C)=>C.spanStart-m.spanStart);let h=r;return u.forEach(m=>{const C=h.substring(0,m.spanStart),_=h.substring(m.spanStart,m.spanEnd),b=h.substring(m.spanEnd);h=C+`<span class="citation-highlight" \n                                   data-span-start="${m.spanStart}" \n                                   data-span-end="${m.spanEnd}"\n                                   ${m.chunkId?`data-chunk-id="${m.chunkId}"`:""}\n                                   title="Citation mise en \xe9vidence">${_}</span>`+b}),h}scrollToSpan(r){}previousPage(){this.currentPage>1&&this.currentPage--}nextPage(){this.currentDocument&&this.currentDocument.pages&&this.currentPage<this.currentDocument.pages.length&&this.currentPage++}goToPage(r){this.currentDocument&&this.currentDocument.pages&&r>=1&&r<=this.currentDocument.pages.length&&(this.currentPage=r)}zoomIn(){this.zoomLevel<2&&(this.zoomLevel=Math.min(2,this.zoomLevel+.25))}zoomOut(){this.zoomLevel>.5&&(this.zoomLevel=Math.max(.5,this.zoomLevel-.25))}static{this.\u0275fac=function(a){return new(a||o)(l.rXU(Or))}}static{this.\u0275cmp=l.VBU({type:o,selectors:[["app-viewer-panel"]],standalone:!0,features:[l.aNF],decls:13,vars:7,consts:[[1,"viewer-panel"],[1,"viewer-header"],[1,"header-content"],[1,"viewer-title"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["class","header-actions",4,"ngIf"],["class","document-info",4,"ngIf"],[1,"viewer-content"],["class","empty-state",4,"ngIf"],["class","document-container",4,"ngIf"],["class","viewer-navigation",4,"ngIf"],[1,"header-actions"],["title","Zoom out",1,"header-btn",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"],[1,"zoom-level"],["title","Zoom in",1,"header-btn",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"],[1,"document-info"],[1,"document-title"],[1,"document-meta"],[1,"page-info"],[1,"empty-state"],[1,"empty-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16"],[1,"empty-title"],[1,"empty-description"],[1,"document-container"],[1,"document-page"],[1,"page-content",3,"innerHTML"],[1,"highlights-overlay"],["class","highlight-span",3,"class","top","left","width","height","title",4,"ngFor","ngForOf"],[1,"highlight-span",3,"title"],[1,"viewer-navigation"],["title","Previous page",1,"nav-btn",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"page-selector"],[1,"page-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["title","Next page",1,"nav-btn",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[3,"value"]],template:function(a,u){1&a&&(l.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),l.qSk(),l.j41(4,"svg",4),l.nrm(5,"path",5),l.k0s(),l.EFF(6," Document Viewer "),l.k0s(),l.DNE(7,co,9,3,"div",6),l.k0s(),l.DNE(8,xg,6,3,"div",7),l.k0s(),l.joV(),l.j41(9,"div",8),l.DNE(10,GC,8,0,"div",9)(11,hd,5,6,"div",10),l.k0s(),l.DNE(12,zC,10,4,"div",11),l.k0s()),2&a&&(l.R7$(7),l.Y8G("ngIf",u.currentDocument),l.R7$(),l.Y8G("ngIf",u.currentDocument),l.R7$(),l.AVh("has-document",u.currentDocument),l.R7$(),l.Y8G("ngIf",!u.currentDocument),l.R7$(),l.Y8G("ngIf",u.currentDocument),l.R7$(),l.Y8G("ngIf",u.currentDocument&&u.currentDocument.pages&&u.currentDocument.pages.length>1))},dependencies:[hn,mo,Js,bg,rd,Ps,ri,bs,Tr],styles:['.viewer-panel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;background:#fff;border:1px solid #e5e7eb}.viewer-header[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb;background:#f9fafb}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem}.viewer-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0;font-size:.875rem;font-weight:600;color:#111827}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.header-btn[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;color:#6b7280;padding:.375rem;border-radius:.375rem;cursor:pointer;transition:all .15s}.header-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6;border-color:#9ca3af}.header-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.zoom-level[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;font-weight:500;min-width:3rem;text-align:center}.document-info[_ngcontent-%COMP%]{padding:0 1rem 1rem}.document-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#111827;margin:0 0 .25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.document-meta[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.viewer-content[_ngcontent-%COMP%]{flex:1;overflow:auto;position:relative}.viewer-content[_ngcontent-%COMP%]:not(.has-document){display:flex;align-items:center;justify-content:center}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;max-width:24rem}.empty-icon[_ngcontent-%COMP%]{margin-bottom:1.5rem}.empty-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#d1d5db}.empty-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#111827;margin:0 0 .5rem}.empty-description[_ngcontent-%COMP%]{color:#6b7280;margin:0;line-height:1.5}.document-container[_ngcontent-%COMP%]{padding:1rem;min-height:100%}.document-page[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:.5rem;box-shadow:0 4px 6px -1px #0000001a;position:relative;transition:transform .2s ease}.page-content[_ngcontent-%COMP%]{padding:2rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:.875rem;line-height:1.6;color:#111827}.page-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:600;margin:1.5rem 0 .75rem;color:#111827}.page-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:first-child, .page-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:first-child, .page-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:first-child, .page-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:first-child, .page-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]:first-child, .page-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]:first-child{margin-top:0}.page-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.page-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.page-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem}.page-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.page-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.875rem}.page-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.75rem}.page-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1rem}.page-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0 0 1rem;padding-left:1.5rem}.page-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.25rem}.page-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{border-left:4px solid #e5e7eb;padding-left:1rem;margin:1rem 0;font-style:italic;color:#6b7280}.page-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f3f4f6;padding:.125rem .25rem;border-radius:.25rem;font-family:SF Mono,Monaco,Cascadia Code,monospace;font-size:.8125rem}.page-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background:#f9fafb;border:1px solid #e5e7eb;border-radius:.5rem;padding:1rem;overflow-x:auto;margin:1rem 0}.page-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:none;padding:0}.page-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:1rem 0}.page-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #e5e7eb;padding:.5rem;text-align:left}.page-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f9fafb;font-weight:600}.highlights-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none}.highlight-span[_ngcontent-%COMP%]{position:absolute;border-radius:.25rem;transition:all .2s ease}.highlight-span.highlight-citation[_ngcontent-%COMP%]{background:#3b82f633;border:1px solid #3b82f6}.highlight-span.highlight-search[_ngcontent-%COMP%]{background:#fbbf244d;border:1px solid #f59e0b}.highlight-span.highlight-selection[_ngcontent-%COMP%]{background:#10b98133;border:1px solid #10b981}.page-content[_ngcontent-%COMP%]   mark[_ngcontent-%COMP%]{border-radius:.25rem;padding:.125rem .25rem}.page-content[_ngcontent-%COMP%]   mark.highlight-citation[_ngcontent-%COMP%]{background:#3b82f633;color:#1e40af;border:1px solid #3b82f6}.page-content[_ngcontent-%COMP%]   mark.highlight-search[_ngcontent-%COMP%]{background:#fbbf244d;color:#92400e;border:1px solid #f59e0b}.page-content[_ngcontent-%COMP%]   mark.highlight-selection[_ngcontent-%COMP%]{background:#10b98133;color:#047857;border:1px solid #10b981}.page-content[_ngcontent-%COMP%]   .viewer-highlight-span[_ngcontent-%COMP%]{background:#fbbf244d;border:1px solid #f59e0b;border-radius:.25rem;padding:.125rem .25rem;transition:all .3s ease}.page-content[_ngcontent-%COMP%]   .viewer-highlight-span.viewer-highlight-active[_ngcontent-%COMP%]{background:#fbbf2480;border-color:#d97706;box-shadow:0 0 0 2px #fbbf2433}.page-content[_ngcontent-%COMP%]   .viewer-highlight-span.viewer-highlight-flash[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_highlightFlash 2s ease-in-out}.page-content[_ngcontent-%COMP%]   .citation-highlight[_ngcontent-%COMP%]{background:#3b82f626;border:1px solid rgba(59,130,246,.3);border-radius:.25rem;padding:.125rem .25rem;color:#1e40af;font-weight:500;cursor:pointer;transition:all .2s ease}.page-content[_ngcontent-%COMP%]   .citation-highlight[_ngcontent-%COMP%]:hover{background:#3b82f640;border-color:#3b82f680;box-shadow:0 0 0 2px #3b82f61a}.page-content[_ngcontent-%COMP%]   .citation-highlight.active[_ngcontent-%COMP%]{background:#3b82f64d;border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f633;animation:_ngcontent-%COMP%_citationPulse 1.5s ease-in-out}.page-content[_ngcontent-%COMP%]   [data-span-start][data-span-end][_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s ease;border-radius:.25rem}.page-content[_ngcontent-%COMP%]   [data-span-start][data-span-end][_ngcontent-%COMP%]:hover{background:#e5e7eb80}.viewer-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;padding:1rem;border-top:1px solid #e5e7eb;background:#fff}.nav-btn[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;color:#6b7280;padding:.5rem;border-radius:.375rem;cursor:pointer;transition:all .15s}.nav-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6;border-color:#9ca3af}.nav-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-selector[_ngcontent-%COMP%]{display:flex;align-items:center}.page-select[_ngcontent-%COMP%]{background:#fff;border:1px solid #d1d5db;border-radius:.375rem;padding:.5rem .75rem;font-size:.875rem;color:#111827;cursor:pointer}.page-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#111827;box-shadow:0 0 0 1px #111827}.viewer-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.viewer-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f9fafb}.viewer-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:4px}.viewer-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}@media (max-width: 768px){.document-container[_ngcontent-%COMP%]{padding:.5rem}.page-content[_ngcontent-%COMP%]{padding:1rem;font-size:.8125rem}.viewer-navigation[_ngcontent-%COMP%], .header-content[_ngcontent-%COMP%]{padding:.75rem}.document-info[_ngcontent-%COMP%]{padding:0 .75rem .75rem}}@keyframes _ngcontent-%COMP%_highlightPulse{0%{opacity:.3}50%{opacity:.8}to{opacity:.3}}@keyframes _ngcontent-%COMP%_highlightFlash{0%{background:#fbbf244d;box-shadow:0 0 0 2px #fbbf2433}50%{background:#fbbf24b3;box-shadow:0 0 0 4px #fbbf2466}to{background:#fbbf244d;box-shadow:0 0 0 2px #fbbf2433}}@keyframes _ngcontent-%COMP%_citationPulse{0%{background:#3b82f626;box-shadow:0 0 0 2px #3b82f61a}50%{background:#3b82f666;box-shadow:0 0 0 4px #3b82f64d}to{background:#3b82f626;box-shadow:0 0 0 2px #3b82f61a}}.highlight-span.highlight-citation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_highlightPulse 2s ease-in-out 3}.viewer-content.loading[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:2rem;height:2rem;border:2px solid #e5e7eb;border-top:2px solid #111827;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:translate(-50%,-50%) rotate(360deg)}}']})}}return o})(),gd=(()=>{class o{toggleMagicStudio(){}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=l.VBU({type:o,selectors:[["app-magic-button"]],standalone:!0,features:[l.aNF],decls:5,vars:0,consts:[["title","Magic Studio",1,"magic-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.663 17h4.673M12 3v1m6.364-.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"]],template:function(a,u){1&a&&(l.j41(0,"button",0),l.bIt("click",function(){return u.toggleMagicStudio()}),l.qSk(),l.j41(1,"svg",1),l.nrm(2,"path",2),l.k0s(),l.joV(),l.j41(3,"span"),l.EFF(4,"Magic"),l.k0s()())},dependencies:[hn],styles:[".magic-button[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem;z-index:50;display:flex;align-items:center;gap:.5rem;background:#111827;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:2rem;font-size:.875rem;font-weight:500;cursor:pointer;box-shadow:0 10px 15px -3px #0000001a;transition:all .2s}.magic-button[_ngcontent-%COMP%]:hover{background:#374151;transform:translateY(-2px);box-shadow:0 20px 25px -5px #0000001a}.magic-button[_ngcontent-%COMP%]:active{transform:translateY(0)}"]})}}return o})();function WC(o,s){1&o&&(l.j41(0,"div",6)(1,"aside",7),l.nrm(2,"app-sidebar-sources"),l.k0s(),l.j41(3,"main",8),l.nrm(4,"app-chat-panel"),l.k0s(),l.j41(5,"aside",9),l.nrm(6,"app-viewer-panel"),l.k0s()())}function Oc(o,s){if(1&o){const r=l.RV6();l.j41(0,"div",10)(1,"aside",11),l.nrm(2,"app-sidebar-sources"),l.k0s(),l.j41(3,"main",12),l.nrm(4,"app-chat-panel"),l.k0s(),l.j41(5,"aside",13),l.nrm(6,"app-viewer-panel"),l.k0s(),l.j41(7,"nav",14)(8,"button",15),l.bIt("click",function(){l.eBV(r);const u=l.XpG();return l.Njj(u.setActivePanel("chat"))}),l.qSk(),l.j41(9,"svg",16),l.nrm(10,"path",17),l.k0s(),l.EFF(11," Chat "),l.k0s(),l.joV(),l.j41(12,"button",15),l.bIt("click",function(){l.eBV(r);const u=l.XpG();return l.Njj(u.setActivePanel("viewer"))}),l.qSk(),l.j41(13,"svg",16),l.nrm(14,"path",18),l.k0s(),l.EFF(15," Document "),l.k0s()()()}if(2&o){const r=l.XpG();l.R7$(),l.AVh("hidden","viewer"===r.activePanel),l.R7$(2),l.AVh("hidden","viewer"===r.activePanel),l.R7$(2),l.AVh("hidden","viewer"!==r.activePanel),l.R7$(3),l.AVh("active","viewer"!==r.activePanel),l.BMQ("aria-selected","viewer"!==r.activePanel),l.R7$(4),l.AVh("active","viewer"===r.activePanel),l.BMQ("aria-selected","viewer"===r.activePanel)}}function Kb(o,s){1&o&&l.nrm(0,"app-sidebar-sources")}function Yb(o,s){1&o&&l.nrm(0,"app-chat-panel")}function qC(o,s){1&o&&l.nrm(0,"app-viewer-panel")}function Zb(o,s){if(1&o){const r=l.RV6();l.j41(0,"div",19)(1,"div",20),l.DNE(2,Kb,1,0,"app-sidebar-sources",21)(3,Yb,1,0,"app-chat-panel",21)(4,qC,1,0,"app-viewer-panel",21),l.k0s(),l.j41(5,"nav",22)(6,"button",23),l.bIt("click",function(){l.eBV(r);const u=l.XpG();return l.Njj(u.setActivePanel("sources"))}),l.qSk(),l.j41(7,"svg",24),l.nrm(8,"path",25),l.k0s(),l.joV(),l.j41(9,"span"),l.EFF(10,"Sources"),l.k0s()(),l.j41(11,"button",23),l.bIt("click",function(){l.eBV(r);const u=l.XpG();return l.Njj(u.setActivePanel("chat"))}),l.qSk(),l.j41(12,"svg",24),l.nrm(13,"path",17),l.k0s(),l.joV(),l.j41(14,"span"),l.EFF(15,"Chat"),l.k0s()(),l.j41(16,"button",23),l.bIt("click",function(){l.eBV(r);const u=l.XpG();return l.Njj(u.setActivePanel("viewer"))}),l.qSk(),l.j41(17,"svg",24),l.nrm(18,"path",18),l.k0s(),l.joV(),l.j41(19,"span"),l.EFF(20,"Document"),l.k0s()()()()}if(2&o){const r=l.XpG();l.R7$(2),l.Y8G("ngIf","sources"===r.activePanel),l.R7$(),l.Y8G("ngIf","chat"===r.activePanel),l.R7$(),l.Y8G("ngIf","viewer"===r.activePanel),l.R7$(2),l.AVh("active","sources"===r.activePanel),l.BMQ("aria-selected","sources"===r.activePanel),l.R7$(5),l.AVh("active","chat"===r.activePanel),l.BMQ("aria-selected","chat"===r.activePanel),l.R7$(5),l.AVh("active","viewer"===r.activePanel),l.BMQ("aria-selected","viewer"===r.activePanel)}}function oi(o,s){1&o&&(l.qSk(),l.j41(0,"svg",16),l.nrm(1,"path",26),l.k0s())}function Jb(o,s){1&o&&(l.qSk(),l.j41(0,"svg",16),l.nrm(1,"path",27),l.k0s())}let Ac=(()=>{class o{constructor(r){this.appConfig=r,this.currentLayout="desktop",this.activePanel="chat",this.currentTheme="light",this.destroy$=new Jt.B}ngOnInit(){this.updateLayout(),this.loadThemePreference(),this.setupKeyboardShortcuts()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onResize(){this.updateLayout()}onKeyDown(r){if(r.ctrlKey||r.metaKey)switch(r.key){case"1":r.preventDefault(),this.setActivePanel("sources");break;case"2":r.preventDefault(),this.setActivePanel("chat");break;case"3":r.preventDefault(),this.setActivePanel("viewer");break;case"k":r.preventDefault(),this.focusChatInput()}}updateLayout(){const r=window.innerWidth;this.currentLayout=r>=1280?"desktop":r>=768?"tablet":"mobile"}setActivePanel(r){this.activePanel=r,"chat"===r&&setTimeout(()=>this.focusChatInput(),100)}focusChatInput(){const r=document.querySelector('[data-testid="query-input"]');r&&r.focus()}toggleTheme(){this.currentTheme="light"===this.currentTheme?"dark":"light",this.saveThemePreference(),this.applyTheme()}loadThemePreference(){const r=localStorage.getItem("regalica-theme");if("dark"===r||"light"===r)this.currentTheme=r;else{const a=window.matchMedia("(prefers-color-scheme: dark)").matches;this.currentTheme=a?"dark":"light"}this.applyTheme()}saveThemePreference(){localStorage.setItem("regalica-theme",this.currentTheme)}applyTheme(){document.documentElement.setAttribute("data-theme",this.currentTheme),document.documentElement.classList.toggle("dark","dark"===this.currentTheme)}setupKeyboardShortcuts(){}static{this.\u0275fac=function(a){return new(a||o)(l.rXU(Ya))}}static{this.\u0275cmp=l.VBU({type:o,selectors:[["app-shell"]],hostBindings:function(a,u){1&a&&l.bIt("resize",function(m){return u.onResize(m)},!1,l.tSv)("keydown",function(m){return u.onKeyDown(m)},!1,l.tSv)},standalone:!0,features:[l.aNF],decls:8,vars:9,consts:[[1,"shell-container"],["class","desktop-layout",4,"ngIf"],["class","tablet-layout",4,"ngIf"],["class","mobile-layout",4,"ngIf"],[1,"theme-toggle",3,"click"],["class","w-5 h-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"desktop-layout"],["role","complementary","aria-label","Sources panel",1,"sources-panel","panel-shadow"],["role","main","aria-label","Chat panel",1,"chat-panel"],["role","complementary","aria-label","Document viewer",1,"viewer-panel","panel-shadow"],[1,"tablet-layout"],["role","complementary",1,"sources-panel","panel-shadow"],["role","main",1,"chat-panel"],["role","complementary",1,"viewer-panel","panel-shadow","full-width"],["role","tablist",1,"tablet-tabs"],["role","tab",1,"tab-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"mobile-layout"],[1,"mobile-content"],[4,"ngIf"],["role","tablist",1,"mobile-nav"],["role","tab",1,"nav-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"]],template:function(a,u){1&a&&(l.j41(0,"div",0),l.DNE(1,WC,7,0,"div",1)(2,Oc,16,12,"div",2)(3,Zb,21,12,"div",3),l.nrm(4,"app-magic-button"),l.j41(5,"button",4),l.bIt("click",function(){return u.toggleTheme()}),l.DNE(6,oi,2,0,"svg",5)(7,Jb,2,0,"svg",5),l.k0s()()),2&a&&(l.HbH("layout-"+u.currentLayout),l.BMQ("data-theme",u.currentTheme),l.R7$(),l.Y8G("ngIf","desktop"===u.currentLayout),l.R7$(),l.Y8G("ngIf","tablet"===u.currentLayout),l.R7$(),l.Y8G("ngIf","mobile"===u.currentLayout),l.R7$(2),l.BMQ("aria-label","Switch to "+("light"===u.currentTheme?"dark":"light")+" theme"),l.R7$(),l.Y8G("ngIf","light"===u.currentTheme),l.R7$(),l.Y8G("ngIf","dark"===u.currentTheme))},dependencies:[hn,Js,Ig,Pg,Rg,gd],styles:["[_ngcontent-%COMP%]:root{--color-bg-primary: #ffffff;--color-bg-secondary: #f9fafb;--color-bg-tertiary: #f3f4f6;--color-text-primary: #111827;--color-text-secondary: #6b7280;--color-text-tertiary: #9ca3af;--color-border: #e5e7eb;--color-border-hover: #d1d5db;--color-accent: #111827;--color-accent-hover: #374151;--color-success: #16a34a;--color-warning: #d97706;--color-error: #dc2626;--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / .05);--shadow-md: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--transition-fast: .15s ease-in-out;--transition-medium: .25s ease-in-out;--transition-slow: .35s ease-in-out;--radius-sm: .375rem;--radius-md: .5rem;--radius-lg: .75rem;--radius-xl: 1rem;--radius-2xl: 1.5rem}[data-theme=dark][_ngcontent-%COMP%]{--color-bg-primary: #111827;--color-bg-secondary: #1f2937;--color-bg-tertiary: #374151;--color-text-primary: #f9fafb;--color-text-secondary: #d1d5db;--color-text-tertiary: #9ca3af;--color-border: #374151;--color-border-hover: #4b5563;--color-accent: #f9fafb;--color-accent-hover: #e5e7eb;--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / .3);--shadow-md: 0 4px 6px -1px rgb(0 0 0 / .4), 0 2px 4px -2px rgb(0 0 0 / .4);--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / .4), 0 4px 6px -4px rgb(0 0 0 / .4);--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / .4), 0 8px 10px -6px rgb(0 0 0 / .4)}.shell-container[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:var(--color-bg-secondary);color:var(--color-text-primary);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;overflow:hidden;position:relative;transition:background-color var(--transition-medium)}.panel-shadow[_ngcontent-%COMP%]{background-color:var(--color-bg-primary);border:1px solid var(--color-border);box-shadow:var(--shadow-lg);border-radius:var(--radius-2xl);transition:all var(--transition-medium)}.panel-shadow[_ngcontent-%COMP%]:hover{border-color:var(--color-border-hover);box-shadow:var(--shadow-xl);transform:translateY(-1px)}.desktop-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:360px 1fr 520px;gap:1rem;padding:1rem;height:100vh}.desktop-layout[_ngcontent-%COMP%]   .sources-panel[_ngcontent-%COMP%]{grid-column:1;overflow:hidden}.desktop-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]{grid-column:2;background-color:var(--color-bg-primary);border:1px solid var(--color-border);border-radius:var(--radius-2xl);box-shadow:var(--shadow-lg);overflow:hidden}.desktop-layout[_ngcontent-%COMP%]   .viewer-panel[_ngcontent-%COMP%]{grid-column:3;overflow:hidden}.tablet-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:320px 1fr;grid-template-rows:1fr auto;gap:1rem;padding:1rem;height:100vh;position:relative}.tablet-layout[_ngcontent-%COMP%]   .sources-panel[_ngcontent-%COMP%]{grid-column:1;grid-row:1;overflow:hidden;transition:opacity var(--transition-medium),transform var(--transition-medium)}.tablet-layout[_ngcontent-%COMP%]   .sources-panel.hidden[_ngcontent-%COMP%]{opacity:0;transform:translate(-100%);pointer-events:none}.tablet-layout[_ngcontent-%COMP%]   .chat-panel[_ngcontent-%COMP%]{grid-column:2;grid-row:1;background-color:var(--color-bg-primary);border:1px solid var(--color-border);border-radius:var(--radius-2xl);box-shadow:var(--shadow-lg);overflow:hidden;transition:opacity var(--transition-medium),transform var(--transition-medium)}.tablet-layout[_ngcontent-%COMP%]   .chat-panel.hidden[_ngcontent-%COMP%]{opacity:0;transform:translate(100%);pointer-events:none}.tablet-layout[_ngcontent-%COMP%]   .viewer-panel[_ngcontent-%COMP%]{grid-column:1/-1;grid-row:1;overflow:hidden;transition:opacity var(--transition-medium),transform var(--transition-medium)}.tablet-layout[_ngcontent-%COMP%]   .viewer-panel.hidden[_ngcontent-%COMP%]{opacity:0;transform:scale(.95);pointer-events:none}.tablet-layout[_ngcontent-%COMP%]   .viewer-panel.full-width[_ngcontent-%COMP%]{width:100%}.tablet-layout[_ngcontent-%COMP%]   .tablet-tabs[_ngcontent-%COMP%]{grid-column:1/-1;grid-row:2;display:flex;justify-content:center;gap:.5rem;padding:.75rem;background-color:var(--color-bg-primary);border:1px solid var(--color-border);border-radius:var(--radius-2xl);box-shadow:var(--shadow-md)}.mobile-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.mobile-layout[_ngcontent-%COMP%]   .mobile-content[_ngcontent-%COMP%]{flex:1;padding:1rem;overflow:hidden}.mobile-layout[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:.75rem;background-color:var(--color-bg-primary);border-top:1px solid var(--color-border);box-shadow:0 -4px 6px -1px #0000001a}.tab-button[_ngcontent-%COMP%], .nav-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:transparent;color:var(--color-text-secondary);border:1px solid transparent;border-radius:var(--radius-lg);font-size:.875rem;font-weight:500;cursor:pointer;transition:all var(--transition-fast);-webkit-user-select:none;user-select:none}.tab-button[_ngcontent-%COMP%]:hover, .nav-button[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-tertiary);color:var(--color-text-primary);transform:translateY(-1px)}.tab-button[_ngcontent-%COMP%]:active, .nav-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.tab-button.active[_ngcontent-%COMP%], .nav-button.active[_ngcontent-%COMP%]{background-color:var(--color-accent);color:#fff;border-color:var(--color-accent);box-shadow:var(--shadow-md)}.tab-button.active[_ngcontent-%COMP%]:hover, .nav-button.active[_ngcontent-%COMP%]:hover{background-color:var(--color-accent-hover);transform:translateY(-1px)}.tab-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .nav-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform var(--transition-fast)}.tab-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .nav-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.05)}.nav-button[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem;padding:.5rem;min-width:4rem}.nav-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}.nav-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.theme-toggle[_ngcontent-%COMP%]{position:fixed;top:1rem;right:1rem;z-index:50;display:flex;align-items:center;justify-content:center;width:2.5rem;height:2.5rem;background-color:var(--color-bg-primary);color:var(--color-text-primary);border:1px solid var(--color-border);border-radius:50%;box-shadow:var(--shadow-md);cursor:pointer;transition:all var(--transition-fast)}.theme-toggle[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-tertiary);border-color:var(--color-border-hover);box-shadow:var(--shadow-lg);transform:translateY(-1px) scale(1.05)}.theme-toggle[_ngcontent-%COMP%]:active{transform:translateY(0) scale(1)}.theme-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform var(--transition-fast)}.theme-toggle[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:rotate(15deg)}@keyframes _ngcontent-%COMP%_slideInFromLeft{0%{opacity:0;transform:translate(-2rem)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInFromRight{0%{opacity:0;transform:translate(2rem)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.sources-panel[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromLeft var(--transition-medium)}.chat-panel[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale var(--transition-medium)}.viewer-panel[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromRight var(--transition-medium)}@media (max-width: 1279px){.desktop-layout[_ngcontent-%COMP%]{display:none}}@media (max-width: 767px){.tablet-layout[_ngcontent-%COMP%]{display:none}.theme-toggle[_ngcontent-%COMP%]{top:.5rem;right:.5rem;width:2rem;height:2rem}.theme-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}}@media (min-width: 768px){.mobile-layout[_ngcontent-%COMP%]{display:none}}@media (min-width: 1280px){.tablet-layout[_ngcontent-%COMP%]{display:none}}.tab-button[_ngcontent-%COMP%]:focus-visible, .nav-button[_ngcontent-%COMP%]:focus-visible, .theme-toggle[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-accent);outline-offset:2px}*[_ngcontent-%COMP%]{scroll-behavior:smooth}[_ngcontent-%COMP%]::selection{background-color:var(--color-accent);color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:var(--color-bg-secondary);border-radius:var(--radius-sm)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--color-border-hover);border-radius:var(--radius-sm);-webkit-transition:background-color var(--transition-fast);transition:background-color var(--transition-fast)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--color-text-tertiary)}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}"]})}}return o})();(function vf(o,s){return(0,l.TL3)({rootComponent:o,...Di(s)})})((()=>{class o{constructor(){this.title="Regalica Notebook"}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=l.VBU({type:o,selectors:[["app-root"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(a,u){1&a&&l.nrm(0,"app-shell")},dependencies:[hn,Ac],styles:["[_nghost-%COMP%]{display:block}main[_ngcontent-%COMP%]{height:calc(100vh - 4rem)}.sources-panel[_ngcontent-%COMP%], .chat-panel[_ngcontent-%COMP%], .viewer-panel[_ngcontent-%COMP%]{min-height:0}.overflow-y-auto[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#d1d5db #f9fafb}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f9fafb}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:3px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}.chat-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}input[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #0000001a}.source-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);transition:transform .2s ease}.loading[_ngcontent-%COMP%]{opacity:.6;pointer-events:none}"]})}}return o})(),ys).catch(o=>console.error(o))},412:(He,he,P)=>{P.d(he,{t:()=>Z});var l=P(413);class Z extends l.B{constructor(z){super(),this._value=z}get value(){return this.getValue()}_subscribe(z){const H=super._subscribe(z);return!H.closed&&z.next(this._value),H}getValue(){const{hasError:z,thrownError:H,_value:pe}=this;if(z)throw H;return this._throwIfClosed(),pe}next(z){super.next(this._value=z)}}},985:(He,he,P)=>{P.d(he,{c:()=>Oe});var l=P(707),Z=P(359),$=P(494),z=P(203),H=P(26),pe=P(71),L=P(786);let Oe=(()=>{class G{constructor(ae){ae&&(this._subscribe=ae)}lift(ae){const xe=new G;return xe.source=this,xe.operator=ae,xe}subscribe(ae,xe,cn){const at=function N(G){return G&&G instanceof l.vU||function B(G){return G&&(0,pe.T)(G.next)&&(0,pe.T)(G.error)&&(0,pe.T)(G.complete)}(G)&&(0,Z.Uv)(G)}(ae)?ae:new l.Ms(ae,xe,cn);return(0,L.Y)(()=>{const{operator:ct,source:ln}=this;at.add(ct?ct.call(at,ln):ln?this._subscribe(at):this._trySubscribe(at))}),at}_trySubscribe(ae){try{return this._subscribe(ae)}catch(xe){ae.error(xe)}}forEach(ae,xe){return new(xe=ge(xe))((cn,at)=>{const ct=new l.Ms({next:ln=>{try{ae(ln)}catch(Pr){at(Pr),ct.unsubscribe()}},error:at,complete:cn});this.subscribe(ct)})}_subscribe(ae){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(ae)}[$.s](){return this}pipe(...ae){return(0,z.m)(ae)(this)}toPromise(ae){return new(ae=ge(ae))((xe,cn)=>{let at;this.subscribe(ct=>at=ct,ct=>cn(ct),()=>xe(at))})}}return G.create=Ve=>new G(Ve),G})();function ge(G){var Ve;return null!==(Ve=G??H.$.Promise)&&void 0!==Ve?Ve:Promise}},413:(He,he,P)=>{P.d(he,{B:()=>L});var l=P(985),Z=P(359);const z=(0,P(853).L)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var H=P(908),pe=P(786);let L=(()=>{class ge extends l.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(N){const G=new Oe(this,this);return G.operator=N,G}_throwIfClosed(){if(this.closed)throw new z}next(N){(0,pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const G of this.currentObservers)G.next(N)}})}error(N){(0,pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=N;const{observers:G}=this;for(;G.length;)G.shift().error(N)}})}complete(){(0,pe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:N}=this;for(;N.length;)N.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var N;return(null===(N=this.observers)||void 0===N?void 0:N.length)>0}_trySubscribe(N){return this._throwIfClosed(),super._trySubscribe(N)}_subscribe(N){return this._throwIfClosed(),this._checkFinalizedStatuses(N),this._innerSubscribe(N)}_innerSubscribe(N){const{hasError:G,isStopped:Ve,observers:ae}=this;return G||Ve?Z.Kn:(this.currentObservers=null,ae.push(N),new Z.yU(()=>{this.currentObservers=null,(0,H.o)(ae,N)}))}_checkFinalizedStatuses(N){const{hasError:G,thrownError:Ve,isStopped:ae}=this;G?N.error(Ve):ae&&N.complete()}asObservable(){const N=new l.c;return N.source=this,N}}return ge.create=(B,N)=>new Oe(B,N),ge})();class Oe extends L{constructor(B,N){super(),this.destination=B,this.source=N}next(B){var N,G;null===(G=null===(N=this.destination)||void 0===N?void 0:N.next)||void 0===G||G.call(N,B)}error(B){var N,G;null===(G=null===(N=this.destination)||void 0===N?void 0:N.error)||void 0===G||G.call(N,B)}complete(){var B,N;null===(N=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===N||N.call(B)}_subscribe(B){var N,G;return null!==(G=null===(N=this.source)||void 0===N?void 0:N.subscribe(B))&&void 0!==G?G:Z.Kn}}},707:(He,he,P)=>{P.d(he,{Ms:()=>cn,vU:()=>G});var l=P(71),Z=P(359),$=P(26),z=P(334),H=P(343);const pe=ge("C",void 0,void 0);function ge(ze,J,je){return{kind:ze,value:J,error:je}}var B=P(270),N=P(786);class G extends Z.yU{constructor(J){super(),this.isStopped=!1,J?(this.destination=J,(0,Z.Uv)(J)&&J.add(this)):this.destination=Pr}static create(J,je,lt){return new cn(J,je,lt)}next(J){this.isStopped?ln(function Oe(ze){return ge("N",ze,void 0)}(J),this):this._next(J)}error(J){this.isStopped?ln(function L(ze){return ge("E",void 0,ze)}(J),this):(this.isStopped=!0,this._error(J))}complete(){this.isStopped?ln(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(J){this.destination.next(J)}_error(J){try{this.destination.error(J)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function ae(ze,J){return Ve.call(ze,J)}class xe{constructor(J){this.partialObserver=J}next(J){const{partialObserver:je}=this;if(je.next)try{je.next(J)}catch(lt){at(lt)}}error(J){const{partialObserver:je}=this;if(je.error)try{je.error(J)}catch(lt){at(lt)}else at(J)}complete(){const{partialObserver:J}=this;if(J.complete)try{J.complete()}catch(je){at(je)}}}class cn extends G{constructor(J,je,lt){let vt;if(super(),(0,l.T)(J)||!J)vt={next:J??void 0,error:je??void 0,complete:lt??void 0};else{let Ge;this&&$.$.useDeprecatedNextContext?(Ge=Object.create(J),Ge.unsubscribe=()=>this.unsubscribe(),vt={next:J.next&&ae(J.next,Ge),error:J.error&&ae(J.error,Ge),complete:J.complete&&ae(J.complete,Ge)}):vt=J}this.destination=new xe(vt)}}function at(ze){$.$.useDeprecatedSynchronousErrorHandling?(0,N.l)(ze):(0,z.m)(ze)}function ln(ze,J){const{onStoppedNotification:je}=$.$;je&&B.f.setTimeout(()=>je(ze,J))}const Pr={closed:!0,next:H.l,error:function ct(ze){throw ze},complete:H.l}},359:(He,he,P)=>{P.d(he,{Kn:()=>pe,yU:()=>H,Uv:()=>L});var l=P(71);const $=(0,P(853).L)(ge=>function(N){ge(this),this.message=N?`${N.length} errors occurred during unsubscription:\n${N.map((G,Ve)=>`${Ve+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=N});var z=P(908);class H{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:N}=this;if(N)if(this._parentage=null,Array.isArray(N))for(const ae of N)ae.remove(this);else N.remove(this);const{initialTeardown:G}=this;if((0,l.T)(G))try{G()}catch(ae){B=ae instanceof $?ae.errors:[ae]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const ae of Ve)try{Oe(ae)}catch(xe){B=B??[],xe instanceof $?B=[...B,...xe.errors]:B.push(xe)}}if(B)throw new $(B)}}add(B){var N;if(B&&B!==this)if(this.closed)Oe(B);else{if(B instanceof H){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(N=this._finalizers)&&void 0!==N?N:[]).push(B)}}_hasParent(B){const{_parentage:N}=this;return N===B||Array.isArray(N)&&N.includes(B)}_addParent(B){const{_parentage:N}=this;this._parentage=Array.isArray(N)?(N.push(B),N):N?[N,B]:B}_removeParent(B){const{_parentage:N}=this;N===B?this._parentage=null:Array.isArray(N)&&(0,z.o)(N,B)}remove(B){const{_finalizers:N}=this;N&&(0,z.o)(N,B),B instanceof H&&B._removeParent(this)}}H.EMPTY=(()=>{const ge=new H;return ge.closed=!0,ge})();const pe=H.EMPTY;function L(ge){return ge instanceof H||ge&&"closed"in ge&&(0,l.T)(ge.remove)&&(0,l.T)(ge.add)&&(0,l.T)(ge.unsubscribe)}function Oe(ge){(0,l.T)(ge)?ge():ge.unsubscribe()}},26:(He,he,P)=>{P.d(he,{$:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},360:(He,he,P)=>{P.d(he,{_:()=>Z});var l=P(707);function Z(z,H,pe,L,Oe){return new $(z,H,pe,L,Oe)}class $ extends l.vU{constructor(H,pe,L,Oe,ge,B){super(H),this.onFinalize=ge,this.shouldUnsubscribe=B,this._next=pe?function(N){try{pe(N)}catch(G){H.error(G)}}:super._next,this._error=Oe?function(N){try{Oe(N)}catch(G){H.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=L?function(){try{L()}catch(N){H.error(N)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var H;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(H=this.onFinalize)||void 0===H||H.call(this))}}}},354:(He,he,P)=>{P.d(he,{T:()=>$});var l=P(974),Z=P(360);function $(z,H){return(0,l.N)((pe,L)=>{let Oe=0;pe.subscribe((0,Z._)(L,ge=>{L.next(z.call(H,ge,Oe++))}))})}},270:(He,he,P)=>{P.d(he,{f:()=>l});const l={setTimeout(Z,$,...z){const{delegate:H}=l;return H?.setTimeout?H.setTimeout(Z,$,...z):setTimeout(Z,$,...z)},clearTimeout(Z){const{delegate:$}=l;return($?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},494:(He,he,P)=>{P.d(he,{s:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},908:(He,he,P)=>{function l(Z,$){if(Z){const z=Z.indexOf($);0<=z&&Z.splice(z,1)}}P.d(he,{o:()=>l})},853:(He,he,P)=>{function l(Z){const z=Z(H=>{Error.call(H),H.stack=(new Error).stack});return z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z}P.d(he,{L:()=>l})},786:(He,he,P)=>{P.d(he,{Y:()=>$,l:()=>z});var l=P(26);let Z=null;function $(H){if(l.$.useDeprecatedSynchronousErrorHandling){const pe=!Z;if(pe&&(Z={errorThrown:!1,error:null}),H(),pe){const{errorThrown:L,error:Oe}=Z;if(Z=null,L)throw Oe}}else H()}function z(H){l.$.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=H)}},669:(He,he,P)=>{function l(Z){return Z}P.d(he,{D:()=>l})},71:(He,he,P)=>{function l(Z){return"function"==typeof Z}P.d(he,{T:()=>l})},974:(He,he,P)=>{P.d(he,{N:()=>$,S:()=>Z});var l=P(71);function Z(z){return(0,l.T)(z?.lift)}function $(z){return H=>{if(Z(H))return H.lift(function(pe){try{return z(pe,this)}catch(L){this.error(L)}});throw new TypeError("Unable to lift unknown Observable type")}}},343:(He,he,P)=>{function l(){}P.d(he,{l:()=>l})},203:(He,he,P)=>{P.d(he,{F:()=>Z,m:()=>$});var l=P(669);function Z(...z){return $(z)}function $(z){return 0===z.length?l.D:1===z.length?z[0]:function(pe){return z.reduce((L,Oe)=>Oe(L),pe)}}},334:(He,he,P)=>{P.d(he,{m:()=>$});var l=P(26),Z=P(270);function $(z){Z.f.setTimeout(()=>{const{onUnhandledError:H}=l.$;if(!H)throw z;H(z)})}},438:(He,he,P)=>{P.d(he,{bc$:()=>jv,iLQ:()=>$_,sZ2:()=>au,hnV:()=>zM,o8S:()=>ai,BIS:()=>Ki,gRc:()=>rE,Ql9:()=>EO,Ocv:()=>xO,Z63:()=>Do,aKT:()=>Vo,uvJ:()=>gn,zcH:()=>er,bkB:()=>_n,$GK:()=>De,nKC:()=>_e,zZn:()=>Ft,_q3:()=>Q_,MKu:()=>K_,xe9:()=>Zg,Co$:()=>xg,Vns:()=>co,SKi:()=>Ye,Agw:()=>Go,PLl:()=>ba,sFG:()=>cc,_9s:()=>Ss,czy:()=>Eu,C4Q:()=>Zo,NYb:()=>yO,giA:()=>HM,RxE:()=>kM,c1b:()=>ni,gXe:()=>Fr,L39:()=>IA,Ol2:()=>gd,w6W:()=>GC,Rfq:()=>po,WQX:()=>oe,QuC:()=>Kt,EmA:()=>ia,N4e:()=>bo,O8t:()=>TA,An2:()=>Jo,H3F:()=>FM,H8p:()=>Cl,KH2:()=>qc,TgB:()=>oi,wOt:()=>j,WHO:()=>$M,e01:()=>BM,H5H:()=>C_,Zy3:()=>xr,mq5:()=>Jw,JZv:()=>de,TL3:()=>dA,LfX:()=>rl,plB:()=>so,jNT:()=>j_,zjR:()=>GM,ngT:()=>Vt,TL$:()=>su,Tbb:()=>Je,Vt3:()=>fd,Mj6:()=>Lr,GFd:()=>Pg,OA$:()=>Ei,Jv_:()=>fM,aNF:()=>hM,R7$:()=>lp,BMQ:()=>r_,HbH:()=>Lw,AVh:()=>u_,wni:()=>$0,VBU:()=>Hm,FsC:()=>Wm,jDH:()=>Ae,G2t:()=>Ws,$C:()=>rf,EJ8:()=>ml,rXU:()=>to,nrm:()=>m_,k0s:()=>$g,j41:()=>Ug,RV6:()=>Kw,xGo:()=>sh,KVO:()=>Ct,kS0:()=>Jn,QTQ:()=>Ry,bIt:()=>b_,lsd:()=>G0,joV:()=>zl,qSk:()=>Wf,XpG:()=>N0,Y8G:()=>a_,mGM:()=>H0,sdS:()=>z0,Njj:()=>jf,tSv:()=>wy,eBV:()=>Vf,npT:()=>zh,n$t:()=>Kh,xc7:()=>l_,DNE:()=>I,EFF:()=>tM,JRh:()=>E_,SpI:()=>Wg,Lme:()=>I_,DH7:()=>uM,mxI:()=>T_,R50:()=>S_,GBs:()=>B0}),P(467);let $=null,H=1;const pe=Symbol("SIGNAL");function L(e){const t=$;return $=e,t}function ae(e){if((!lt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==H)){if(!e.producerMustRecompute(e)&&!Pr(e))return e.dirty=!1,void(e.lastCleanEpoch=H);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=H}}function Pr(e){vt(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(ae(n),i!==n.version))return!0}return!1}function je(e,t){if(function Ge(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),vt(e),1===e.liveConsumerNode.length)for(let i=0;i<e.producerNode.length;i++)je(e.producerNode[i],e.producerIndexOfThis[i]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[t],c=e.liveConsumerNode[t];vt(c),c.producerIndexOfThis[i]=t}}function lt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function vt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Ad=null;var Us=P(413),xd=P(359),dm=P(412),nD=P(354);const $s="https://g.co/ng/security#xss";class j extends Error{constructor(t,n){super(xr(t,n)),this.code=t}}function xr(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function me(e){return{toString:e}.toString()}const uo="__parameters__";function yt(e,t,n){return me(()=>{const i=function fo(e){return function(...n){if(e){const i=e(...n);for(const c in i)this[c]=i[c]}}}(t);function c(...d){if(this instanceof c)return i.apply(this,d),this;const f=new c(...d);return p.annotation=f,p;function p(g,v,y){const D=g.hasOwnProperty(uo)?g[uo]:Object.defineProperty(g,uo,{value:[]})[uo];for(;D.length<=y;)D.push(null);return(D[y]=D[y]||[]).push(f),g}}return n&&(c.prototype=Object.create(n.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}const de=globalThis;function Se(e){for(let t in e)if(e[t]===Se)return t;throw Error("Could not find renamed property on target object.")}function Hs(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Je(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Je).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ho(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const kd=Se({__forward_ref__:Se});function po(e){return e.__forward_ref__=po,e.toString=function(){return Je(this())},e}function K(e){return go(e)?e():e}function go(e){return"function"==typeof e&&e.hasOwnProperty(kd)&&e.__forward_ref__===po}function Ae(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ws(e){return{providers:e.providers||[],imports:e.imports||[]}}function qs(e){return Xs(e,ol)||Xs(e,Ys)}function rl(e){return null!==qs(e)}function Xs(e,t){return e.hasOwnProperty(t)?e[t]:null}function Qs(e){return e&&(e.hasOwnProperty(Ks)||e.hasOwnProperty(Vd))?e[Ks]:null}const ol=Se({\u0275prov:Se}),Ks=Se({\u0275inj:Se}),Ys=Se({ngInjectableDef:Se}),Vd=Se({ngInjectorDef:Se});class _e{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ae({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function li(e){return e&&!!e.\u0275providers}const Rr=Se({\u0275cmp:Se}),sl=Se({\u0275dir:Se}),al=Se({\u0275pipe:Se}),ym=Se({\u0275mod:Se}),fr=Se({\u0275fac:Se}),vo=Se({__NG_ELEMENT_ID__:Se}),Cm=Se({__NG_ENV_ID__:Se});function ce(e){return"string"==typeof e?e:null==e?"":String(e)}function cl(e,t){throw new j(-201,!1)}var De=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(De||{});let ll;function Bd(){return ll}function xt(e){const t=ll;return ll=e,t}function Hd(e,t,n){const i=qs(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&De.Optional?null:void 0!==t?t:void cl()}const ui={},ul="__NG_DI_FLAG__",ea="ngTempTokenPath",wm=/\n/gm,Gd="__source";let yo;function hr(e){const t=yo;return yo=e,t}function Em(e,t=De.Default){if(void 0===yo)throw new j(-203,!1);return null===yo?Hd(e,void 0,t):yo.get(e,t&De.Optional?null:void 0,t)}function Ct(e,t=De.Default){return(Bd()||Em)(K(e),t)}function oe(e,t=De.Default){return Ct(e,dl(t))}function dl(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Wd(e){const t=[];for(let n=0;n<e.length;n++){const i=K(e[n]);if(Array.isArray(i)){if(0===i.length)throw new j(900,!1);let c,d=De.Default;for(let f=0;f<i.length;f++){const p=i[f],g=qd(p);"number"==typeof g?-1===g?c=p.token:d|=g:c=p}t.push(Ct(c,d))}else t.push(Ct(i))}return t}function hn(e,t){return e[ul]=t,e.prototype[ul]=t,e}function qd(e){return e[ul]}const Xd=hn(yt("Optional"),8),Kd=hn(yt("SkipSelf"),4);function Co(e,t){return e.hasOwnProperty(fr)?e[fr]:null}function _o(e,t){e.forEach(n=>Array.isArray(n)?_o(n,t):t(n))}function Om(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function di(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Bt(e,t,n){let i=Sn(e,t);return i>=0?e[1|i]=n:(i=~i,function Am(e,t,n,i){let c=e.length;if(c==t)e.push(n,i);else if(1===c)e.push(i,e[0]),e[0]=n;else{for(c--,e.push(e[c-1],e[c]);c>t;)e[c]=e[c-2],c--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function hl(e,t){const n=Sn(e,t);if(n>=0)return e[1|n]}function Sn(e,t){return function xm(e,t,n){let i=0,c=e.length>>n;for(;c!==i;){const d=i+(c-i>>1),f=e[d<<n];if(t===f)return d<<n;f>t?c=d:i=d+1}return~(c<<n)}(e,t,1)}const Tn={},we=[],Do=new _e(""),Rm=new _e("",-1),pl=new _e("");class na{get(t,n=ui){if(n===ui){const i=new Error(`NullInjectorError: No provider for ${Je(t)}!`);throw i.name="NullInjectorError",i}return n}}var ra=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ra||{}),Fr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Fr||{}),Lr=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Lr||{});function km(e,t,n){let i=e.length;for(;;){const c=e.indexOf(t,n);if(-1===c)return c;if(0===c||e.charCodeAt(c-1)<=32){const d=t.length;if(c+d===i||e.charCodeAt(c+d)<=32)return c}n=c+1}}function gl(e,t,n){let i=0;for(;i<n.length;){const c=n[i];if("number"==typeof c){if(0!==c)break;i++;const d=n[i++],f=n[i++],p=n[i++];e.setAttribute(t,f,p,d)}else{const d=c,f=n[++i];Fm(d)?e.setProperty(t,d,f):e.setAttribute(t,d,f),i++}}return i}function Zd(e){return 3===e||4===e||6===e}function Fm(e){return 64===e.charCodeAt(0)}function oa(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const c=t[i];"number"==typeof c?n=c:0===n||Jd(e,n,c,null,-1===n||2===n?t[++i]:null)}}return e}function Jd(e,t,n,i,c){let d=0,f=e.length;if(-1===t)f=-1;else for(;d<e.length;){const p=e[d++];if("number"==typeof p){if(p===t){f=-1;break}if(p>t){f=d-1;break}}}for(;d<e.length;){const p=e[d];if("number"==typeof p)break;if(p===n){if(null===i)return void(null!==c&&(e[d+1]=c));if(i===e[d+1])return void(e[d+2]=c)}d++,null!==i&&d++,null!==c&&d++}-1!==f&&(e.splice(f,0,t),d=f+1),e.splice(d++,0,n),null!==i&&e.splice(d++,0,i),null!==c&&e.splice(d++,0,c)}const ef="ng-template";function Lm(e,t,n,i){let c=0;if(i){for(;c<t.length&&"string"==typeof t[c];c+=2)if("class"===t[c]&&-1!==km(t[c+1].toLowerCase(),n,0))return!0}else if(tf(e))return!1;if(c=t.indexOf(1,c),c>-1){let d;for(;++c<t.length&&"string"==typeof(d=t[c]);)if(d.toLowerCase()===n)return!0}return!1}function tf(e){return 4===e.type&&e.value!==ef}function wD(e,t,n){return t===(4!==e.type||n?e.value:ef)}function Vm(e,t,n){let i=4;const c=e.attrs,d=null!==c?function $m(e){for(let t=0;t<e.length;t++)if(Zd(e[t]))return t;return e.length}(c):0;let f=!1;for(let p=0;p<t.length;p++){const g=t[p];if("number"!=typeof g){if(!f)if(4&i){if(i=2|1&i,""!==g&&!wD(e,g,n)||""===g&&1===t.length){if(pn(i))return!1;f=!0}}else if(8&i){if(null===c||!Lm(e,c,g,n)){if(pn(i))return!1;f=!0}}else{const v=t[++p],y=jm(g,c,tf(e),n);if(-1===y){if(pn(i))return!1;f=!0;continue}if(""!==v){let D;if(D=y>d?"":c[y+1].toLowerCase(),2&i&&v!==D){if(pn(i))return!1;f=!0}}}}else{if(!f&&!pn(i)&&!pn(g))return!1;if(f&&pn(g))continue;f=!1,i=g|1&i}}return pn(i)||f}function pn(e){return!(1&e)}function jm(e,t,n,i){if(null===t)return-1;let c=0;if(i||!n){let d=!1;for(;c<t.length;){const f=t[c];if(f===e)return c;if(3===f||6===f)d=!0;else{if(1===f||2===f){let p=t[++c];for(;"string"==typeof p;)p=t[++c];continue}if(4===f)break;if(0===f){c+=4;continue}}c+=d?1:2}return-1}return function ke(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Um(e,t,n=!1){for(let i=0;i<t.length;i++)if(Vm(e,t[i],n))return!0;return!1}function Bm(e,t){return e?":not("+t.trim()+")":t}function ED(e){let t=e[0],n=1,i=2,c="",d=!1;for(;n<e.length;){let f=e[n];if("string"==typeof f)if(2&i){const p=e[++n];c+="["+f+(p.length>0?'="'+p+'"':"")+"]"}else 8&i?c+="."+f:4&i&&(c+=" "+f);else""!==c&&!pn(f)&&(t+=Bm(d,c),c=""),i=f,d=d||!pn(i);n++}return""!==c&&(t+=Bm(d,c)),t}function Hm(e){return me(()=>{const t=qm(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ra.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Fr.Emulated,styles:e.styles||we,_:null,schemas:e.schemas||null,tView:null,id:""};vl(n);const i=e.dependencies;return n.directiveDefs=fi(i,!1),n.pipeDefs=fi(i,!0),n.id=function AD(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const c of n)t=Math.imul(31,t)+c.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function TD(e){return ve(e)||et(e)}function Gm(e){return null!==e}function rf(e){return me(()=>({type:e.type,bootstrap:e.bootstrap||we,declarations:e.declarations||we,imports:e.imports||we,exports:e.exports||we,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function zm(e,t){if(null==e)return Tn;const n={};for(const i in e)if(e.hasOwnProperty(i)){const c=e[i];let d,f,p=Lr.None;Array.isArray(c)?(p=c[0],d=c[1],f=c[2]??d):(d=c,f=c),t?(n[d]=p!==Lr.None?[i,p]:i,t[d]=f):n[d]=i}return n}function Wm(e){return me(()=>{const t=qm(e);return vl(t),t})}function ml(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ve(e){return e[Rr]||null}function et(e){return e[sl]||null}function tt(e){return e[al]||null}function Kt(e){const t=ve(e)||et(e)||tt(e);return null!==t&&t.standalone}function wt(e,t){const n=e[ym]||null;if(!n&&!0===t)throw new Error(`Type ${Je(e)} does not have '\u0275mod' property.`);return n}function qm(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Tn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||we,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zm(e.inputs,t),outputs:zm(e.outputs),debugInfo:null}}function vl(e){e.features?.forEach(t=>t(e))}function fi(e,t){if(!e)return null;const n=t?tt:TD;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(Gm)}function ia(e){return{\u0275providers:e}}function sf(...e){return{\u0275providers:sa(0,e),\u0275fromNgModule:!0}}function sa(e,...t){const n=[],i=new Set;let c;const d=f=>{n.push(f)};return _o(t,f=>{const p=f;yl(p,d,[],i)&&(c||=[],c.push(p))}),void 0!==c&&af(c,d),n}function af(e,t){for(let n=0;n<e.length;n++){const{ngModule:i,providers:c}=e[n];cf(c,d=>{t(d,i)})}}function yl(e,t,n,i){if(!(e=K(e)))return!1;let c=null,d=Qs(e);const f=!d&&ve(e);if(d||f){if(f&&!f.standalone)return!1;c=e}else{const g=e.ngModule;if(d=Qs(g),!d)return!1;c=g}const p=i.has(c);if(f){if(p)return!1;if(i.add(c),f.dependencies){const g="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const v of g)yl(v,t,n,i)}}else{if(!d)return!1;{if(null!=d.imports&&!p){let v;i.add(c);try{_o(d.imports,y=>{yl(y,t,n,i)&&(v||=[],v.push(y))})}finally{}void 0!==v&&af(v,t)}if(!p){const v=Co(c)||(()=>new c);t({provide:c,useFactory:v,deps:we},c),t({provide:pl,useValue:c,multi:!0},c),t({provide:Do,useValue:()=>Ct(c),multi:!0},c)}const g=d.providers;if(null!=g&&!p){const v=e;cf(g,y=>{t(y,v)})}}}return c!==e&&void 0!==e.providers}function cf(e,t){for(let n of e)li(n)&&(n=n.\u0275providers),Array.isArray(n)?cf(n,t):t(n)}const ND=Se({provide:String,useValue:Se});function lf(e){return null!==e&&"object"==typeof e&&ND in e}function Vr(e){return"function"==typeof e}const Cl=new _e(""),_l={},Ym={};let uf;function aa(){return void 0===uf&&(uf=new na),uf}class gn{}class hi extends gn{get destroyed(){return this._destroyed}constructor(t,n,i,c){super(),this.parent=n,this.source=i,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ff(t,f=>this.processProvider(f)),this.records.set(Rm,pi(void 0,this)),c.has("environment")&&this.records.set(gn,pi(void 0,this));const d=this.records.get(Cl);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(pl,we,De.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=L(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),L(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=hr(this),i=xt(void 0);try{return t()}finally{hr(n),xt(i)}}get(t,n=ui,i=De.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Cm))return t[Cm](this);i=dl(i);const d=hr(this),f=xt(void 0);try{if(!(i&De.SkipSelf)){let g=this.records.get(t);if(void 0===g){const v=function FD(e){return"function"==typeof e||"object"==typeof e&&e instanceof _e}(t)&&qs(t);g=v&&this.injectableDefInScope(v)?pi(df(t),_l):null,this.records.set(t,g)}if(null!=g)return this.hydrate(t,g)}return(i&De.Self?aa():this.parent).get(t,n=i&De.Optional&&n===ui?null:n)}catch(p){if("NullInjectorError"===p.name){if((p[ea]=p[ea]||[]).unshift(Je(t)),d)throw p;return function Im(e,t,n,i){const c=e[ea];throw t[Gd]&&c.unshift(t[Gd]),e.message=function Sm(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let c=Je(t);if(Array.isArray(t))c=t.map(Je).join(" -> ");else if("object"==typeof t){let d=[];for(let f in t)if(t.hasOwnProperty(f)){let p=t[f];d.push(f+":"+("string"==typeof p?JSON.stringify(p):Je(p)))}c=`{${d.join(", ")}}`}return`${n}${i?"("+i+")":""}[${c}]: ${e.replace(wm,"\n  ")}`}("\n"+e.message,c,n,i),e.ngTokenPath=c,e[ea]=null,e}(p,t,"R3InjectorError",this.source)}throw p}finally{xt(f),hr(d)}}resolveInjectorInitializers(){const t=L(null),n=hr(this),i=xt(void 0);try{const d=this.get(Do,we,De.Self);for(const f of d)f()}finally{hr(n),xt(i),L(t)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(Je(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(t){let n=Vr(t=K(t))?t:K(t&&t.provide);const i=function xD(e){return lf(e)?pi(void 0,e.useValue):pi(Zm(e),_l)}(t);if(!Vr(t)&&!0===t.multi){let c=this.records.get(n);c||(c=pi(void 0,_l,!0),c.factory=()=>Wd(c.multi),this.records.set(n,c)),n=t,c.multi.push(t)}this.records.set(n,i)}hydrate(t,n){const i=L(null);try{return n.value===_l&&(n.value=Ym,n.value=n.factory()),"object"==typeof n.value&&n.value&&function kD(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{L(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=K(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function df(e){const t=qs(e),n=null!==t?t.factory:Co(e);if(null!==n)return n;if(e instanceof _e)throw new j(204,!1);if(e instanceof Function)return function PD(e){if(e.length>0)throw new j(204,!1);const n=function Ld(e){return e&&(e[ol]||e[Ys])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new j(204,!1)}function Zm(e,t,n){let i;if(Vr(e)){const c=K(e);return Co(c)||df(c)}if(lf(e))i=()=>K(e.useValue);else if(function Qm(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...Wd(e.deps||[]));else if(function Xm(e){return!(!e||!e.useExisting)}(e))i=()=>Ct(K(e.useExisting));else{const c=K(e&&(e.useClass||e.provide));if(!function RD(e){return!!e.deps}(e))return Co(c)||df(c);i=()=>new c(...Wd(e.deps))}return i}function pi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ff(e,t){for(const n of e)Array.isArray(n)?ff(n,t):n&&li(n)?ff(n.\u0275providers,t):t(n)}function bo(e,t){e instanceof hi&&e.assertNotDestroyed();const i=hr(e),c=xt(void 0);try{return t()}finally{hr(i),xt(c)}}const Ue=0,R=1,Q=2,We=3,mn=4,_t=5,Rt=6,pr=7,Ne=8,Qe=9,On=10,ee=11,Ci=12,ca=13,jr=14,$e=15,Mo=16,Eo=17,Xn=18,_i=19,vf=20,Ur=21,Di=22,Io=23,se=25,Il=1,An=7,wi=9,qe=10;var Tl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Tl||{});function Mt(e){return Array.isArray(e)&&"object"==typeof e[Il]}function Et(e){return Array.isArray(e)&&!0===e[Il]}function yf(e){return!!(4&e.flags)}function $r(e){return e.componentOffset>-1}function Mi(e){return!(1&~e.flags)}function vn(e){return!!e.template}function Ol(e){return!!(512&e[Q])}class It{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function bf(e,t,n,i){null!==t?t.applyValueToInputSignal(t,i):e[n]=i}function Ei(){return wf}function wf(e){return e.type.prototype.ngOnChanges&&(e.setInput=sv),Al}function Al(){const e=Ef(this),t=e?.current;if(t){const n=e.previous;if(n===Tn)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function sv(e,t,n,i,c){const d=this.declaredInputs[i],f=Ef(e)||function av(e,t){return e[Mf]=t}(e,{previous:Tn,current:null}),p=f.current||(f.current={}),g=f.previous,v=g[d];p[d]=new It(v&&v.currentValue,n,g===Tn),bf(e,t,c,n)}Ei.ngInherit=!0;const Mf="__ngSimpleChanges__";function Ef(e){return e[Mf]||null}const Nn=function(e,t,n){},If="svg";let Sf=!1;function Ie(e){for(;Array.isArray(e);)e=e[Ue];return e}function Ii(e,t){return Ie(t[e])}function St(e,t){return Ie(t[e.index])}function Yt(e,t){return e.data[t]}function Ht(e,t){const n=t[e];return Mt(n)?n:n[Ue]}function Rl(e){return!(128&~e[Q])}function Zt(e,t){return null==t?null:e[t]}function Of(e){e[Eo]=0}function dv(e){1024&e[Q]||(e[Q]|=1024,Rl(e)&&Si(e))}function kl(e){return!!(9216&e[Q]||e[Io]?.dirty)}function Fl(e){e[On].changeDetectionScheduler?.notify(1),kl(e)?Si(e):64&e[Q]&&(function xl(){return Sf}()?(e[Q]|=1024,Si(e)):e[On].changeDetectionScheduler?.notify())}function Si(e){e[On].changeDetectionScheduler?.notify();let t=Hr(e);for(;null!==t&&!(8192&t[Q])&&(t[Q]|=8192,Rl(t));)t=Hr(t)}function da(e,t){if(!(256&~e[Q]))throw new j(911,!1);null===e[Ur]&&(e[Ur]=[]),e[Ur].push(t)}function Hr(e){const t=e[We];return Et(t)?t[We]:t}const ne={lFrame:Bf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jl(){return ne.bindingsEnabled}function S(){return ne.lFrame.lView}function ye(){return ne.lFrame.tView}function Vf(e){return ne.lFrame.contextLView=e,e[Ne]}function jf(e){return ne.lFrame.contextLView=null,e}function Te(){let e=Ul();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ul(){return ne.lFrame.currentTNode}function Pn(e,t){const n=ne.lFrame;n.currentTNode=e,n.isParent=t}function yn(){return ne.lFrame.isParent}function Cn(){return ne.lFrame.bindingIndex++}function xn(e){const t=ne.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ht(e,t){const n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=e,Oi(t)}function Oi(e){ne.lFrame.currentDirectiveIndex=e}function To(){return ne.lFrame.currentQueryIndex}function Bl(e){ne.lFrame.currentQueryIndex=e}function le(e){const t=e[R];return 2===t.type?t.declTNode:1===t.type?e[_t]:null}function ut(e,t,n){if(n&De.SkipSelf){let c=t,d=e;for(;!(c=c.parent,null!==c||n&De.Host||(c=le(d),null===c||(d=d[jr],10&c.type))););if(null===c)return!1;t=c,e=d}const i=ne.lFrame=Oo();return i.currentTNode=t,i.lView=e,!0}function Hl(e){const t=Oo(),n=e[R];ne.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Oo(){const e=ne.lFrame,t=null===e?null:e.child;return null===t?Bf(e):t}function Bf(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Hf(){const e=ne.lFrame;return ne.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Gf=Hf;function Gl(){const e=Hf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Dt(){return ne.lFrame.selectedIndex}function Gt(e){ne.lFrame.selectedIndex=e}function X(){const e=ne.lFrame;return Yt(e.tView,e.selectedIndex)}function Wf(){ne.lFrame.currentNamespace=If}function zl(){!function qf(){ne.lFrame.currentNamespace=null}()}let Xf=!0;function Ao(){return Xf}function Rn(e){Xf=e}function No(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const d=e.data[n].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:p,ngAfterViewInit:g,ngAfterViewChecked:v,ngOnDestroy:y}=d;f&&(e.contentHooks??=[]).push(-n,f),p&&((e.contentHooks??=[]).push(n,p),(e.contentCheckHooks??=[]).push(n,p)),g&&(e.viewHooks??=[]).push(-n,g),v&&((e.viewHooks??=[]).push(n,v),(e.viewCheckHooks??=[]).push(n,v)),null!=y&&(e.destroyHooks??=[]).push(n,y)}}function ha(e,t,n){Qf(e,t,3,n)}function Po(e,t,n,i){(3&e[Q])===n&&Qf(e,t,n,i)}function pa(e,t){let n=e[Q];(3&n)===t&&(n&=16383,n+=1,e[Q]=n)}function Qf(e,t,n,i){const d=i??-1,f=t.length-1;let p=0;for(let g=void 0!==i?65535&e[Eo]:0;g<f;g++)if("number"==typeof t[g+1]){if(p=t[g],null!=i&&p>=i)break}else t[g]<0&&(e[Eo]+=65536),(p<d||-1==d)&&(kn(e,n,t,g),e[Eo]=(4294901760&e[Eo])+g+2),g++}function Ai(e,t){Nn(4,e,t);const n=L(null);try{t.call(e)}finally{L(n),Nn(5,e,t)}}function kn(e,t,n,i){const c=n[i]<0,d=n[i+1],p=e[c?-n[i]:n[i]];c?e[Q]>>14<e[Eo]>>16&&(3&e[Q])===t&&(e[Q]+=16384,Ai(p,d)):Ai(p,d)}const Ni=-1;class Pi{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Ln(e){return e!==Ni}function gr(e){return 32767&e}function ki(e,t){let n=function Yf(e){return e>>16}(e),i=t;for(;n>0;)i=i[jr],n--;return i}let Yn=!0;function mr(e){const t=Yn;return Yn=e,t}const Gr=255,Zf=5;let yv=0;const en={};function ma(e,t){const n=Jf(e,t);if(-1!==n)return n;const i=t[R];i.firstCreatePass&&(e.injectorIndex=t.length,xo(i.data,e),xo(t,null),xo(i.blueprint,null));const c=Vn(e,t),d=e.injectorIndex;if(Ln(c)){const f=gr(c),p=ki(c,t),g=p[R].data;for(let v=0;v<8;v++)t[d+v]=p[f+v]|g[f+v]}return t[d+8]=c,d}function xo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Jf(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Vn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,c=t;for(;null!==c;){if(i=Li(c),null===i)return Ni;if(n++,c=c[jr],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Ni}function fe(e,t,n){!function Cv(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(vo)&&(i=n[vo]),null==i&&(i=n[vo]=yv++);const c=i&Gr;t.data[e+(c>>Zf)]|=1<<c}(e,t,n)}function eh(e,t,n){if(n&De.Optional||void 0!==e)return e;cl()}function zr(e,t,n,i){if(n&De.Optional&&void 0===i&&(i=null),!(n&(De.Self|De.Host))){const c=e[Qe],d=xt(void 0);try{return c?c.get(t,i,n&De.Optional):Hd(t,i,n&De.Optional)}finally{xt(d)}}return eh(i,0,n)}function th(e,t,n,i=De.Default,c){if(null!==e){if(2048&t[Q]&&!(i&De.Self)){const f=function ah(e,t,n,i,c){let d=e,f=t;for(;null!==d&&null!==f&&2048&f[Q]&&!(512&f[Q]);){const p=nh(d,f,n,i|De.Self,en);if(p!==en)return p;let g=d.parent;if(!g){const v=f[vf];if(v){const y=v.get(n,en,i);if(y!==en)return y}g=Li(f),f=f[jr]}d=g}return c}(e,t,n,i,en);if(f!==en)return f}const d=nh(e,t,n,i,en);if(d!==en)return d}return zr(t,n,i,c)}function nh(e,t,n,i,c){const d=function rh(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(vo)?e[vo]:void 0;return"number"==typeof t?t>=0?t&Gr:ih:t}(n);if("function"==typeof d){if(!ut(t,e,i))return i&De.Host?eh(c,0,i):zr(t,n,i,c);try{let f;if(f=d(i),null!=f||i&De.Optional)return f;cl()}finally{Gf()}}else if("number"==typeof d){let f=null,p=Jf(e,t),g=Ni,v=i&De.Host?t[$e][_t]:null;for((-1===p||i&De.SkipSelf)&&(g=-1===p?Vn(e,t):t[p+8],g!==Ni&&oh(i,!1)?(f=t[R],p=gr(g),t=ki(g,t)):p=-1);-1!==p;){const y=t[R];if(Zn(d,p,y.data)){const D=jn(p,t,n,f,i,v);if(D!==en)return D}g=t[p+8],g!==Ni&&oh(i,t[R].data[p+8]===v)&&Zn(d,p,t)?(f=y,p=gr(g),t=ki(g,t)):p=-1}}return c}function jn(e,t,n,i,c,d){const f=t[R],p=f.data[e+8],y=Ro(p,f,n,null==i?$r(p)&&Yn:i!=f&&!!(3&p.type),c&De.Host&&d===p);return null!==y?vr(t,f,y,p):en}function Ro(e,t,n,i,c){const d=e.providerIndexes,f=t.data,p=1048575&d,g=e.directiveStart,y=d>>20,w=c?p+y:e.directiveEnd;for(let M=i?p:p+y;M<w;M++){const E=f[M];if(M<g&&n===E||M>=g&&E.type===n)return M}if(c){const M=f[g];if(M&&vn(M)&&M.type===n)return g}return null}function vr(e,t,n,i){let c=e[n];const d=t.data;if(function ga(e){return e instanceof Pi}(c)){const f=c;f.resolving&&function _m(e,t){throw t&&t.join(" > "),new j(-200,e)}(function Ee(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ce(e)}(d[n]));const p=mr(f.canSeeViewProviders);f.resolving=!0;const v=f.injectImpl?xt(f.injectImpl):null;ut(e,i,De.Default);try{c=e[n]=f.factory(void 0,d,e,i),t.firstCreatePass&&n>=i.directiveStart&&function Ot(e,t,n){const{ngOnChanges:i,ngOnInit:c,ngDoCheck:d}=t.type.prototype;if(i){const f=wf(t);(n.preOrderHooks??=[]).push(e,f),(n.preOrderCheckHooks??=[]).push(e,f)}c&&(n.preOrderHooks??=[]).push(0-e,c),d&&((n.preOrderHooks??=[]).push(e,d),(n.preOrderCheckHooks??=[]).push(e,d))}(n,d[n],t)}finally{null!==v&&xt(v),mr(p),f.resolving=!1,Gf()}}return c}function Zn(e,t,n){return!!(n[t+(e>>Zf)]&1<<e)}function oh(e,t){return!(e&De.Self||e&De.Host&&t)}class rt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return th(this._tNode,this._lView,t,dl(i),n)}}function ih(){return new rt(Te(),S())}function sh(e){return me(()=>{const t=e.prototype.constructor,n=t[fr]||va(t),i=Object.prototype;let c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==i;){const d=c[fr]||va(c);if(d&&d!==n)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function va(e){return go(e)?()=>{const t=va(K(e));return t&&t()}:Co(e)}function Li(e){const t=e[R],n=t.type;return 2===n?t.declTNode:1===n?e[_t]:null}function Jn(e){return function Fi(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let c=0;for(;c<i;){const d=n[c];if(Zd(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<i&&"string"==typeof n[c];)c++;else{if(d===t)return n[c+1];c+=2}}}return null}(Te(),e)}function Ui(e,t=null,n=null,i){const c=Kl(e,t,n,i);return c.resolveInjectorInitializers(),c}function Kl(e,t=null,n=null,i,c=new Set){const d=[n||we,sf(e)];return i=i||("object"==typeof e?void 0:Je(e)),new hi(d,t||aa(),i||null,c)}let Ft=(()=>{class e{static{this.THROW_IF_NOT_FOUND=ui}static{this.NULL=new na}static create(n,i){if(Array.isArray(n))return Ui({name:""},i,n,"");{const c=n.name??"";return Ui({name:c},n.parent,n.providers,c)}}static{this.\u0275prov=Ae({token:e,providedIn:"any",factory:()=>Ct(Rm)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function $i(e){return e.ngOriginalError}class er{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&$i(t);for(;n&&$i(n);)n=$i(n);return n||null}}const dh=new _e("",{providedIn:"root",factory:()=>oe(er).handleError.bind(void 0)});let Lo=(()=>{class e{static{this.__NG_ELEMENT_ID__=wv}static{this.__NG_ENV_ID__=n=>n}}return e})();class bv extends Lo{constructor(t){super(),this._lView=t}onDestroy(t){return da(this._lView,t),()=>function Ll(e,t){if(null===e[Ur])return;const n=e[Ur].indexOf(t);-1!==n&&e[Ur].splice(n,1)}(this._lView,t)}}function wv(){return new bv(S())}function Iv(){return Xr(Te(),S())}function Xr(e,t){return new Vo(St(e,t))}let Vo=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Iv}}return e})();function Hi(e){return e instanceof Vo?e.nativeElement:e}function zi(e){return t=>{setTimeout(e,void 0,t)}}const _n=class Gi extends Us.B{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,function Jm(){return void 0!==Bd()||null!=function zd(){return yo}()}()&&(this.destroyRef=oe(Lo,{optional:!0})??void 0)}emit(t){const n=L(null);try{super.next(t)}finally{L(n)}}subscribe(t,n,i){let c=t,d=n||(()=>null),f=i;if(t&&"object"==typeof t){const g=t;c=g.next?.bind(g),d=g.error?.bind(g),f=g.complete?.bind(g)}this.__isAsync&&(d=zi(d),c&&(c=zi(c)),f&&(f=zi(f)));const p=super.subscribe({next:c,error:d,complete:f});return t instanceof xd.yU&&t.add(p),p}};function hh(){return this._results[Symbol.iterator]()}class Yl{get changes(){return this._changes??=new _n}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Yl.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=hh)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const i=function $t(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function bD(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let c=e[i],d=t[i];if(n&&(c=n(c),d=n(d)),d!==c)return!1}return!0}(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Wi(e){return!(128&~e.flags)}const Zl=new Map;let Jl=0;const At="__ngContext__";function dt(e,t){Mt(t)?(e[At]=t[_i],function mh(e){Zl.set(e[_i],e)}(t)):e[At]=t}function Dh(e){return Ca(e[Ci])}function kv(e){return Ca(e[mn])}function Ca(e){for(;null!==e&&!Et(e);)e=e[mn];return e}let Da;function su(e){Da=e}function Bn(){if(void 0!==Da)return Da;if(typeof document<"u")return document;throw new j(210,!1)}const au=new _e("",{providedIn:"root",factory:()=>Ih}),Ih="ng",ba=new _e(""),Go=new _e("",{providedIn:"platform",factory:()=>"unknown"}),jv=new _e(""),Ki=new _e("",{providedIn:"root",factory:()=>Bn().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let zv=()=>null;function Sa(e,t,n=!1){return zv(e,t,n)}const xh=new _e("",{providedIn:"root",factory:()=>!1});let Pa,ns;function Xo(e){return function fu(){if(void 0===Pa&&(Pa=null,de.trustedTypes))try{Pa=de.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pa}()?.createHTML(e)||e}function hu(){if(void 0===ns&&(ns=null,de.trustedTypes))try{ns=de.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ns}function xa(e){return hu()?.createHTML(e)||e}function Kr(e){return hu()?.createScriptURL(e)||e}class ty{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$s})`}}function Gn(e){return e instanceof ty?e.changingThisBreaksApplicationSecurity:e}function rs(e,t){const n=function kh(e){return e instanceof ty&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${$s})`)}return n===t}class sy{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Xo(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class ay{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=Xo(t),n}}const ly=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mu(e){return(e=String(e)).match(ly)?e:"unsafe:"+e}function nr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function os(...e){const t={};for(const n of e)for(const i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}const vu=nr("area,br,col,hr,img,wbr"),uy=nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Lh=nr("rp,rt"),ka=os(vu,os(uy,nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),os(Lh,nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),os(Lh,uy)),yu=nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fa=os(yu,nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vh=nr("script,style,template");class dy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,i=!0,c=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)c.push(n),n=jh(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let d=La(n);if(d){n=d;break}n=c.pop()}return this.buf.join("")}startElement(t){const n=Uh(t).toLowerCase();if(!ka.hasOwnProperty(n))return this.sanitizedSomething=!0,!Vh.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=t.attributes;for(let c=0;c<i.length;c++){const d=i.item(c),f=d.name,p=f.toLowerCase();if(!Fa.hasOwnProperty(p)){this.sanitizedSomething=!0;continue}let g=d.value;yu[p]&&(g=mu(g)),this.buf.push(" ",f,'="',Hh(g),'"')}return this.buf.push(">"),!0}endElement(t){const n=Uh(t).toLowerCase();ka.hasOwnProperty(n)&&!vu.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Hh(t))}}function La(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw $h(t);return t}function jh(e){const t=e.firstChild;if(t&&function is(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw $h(t);return t}function Uh(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function $h(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const Bh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cu=/([^\#-~ |!])/g;function Hh(e){return e.replace(/&/g,"&amp;").replace(Bh,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Cu,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ss;function _u(e){return"content"in e&&function fy(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var rr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(rr||{});function zh(e){const t=zt();return t?xa(t.sanitize(rr.HTML,e)||""):rs(e,"HTML")?xa(Gn(e)):function Gh(e,t){let n=null;try{ss=ss||function Fh(e){const t=new ay(e);return function cy(){try{return!!(new window.DOMParser).parseFromString(Xo(""),"text/html")}catch{return!1}}()?new sy(t):t}(e);let i=t?String(t):"";n=ss.getInertBodyElement(i);let c=5,d=i;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,i=d,d=n.innerHTML,n=ss.getInertBodyElement(i)}while(i!==d);return Xo((new dy).sanitizeChildren(_u(n)||n))}finally{if(n){const i=_u(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(Bn(),ce(e))}function Wh(e){const t=zt();return t?t.sanitize(rr.URL,e)||"":rs(e,"URL")?Gn(e):mu(ce(e))}function qh(e){const t=zt();if(t)return Kr(t.sanitize(rr.RESOURCE_URL,e)||"");if(rs(e,"ResourceURL"))return Kr(Gn(e));throw new j(904,!1)}function Kh(e,t,n){return function Qh(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?qh:Wh}(t,n)(e)}function zt(){const e=S();return e&&e[On].sanitizer}function wy(e){return e.ownerDocument.defaultView}function rn(e){return e instanceof Function?e():e}var Eu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Eu||{});let Ua;function Jh(e,t){return Ua(e,t)}function ls(e,t,n,i,c){if(null!=i){let d,f=!1;Et(i)?d=i:Mt(i)&&(f=!0,i=i[Ue]);const p=Ie(i);0===e&&null!==n?null==c?Tu(t,n,p):Dr(t,n,p,c||null,!0):1===e&&null!==n?Dr(t,n,p,c||null,!0):2===e?function eo(e,t,n){const i=bn(e,t);i&&function Ny(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,p,f):3===e&&t.destroyNode(p),null!=d&&function Py(e,t,n,i,c){const d=n[An];d!==Ie(n)&&ls(t,e,i,d,c);for(let p=qe;p<n.length;p++){const g=n[p];Wa(g[R],g,e,t,i,d)}}(t,e,d,n,c)}}function Iu(e,t,n){return e.createElement(t,n)}function Wt(e,t){t[On].changeDetectionScheduler?.notify(1),Wa(e,t,t[ee],2,null,null)}function np(e,t){const n=e[wi],i=n.indexOf(t);n.splice(i,1)}function us(e,t){if(e.length<=qe)return;const n=qe+t,i=e[n];if(i){const c=i[Mo];null!==c&&c!==e&&np(c,i),t>0&&(e[n-1][mn]=i[mn]);const d=di(e,qe+t);!function $a(e,t){Wt(e,t),t[Ue]=null,t[_t]=null}(i[R],i);const f=d[Xn];null!==f&&f.detachView(d[R]),i[We]=null,i[mn]=null,i[Q]&=-129}return i}function ds(e,t){if(!(256&t[Q])){const n=t[ee];n.destroyNode&&Wa(e,t,n,3,null,null),function lb(e){let t=e[Ci];if(!t)return Ko(e[R],e);for(;t;){let n=null;if(Mt(t))n=t[Ci];else{const i=t[qe];i&&(n=i)}if(!n){for(;t&&!t[mn]&&t!==e;)Mt(t)&&Ko(t[R],t),t=t[We];null===t&&(t=e),Mt(t)&&Ko(t[R],t),n=t&&t[mn]}t=n}}(t)}}function Ko(e,t){if(256&t[Q])return;const n=L(null);try{t[Q]&=-129,t[Q]|=256,t[Io]&&function ze(e){if(vt(e),lt(e))for(let t=0;t<e.producerNode.length;t++)je(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[Io]),function ub(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const c=t[n[i]];if(!(c instanceof Pi)){const d=n[i+1];if(Array.isArray(d))for(let f=0;f<d.length;f+=2){const p=c[d[f]],g=d[f+1];Nn(4,p,g);try{g.call(p)}finally{Nn(5,p,g)}}else{Nn(4,c,d);try{d.call(c)}finally{Nn(5,c,d)}}}}}(e,t),function or(e,t){const n=e.cleanup,i=t[pr];if(null!==n)for(let d=0;d<n.length-1;d+=2)if("string"==typeof n[d]){const f=n[d+3];f>=0?i[f]():i[-f].unsubscribe(),d+=2}else n[d].call(i[n[d+1]]);null!==i&&(t[pr]=null);const c=t[Ur];if(null!==c){t[Ur]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(e,t),1===t[R].type&&t[ee].destroy();const i=t[Mo];if(null!==i&&Et(t[We])){i!==t[We]&&np(i,t);const c=t[Xn];null!==c&&c.detachView(e)}!function qi(e){Zl.delete(e[_i])}(t)}finally{L(n)}}function Su(e,t,n){return function rp(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[Ue];{const{componentOffset:c}=i;if(c>-1){const{encapsulation:d}=e.data[i.directiveStart+c];if(d===Fr.None||d===Fr.Emulated)return null}return St(i,n)}}(e,t.parent,n)}function Dr(e,t,n,i,c){e.insertBefore(t,n,i,c)}function Tu(e,t,n){e.appendChild(t,n)}function Ou(e,t,n,i,c){null!==i?Dr(e,t,n,i,c):Tu(e,t,n)}function bn(e,t){return e.parentNode(t)}let Zr,Yr=function br(e,t,n){return 40&e.type?St(e,n):null};function Jr(e,t,n,i){const c=Su(e,i,t),d=t[ee],p=function fs(e,t,n){return Yr(e,t,n)}(i.parent||t[_t],i,t);if(null!=c)if(Array.isArray(n))for(let g=0;g<n.length;g++)Ou(d,c,n[g],p,!1);else Ou(d,c,n,p,!1);void 0!==Zr&&Zr(d,i,t,n,c)}function hs(e,t){if(null!==t){const n=t.type;if(3&n)return St(t,e);if(4&n)return za(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return hs(e,i);{const c=e[t.index];return Et(c)?za(-1,c):Ie(c)}}if(32&n)return Jh(t,e)()||Ie(e[t.index]);{const i=op(e,t);return null!==i?Array.isArray(i)?i[0]:hs(Hr(e[$e]),i):hs(e,t.next)}}return null}function op(e,t){return null!==t?e[$e][_t].projection[t.projection]:null}function za(e,t){const n=qe+e+1;if(n<t.length){const i=t[n],c=i[R].firstChild;if(null!==c)return hs(i,c)}return t[An]}function ps(e,t,n,i,c,d,f){for(;null!=n;){const p=i[n.index],g=n.type;if(f&&0===t&&(p&&dt(Ie(p),i),n.flags|=2),32&~n.flags)if(8&g)ps(e,t,n.child,i,c,d,!1),ls(t,e,c,p,d);else if(32&g){const v=Jh(n,i);let y;for(;y=v();)ls(t,e,c,y,d);ls(t,e,c,p,d)}else 16&g?ap(e,t,i,n,c,d):ls(t,e,c,p,d);n=f?n.projectionNext:n.next}}function Wa(e,t,n,i,c,d){ps(n,i,e.firstChild,t,c,d,!1)}function ap(e,t,n,i,c,d){const f=n[$e],g=f[_t].projection[i.projection];if(Array.isArray(g))for(let v=0;v<g.length;v++)ls(t,e,c,g[v],d);else{let v=g;const y=f[We];Wi(i)&&(v.flags|=128),ps(e,t,v,y,c,d,!0)}}function Nu(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Pu(e,t,n){const{mergedAttrs:i,classes:c,styles:d}=n;null!==i&&gl(e,t,i),null!==c&&Nu(e,t,c),null!==d&&function gs(e,t,n){e.setAttribute(t,"style",n)}(e,t,d)}const ue={};function lp(e=1){xy(ye(),S(),Dt()+e,!1)}function xy(e,t,n,i){if(!i)if(3&~t[Q]){const d=e.preOrderHooks;null!==d&&Po(t,d,0,n)}else{const d=e.preOrderCheckHooks;null!==d&&ha(t,d,n)}Gt(n)}function to(e,t=De.Default){const n=S();return null===n?Ct(e,t):th(Te(),n,K(e),t)}function Ry(){throw new Error("invalid")}function ky(e,t,n,i,c,d){const f=L(null);try{let p=null;c&Lr.SignalBased&&(p=t[i][pe]),null!==p&&void 0!==p.transformFn&&(d=p.transformFn(d)),c&Lr.HasDecoratorInputTransform&&(d=e.inputTransforms[i].call(t,d)),null!==e.setInput?e.setInput(t,p,d,n,i):bf(t,p,i,d)}finally{L(f)}}function xu(e,t,n,i,c,d,f,p,g,v,y){const D=t.blueprint.slice();return D[Ue]=c,D[Q]=204|i,(null!==v||e&&2048&e[Q])&&(D[Q]|=2048),Of(D),D[We]=D[jr]=e,D[Ne]=n,D[On]=f||e&&e[On],D[ee]=p||e&&e[ee],D[Qe]=g||e&&e[Qe]||null,D[_t]=d,D[_i]=function Tv(){return Jl++}(),D[Rt]=y,D[vf]=v,D[$e]=2==t.type?e[$e]:D,D}function ms(e,t,n,i,c){let d=e.data[t];if(null===d)d=function up(e,t,n,i,c){const d=Ul(),f=yn(),g=e.data[t]=function Vy(e,t,n,i,c,d){let f=t?t.injectorIndex:-1,p=0;return function So(){return null!==ne.skipHydrationRootTNode}()&&(p|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?d:d&&d.parent,n,t,i,c);return null===e.firstChild&&(e.firstChild=g),null!==d&&(f?null==d.child&&null!==g.parent&&(d.child=g):null===d.next&&(d.next=g,g.prev=d)),g}(e,t,n,i,c),function gv(){return ne.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=n,d.value=i,d.attrs=c;const f=function Ti(){const e=ne.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===f?-1:f.injectorIndex}return Pn(d,!0),d}function vs(e,t,n,i){if(0===n)return-1;const c=t.length;for(let d=0;d<n;d++)t.push(i),e.blueprint.push(i),e.data.push(null);return c}function dp(e,t,n,i,c){const d=Dt(),f=2&i;try{Gt(-1),f&&t.length>se&&xy(e,t,se,!1),Nn(f?2:0,c),n(i,c)}finally{Gt(d),Nn(f?3:1,c)}}function qa(e,t,n){if(yf(t)){const i=L(null);try{const d=t.directiveEnd;for(let f=t.directiveStart;f<d;f++){const p=e.data[f];p.contentQueries&&p.contentQueries(1,n[f],f)}}finally{L(i)}}}function Ru(e,t,n){jl()&&(function gb(e,t,n,i){const c=n.directiveStart,d=n.directiveEnd;$r(n)&&function Mp(e,t,n){const i=St(t,e),c=hp(n);let f=16;n.signals?f=4096:n.onPush&&(f=64);const p=Qa(e,xu(e,c,null,f,i,t,null,e[On].rendererFactory.createRenderer(i,n),null,null,null));e[t.index]=p}(t,n,e.data[c+n.componentOffset]),e.firstCreatePass||ma(n,t),dt(i,t);const f=n.initialInputs;for(let p=c;p<d;p++){const g=e.data[p],v=vr(t,e,p,n);dt(v,t),null!==f&&By(0,p-c,v,g,0,f),vn(g)&&(Ht(n.index,t)[Ne]=vr(t,e,p,n))}}(e,t,n,St(n,t)),!(64&~n.flags)&&$y(e,t,n))}function fp(e,t,n=St){const i=t.localNames;if(null!==i){let c=t.index+1;for(let d=0;d<i.length;d+=2){const f=i[d+1],p=-1===f?n(t,e):e[f];e[c++]=p}}}function hp(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ku(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ku(e,t,n,i,c,d,f,p,g,v,y){const D=se+i,w=D+c,M=function pp(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:ue);return n}(D,w),E="function"==typeof v?v():v;return M[R]={type:e,blueprint:M,template:n,queries:null,viewQuery:p,declTNode:t,data:M.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:g,consts:E,incompleteFirstPass:!1,ssrId:y}}let Lu=()=>null;function vp(e,t,n,i,c){for(let d in t){if(!t.hasOwnProperty(d))continue;const f=t[d];if(void 0===f)continue;i??={};let p,g=Lr.None;Array.isArray(f)?(p=f[0],g=f[1]):p=f;let v=d;if(null!==c){if(!c.hasOwnProperty(d))continue;v=c[d]}0===e?jy(i,n,v,p,g):jy(i,n,v,p)}return i}function jy(e,t,n,i,c){let d;e.hasOwnProperty(n)?(d=e[n]).push(t,i):d=e[n]=[t,i],void 0!==c&&d.push(c)}function Lt(e,t,n,i,c,d,f,p){const g=St(t,n);let y,v=t.inputs;!p&&null!=v&&(y=v[i])?(Uu(e,n,y,i,c),$r(t)&&function fb(e,t){const n=Ht(t,e);16&n[Q]||(n[Q]|=64)}(n,t.index)):3&t.type&&(i=function no(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),c=null!=f?f(c,t.value||"",i):c,d.setProperty(g,i,c))}function Cp(e,t,n,i){if(jl()){const c=null===i?null:{"":-1},d=function vb(e,t){const n=e.directiveRegistry;let i=null,c=null;if(n)for(let d=0;d<n.length;d++){const f=n[d];if(Um(t,f.selectors,!1))if(i||(i=[]),vn(f))if(null!==f.findHostDirectiveDefs){const p=[];c=c||new Map,f.findHostDirectiveDefs(f,p,c),i.unshift(...p,f),Xa(e,t,p.length)}else i.unshift(f),Xa(e,t,0);else c=c||new Map,f.findHostDirectiveDefs?.(f,i,c),i.push(f)}return null===i?null:[i,c]}(e,n);let f,p;null===d?f=p=null:[f,p]=d,null!==f&&Uy(e,t,n,f,c,p),c&&function _p(e,t,n){if(t){const i=e.localNames=[];for(let c=0;c<t.length;c+=2){const d=n[t[c+1]];if(null==d)throw new j(-301,!1);i.push(t[c],d)}}}(n,i,c)}n.mergedAttrs=oa(n.mergedAttrs,n.attrs)}function Uy(e,t,n,i,c,d){for(let v=0;v<i.length;v++)fe(ma(n,t),e,i[v].type);!function bp(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let v=0;v<i.length;v++){const y=i[v];y.providersResolver&&y.providersResolver(y)}let f=!1,p=!1,g=vs(e,t,i.length,null);for(let v=0;v<i.length;v++){const y=i[v];n.mergedAttrs=oa(n.mergedAttrs,y.hostAttrs),wp(e,n,t,g,y),Dp(g,y,c),null!==y.contentQueries&&(n.flags|=4),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(n.flags|=64);const D=y.type.prototype;!f&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),f=!0),!p&&(D.ngOnChanges||D.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),p=!0),g++}!function wr(e,t,n){const c=t.directiveEnd,d=e.data,f=t.attrs,p=[];let g=null,v=null;for(let y=t.directiveStart;y<c;y++){const D=d[y],w=n?n.get(D):null,E=w?w.outputs:null;g=vp(0,D.inputs,y,g,w?w.inputs:null),v=vp(1,D.outputs,y,v,E);const O=null===g||null===f||tf(t)?null:Hy(g,y,f);p.push(O)}null!==g&&(g.hasOwnProperty("class")&&(t.flags|=8),g.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=g,t.outputs=v}(e,n,d)}function $y(e,t,n){const i=n.directiveStart,c=n.directiveEnd,d=n.index,f=function mv(){return ne.lFrame.currentDirectiveIndex}();try{Gt(d);for(let p=i;p<c;p++){const g=e.data[p],v=t[p];Oi(p),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&mb(g,v)}}finally{Gt(-1),Oi(f)}}function mb(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Xa(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Dp(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;vn(t)&&(n[""]=e)}}function wp(e,t,n,i,c){e.data[i]=c;const d=c.factory||(c.factory=Co(c.type)),f=new Pi(d,vn(c),to);e.blueprint[i]=f,n[i]=f,function hb(e,t,n,i,c){const d=c.hostBindings;if(d){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const p=~t.index;(function pb(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(f)!=p&&f.push(p),f.push(n,i,d)}}(e,t,i,vs(e,n,c.hostVars,ue),c)}function qt(e,t,n,i,c,d){const f=St(e,t);!function Vu(e,t,n,i,c,d,f){if(null==d)e.removeAttribute(t,c,n);else{const p=null==f?ce(d):f(d,i||"",c);e.setAttribute(t,c,p,n)}}(t[ee],f,d,e.value,n,i,c)}function By(e,t,n,i,c,d){const f=d[t];if(null!==f)for(let p=0;p<f.length;)ky(i,n,f[p++],f[p++],f[p++],f[p++])}function Hy(e,t,n){let i=null,c=0;for(;c<n.length;){const d=n[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===i&&(i=[]);const f=e[d];for(let p=0;p<f.length;p+=3)if(f[p]===t){i.push(d,f[p+1],f[p+2],n[c+1]);break}}c+=2}else c+=2;else c+=4}return i}function ju(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function Ep(e,t){const n=e.contentQueries;if(null!==n){const i=L(null);try{for(let c=0;c<n.length;c+=2){const f=n[c+1];if(-1!==f){const p=e.data[f];Bl(n[c]),p.contentQueries(2,t[f],f)}}}finally{L(i)}}}function Qa(e,t){return e[Ci]?e[ca][mn]=t:e[Ci]=t,e[ca]=t,t}function Ip(e,t,n){Bl(0);const i=L(null);try{t(e,n)}finally{L(i)}}function Sp(e){return e[pr]||(e[pr]=[])}function Tp(e){return e.cleanup||(e.cleanup=[])}function Ka(e,t){const n=e[Qe],i=n?n.get(er,null):null;i&&i.handleError(t)}function Uu(e,t,n,i,c){for(let d=0;d<n.length;){const f=n[d++],p=n[d++],g=n[d++];ky(e.data[f],t[f],i,p,g,c)}}function ir(e,t,n){const i=Ii(t,e);!function Ty(e,t,n){e.setValue(t,n)}(e[ee],i,n)}function Gy(e,t){const n=Ht(t,e),i=n[R];!function Ya(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n);const c=n[Ue];null!==c&&null===n[Rt]&&(n[Rt]=Sa(c,n[Qe])),$u(i,n,n[Ne])}function $u(e,t,n){Hl(t);try{const i=e.viewQuery;null!==i&&Ip(1,i,n);const c=e.template;null!==c&&dp(e,t,c,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Xn]?.finishViewCreation(e),e.staticContentQueries&&Ep(e,t),e.staticViewQueries&&Ip(2,e.viewQuery,n);const d=e.components;null!==d&&function zy(e,t){for(let n=0;n<t.length;n++)Gy(e,t[n])}(t,d)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[Q]&=-5,Gl()}}function ro(e,t){return!t||null===t.firstChild||Wi(e)}function wn(e,t,n,i=!0){const c=t[R];if(function Oy(e,t,n,i){const c=qe+i,d=n.length;i>0&&(n[c-1][mn]=t),i<d-qe?(t[mn]=n[c],Om(n,qe+i,t)):(n.push(t),t[mn]=null),t[We]=n;const f=t[Mo];null!==f&&n!==f&&function Ay(e,t){const n=e[wi];t[$e]!==t[We][We][$e]&&(e[Q]|=Tl.HasTransplantedViews),null===n?e[wi]=[t]:n.push(t)}(f,t);const p=t[Xn];null!==p&&p.insertView(e),Fl(t),t[Q]|=128}(c,t,e,n),i){const f=za(n,e),p=t[ee],g=bn(p,e[An]);null!==g&&function Ba(e,t,n,i,c,d){i[Ue]=c,i[_t]=t,Wa(e,i,n,1,c,d)}(c,e[_t],p,t,g,f)}const d=t[Rt];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function Cs(e,t,n,i,c=!1){for(;null!==n;){const d=t[n.index];null!==d&&i.push(Ie(d)),Et(d)&&Bu(d,i);const f=n.type;if(8&f)Cs(e,t,n.child,i);else if(32&f){const p=Jh(n,t);let g;for(;g=p();)i.push(g)}else if(16&f){const p=op(t,n);if(Array.isArray(p))i.push(...p);else{const g=Hr(t[$e]);Cs(g[R],g,p,i,!0)}}n=c?n.projectionNext:n.next}return i}function Bu(e,t){for(let n=qe;n<e.length;n++){const i=e[n],c=i[R].firstChild;null!==c&&Cs(i[R],i,c,t)}e[An]!==e[Ue]&&t.push(e[An])}let Np=[];const Mr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Si(e.lView)},consumerOnSignalRead(){this.lView[Io]=this}},Hu=100;function ot(e,t=!0,n=0){const i=e[On],c=i.rendererFactory;c.begin?.();try{!function Er(e,t){Za(e,t);let n=0;for(;kl(e);){if(n===Hu)throw new j(103,!1);n++,Za(e,1)}}(e,n)}catch(f){throw t&&Ka(e,f),f}finally{c.end?.(),i.inlineEffectRunner?.flush()}}function Cb(e,t,n,i){const c=t[Q];if(!(256&~c))return;t[On].inlineEffectRunner?.flush(),Hl(t);let f=null,p=null;(function Pp(e){return 2!==e.type})(e)&&(p=function Wy(e){return e[Io]??function qy(e){const t=Np.pop()??Object.create(Mr);return t.lView=e,t}(e)}(t),f=function ct(e){return e&&(e.nextProducerIndex=0),L(e)}(p));try{Of(t),function Uf(e){return ne.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&dp(e,t,n,2,i);const g=!(3&~c);if(g){const D=e.preOrderCheckHooks;null!==D&&ha(t,D,null)}else{const D=e.preOrderHooks;null!==D&&Po(t,D,0,null),pa(t,0)}if(function xp(e){for(let t=Dh(e);null!==t;t=kv(t)){if(!(t[Q]&Tl.HasTransplantedViews))continue;const n=t[wi];for(let i=0;i<n.length;i++){dv(n[i])}}}(t),Gu(t,0),null!==e.contentQueries&&Ep(e,t),g){const D=e.contentCheckHooks;null!==D&&ha(t,D)}else{const D=e.contentHooks;null!==D&&Po(t,D,1),pa(t,1)}!function db(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const c=n[i];if(c<0)Gt(~c);else{const d=c,f=n[++i],p=n[++i];ht(f,d),p(2,t[d])}}}finally{Gt(-1)}}(e,t);const v=e.components;null!==v&&Wu(t,v,0);const y=e.viewQuery;if(null!==y&&Ip(2,y,i),g){const D=e.viewCheckHooks;null!==D&&ha(t,D)}else{const D=e.viewHooks;null!==D&&Po(t,D,2),pa(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Di]){for(const D of t[Di])D();t[Di]=null}t[Q]&=-73}catch(g){throw Si(t),g}finally{null!==p&&(function ln(e,t){if(L(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(lt(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)je(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(p,f),function _s(e){e.lView[Io]!==e&&(e.lView=null,Np.push(e))}(p)),Gl()}}function Gu(e,t){for(let n=Dh(e);null!==n;n=kv(n))for(let i=qe;i<n.length;i++)zu(n[i],t)}function Rp(e,t,n){zu(Ht(t,e),n)}function zu(e,t){Rl(e)&&Za(e,t)}function Za(e,t){const i=e[R],c=e[Q],d=e[Io];let f=!!(0===t&&16&c);if(f||=!!(64&c&&0===t),f||=!!(1024&c),f||=!(!d?.dirty||!Pr(d)),d&&(d.dirty=!1),e[Q]&=-9217,f)Cb(i,e,i.template,e[Ne]);else if(8192&c){Gu(e,1);const p=i.components;null!==p&&Wu(e,p,1)}}function Wu(e,t,n){for(let i=0;i<t.length;i++)Rp(e,t[i],n)}function Yo(e){for(e[On].changeDetectionScheduler?.notify();e;){e[Q]|=64;const t=Hr(e);if(Ol(e)&&!t)return e;e=t}return null}class Ir{get rootNodes(){const t=this._lView,n=t[R];return Cs(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ne]}set context(t){this._lView[Ne]=t}get destroyed(){return!(256&~this._lView[Q])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[We];if(Et(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(us(t,i),di(n,i))}this._attachedToViewContainer=!1}ds(this._lView[R],this._lView)}onDestroy(t){da(this._lView,t)}markForCheck(){Yo(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){Fl(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,ot(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Wt(this._lView[R],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=t,Fl(this._lView)}}let Zo=(()=>{class e{static{this.__NG_ELEMENT_ID__=Lp}}return e})();const kp=Zo,Fp=class extends kp{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){const c=function ys(e,t,n,i){const c=L(null);try{const d=t.tView,g=xu(e,d,n,4096&e[Q]?4096:16,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);g[Mo]=e[t.index];const y=e[Xn];return null!==y&&(g[Xn]=y.createEmbeddedView(d)),$u(d,g,n),g}finally{L(c)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new Ir(c)}};function Lp(){return Ja(Te(),S())}function Ja(e,t){return 4&e.type?new Fp(t,e,Xr(e,t)):null}class Jo{}class Zu{}class tC{}class Sb{resolveComponentFactory(t){throw function Eb(e){const t=Error(`No component factory found for ${Je(e)}.`);return t.ngComponent=e,t}(t)}}let sr=(()=>{class e{static{this.NULL=new Sb}}return e})();class Ss{}let cc=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Ts(){const e=S(),n=Ht(Te().index,e);return(Mt(n)?n:e)[ee]}()}}return e})(),lc=(()=>{class e{static{this.\u0275prov=Ae({token:e,providedIn:"root",factory:()=>null})}}return e})();const ei={},uc=new Set;function Vt(e){uc.has(e)||(uc.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Qp(...e){}class Ye{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _n(!1),this.onMicrotaskEmpty=new _n(!1),this.onStable=new _n(!1),this.onError=new _n(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!i&&n,c.shouldCoalesceRunChangeDetection=i,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function rC(){const e="function"==typeof de.requestAnimationFrame;let t=de[e?"requestAnimationFrame":"setTimeout"],n=de[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const c=n[Zone.__symbol__("OriginalDelegate")];c&&(n=c)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function iC(e){const t=()=>{!function Ob(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(de,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Os(e),e.isCheckStableRunning=!0,Ju(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Os(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,c,d,f,p)=>{if(function cC(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(p))return n.invokeTask(c,d,f,p);try{return sC(e),n.invokeTask(c,d,f,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&t(),aC(e)}},onInvoke:(n,i,c,d,f,p,g)=>{try{return sC(e),n.invoke(c,d,f,p,g)}finally{e.shouldCoalesceRunChangeDetection&&t(),aC(e)}},onHasTask:(n,i,c,d)=>{n.hasTask(c,d),i===c&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,Os(e),Ju(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(n,i,c,d)=>(n.handleError(c,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ye.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(Ye.isInAngularZone())throw new j(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,c){const d=this._inner,f=d.scheduleEventTask("NgZoneEvent: "+c,t,Kp,Qp,Qp);try{return d.runTask(f,n,i)}finally{d.cancelTask(f)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const Kp={};function Ju(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Os(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function sC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function aC(e){e._nesting--,Ju(e)}let ti=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Ae({token:e,providedIn:"root",factory:()=>new e})}}return e})();function so(e){return!!wt(e)}function Tr(e,t,n){let i=n?e.styles:null,c=n?e.classes:null,d=0;if(null!==t)for(let f=0;f<t.length;f++){const p=t[f];"number"==typeof p?d=p:1==d?c=ho(c,p):2==d&&(i=ho(i,p+": "+t[++f]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=c:e.classesWithoutHost=c}class ng extends sr{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ve(t);return new vc(n,this.ngModule)}}function rg(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n];void 0!==i&&t.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return t}class mc{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=dl(i);const c=this.injector.get(t,ei,i);return c!==ei||n===ei?c:this.parentInjector.get(t,n,i)}}class vc extends tC{get inputs(){const t=this.componentDef,n=t.inputTransforms,i=rg(t.inputs);if(null!==n)for(const c of i)n.hasOwnProperty(c.propName)&&(c.transform=n[c.propName]);return i}get outputs(){return rg(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function ID(e){return e.map(ED).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,c){const d=L(null);try{let f=(c=c||this.ngModule)instanceof gn?c:c?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const p=f?new mc(t,f):t,g=p.get(Ss,null);if(null===g)throw new j(407,!1);const v=p.get(lc,null),w={rendererFactory:g,sanitizer:v,inlineEffectRunner:null,afterRenderEventManager:p.get(ti,null),changeDetectionScheduler:p.get(Jo,null)},M=g.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",O=i?function Fu(e,t,n,i){const d=i.get(xh,!1)||n===Fr.ShadowDom,f=e.selectRootElement(t,d);return function Fy(e){Lu(e)}(f),f}(M,i,this.componentDef.encapsulation,p):Iu(M,E,function og(e){const t=e.toLowerCase();return"svg"===t?If:"math"===t?"math":null}(E));let x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let k=null;null!==O&&(k=Sa(O,p,!0));const A=ku(0,null,null,1,0,null,null,null,null,null,null),te=xu(null,A,null,x,null,null,w,M,p,null,k);let Me,Fe;Hl(te);try{const mt=this.componentDef;let an,Zc=null;mt.findHostDirectiveDefs?(an=[],Zc=new Map,mt.findHostDirectiveDefs(mt,an,Zc),an.push(mt)):an=[mt];const RE=function ig(e,t){const n=e[R],i=se;return e[i]=t,ms(n,i,2,"#host",null)}(te,O),RA=function fC(e,t,n,i,c,d,f){const p=c[R];!function sg(e,t,n,i){for(const c of e)t.mergedAttrs=oa(t.mergedAttrs,c.hostAttrs);null!==t.mergedAttrs&&(Tr(t,t.mergedAttrs,!0),null!==n&&Pu(i,n,t))}(i,e,t,f);let g=null;null!==t&&(g=Sa(t,c[Qe]));const v=d.rendererFactory.createRenderer(t,n);let y=16;n.signals?y=4096:n.onPush&&(y=64);const D=xu(c,hp(n),null,y,c[e.index],e,d,v,null,null,g);return p.firstCreatePass&&Xa(p,e,i.length-1),Qa(c,D),c[e.index]=D}(RE,O,mt,an,te,w,M);Fe=Yt(A,se),O&&function hC(e,t,n,i){if(i)gl(e,n,["ng-version","17.3.12"]);else{const{attrs:c,classes:d}=function SD(e){const t=[],n=[];let i=1,c=2;for(;i<e.length;){let d=e[i];if("string"==typeof d)2===c?""!==d&&t.push(d,e[++i]):8===c&&n.push(d);else{if(!pn(c))break;c=d}i++}return{attrs:t,classes:n}}(t.selectors[0]);c&&gl(e,n,c),d&&d.length>0&&Nu(e,n,d.join(" "))}}(M,mt,O,i),void 0!==n&&function cg(e,t,n){const i=e.projection=[];for(let c=0;c<t.length;c++){const d=n[c];i.push(null!=d?Array.from(d):null)}}(Fe,this.ngContentSelectors,n),Me=function ag(e,t,n,i,c,d){const f=Te(),p=c[R],g=St(f,c);Uy(p,c,f,n,null,i);for(let y=0;y<n.length;y++)dt(vr(c,p,f.directiveStart+y,f),c);$y(p,c,f),g&&dt(g,c);const v=vr(c,p,f.directiveStart+f.componentOffset,f);if(e[Ne]=c[Ne]=v,null!==d)for(const y of d)y(v,t);return qa(p,f,c),v}(RA,mt,an,Zc,te,[pC]),$u(A,te,null)}finally{Gl()}return new dC(this.componentType,Me,Xr(Fe,te),te,Fe)}finally{L(d)}}}class dC extends Zu{constructor(t,n,i,c,d){super(),this.location=i,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ir(c,void 0,!1),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let c;if(null!==i&&(c=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const d=this._rootLView;Uu(d[R],d,c,t,n),this.previousInputValues.set(t,n),Yo(Ht(this._tNode.index,d))}}get injector(){return new rt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function pC(){const e=Te();No(S()[R],e)}let ni=(()=>{class e{static{this.__NG_ELEMENT_ID__=gC}}return e})();function gC(){return ug(Te(),S())}const nd=ni,lg=class extends nd{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Xr(this._hostTNode,this._hostLView)}get injector(){return new rt(this._hostTNode,this._hostLView)}get parentInjector(){const t=Vn(this._hostTNode,this._hostLView);if(Ln(t)){const n=ki(t,this._hostLView),i=gr(t);return new rt(n[R].data[i+8],n)}return new rt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=yc(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-qe}createEmbeddedView(t,n,i){let c,d;"number"==typeof i?c=i:null!=i&&(c=i.index,d=i.injector);const p=t.createEmbeddedViewImpl(n||{},d,null);return this.insertImpl(p,c,ro(this._hostTNode,null)),p}createComponent(t,n,i,c,d){const f=t&&!function mi(e){return"function"==typeof e}(t);let p;if(f)p=n;else{const E=n||{};p=E.index,i=E.injector,c=E.projectableNodes,d=E.environmentInjector||E.ngModuleRef}const g=f?t:new vc(ve(t)),v=i||this.parentInjector;if(!d&&null==g.ngModule){const O=(f?v:this.parentInjector).get(gn,null);O&&(d=O)}ve(g.componentType??{});const M=g.create(v,c,null,d);return this.insertImpl(M.hostView,p,ro(this._hostTNode,null)),M}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){const c=t._lView;if(function uv(e){return Et(e[We])}(c)){const p=this.indexOf(t);if(-1!==p)this.detach(p);else{const g=c[We],v=new lg(g,g[_t],g[We]);v.detach(v.indexOf(t))}}const d=this._adjustIndex(n),f=this._lContainer;return wn(f,c,d,i),t.attachToViewContainerRef(),Om(Cc(f),d,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=yc(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=us(this._lContainer,n);i&&(di(Cc(this._lContainer),n),ds(i[R],i))}detach(t){const n=this._adjustIndex(t,-1),i=us(this._lContainer,n);return i&&null!=di(Cc(this._lContainer),n)?new Ir(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function yc(e){return e[8]}function Cc(e){return e[8]||(e[8]=[])}function ug(e,t){let n;const i=t[e.index];return Et(i)?n=i:(n=ju(i,t,null,e),t[e.index]=n,Qa(t,n)),fg(n,t,e,i),new lg(n,e,t)}let fg=function ri(e,t,n,i){if(e[An])return;let c;c=8&n.type?Ie(i):function dg(e,t){const n=e[ee],i=n.createComment(""),c=St(t,e);return Dr(n,bn(n,c),i,function Au(e,t){return e.nextSibling(t)}(n,c),!1),i}(t,n),e[An]=c},_c=()=>!1;class od{constructor(t){this.queryList=t,this.matches=null}clone(){return new od(this.queryList)}setDirty(){this.queryList.setDirty()}}class gg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,c=[];for(let d=0;d<i;d++){const f=n.getByIndex(d);c.push(this.queries[f.indexInDeclarationView].clone())}return new gg(c)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Ec(t,n).matches&&this.queries[n].setDirty()}}class Dc{constructor(t,n,i=null){this.flags=n,this.read=i,this.predicate="string"==typeof t?function yC(e){return e.split(",").map(t=>t.trim())}(t):t}}class Ps{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const c=null!==n?n.length:0,d=this.getByIndex(i).embeddedTView(t,c);d&&(d.indexInDeclarationView=i,null!==n?n.push(d):n=[d])}return null!==n?new Ps(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class bc{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new bc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let c=0;c<i.length;c++){const d=i[c];this.matchTNodeWithReadOption(t,n,mg(n,d)),this.matchTNodeWithReadOption(t,n,Ro(n,t,d,!1,!1))}else i===Zo?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ro(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const c=this.metadata.read;if(null!==c)if(c===Vo||c===ni||c===Zo&&4&n.type)this.addMatch(n.index,-2);else{const d=Ro(n,t,c,!1,!1);null!==d&&this.addMatch(n.index,d)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function mg(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function vC(e,t,n,i){return-1===n?function ao(e,t){return 11&e.type?Xr(e,t):4&e.type?Ja(e,t):null}(t,e):-2===n?function vg(e,t,n){return n===Vo?Xr(t,e):n===Zo?Ja(t,e):n===ni?ug(t,e):void 0}(e,t,i):vr(e,e[R],n,t)}function yg(e,t,n,i){const c=t[Xn].queries[i];if(null===c.matches){const d=e.data,f=n.matches,p=[];for(let g=0;null!==f&&g<f.length;g+=2){const v=f[g];p.push(v<0?null:vC(t,d[v],f[g+1],n.metadata.read))}c.matches=p}return c.matches}function wc(e,t,n,i){const c=e.queries.getByIndex(n),d=c.matches;if(null!==d){const f=yg(e,t,c,n);for(let p=0;p<d.length;p+=2){const g=d[p];if(g>0)i.push(f[p/2]);else{const v=d[p+1],y=t[-g];for(let D=qe;D<y.length;D++){const w=y[D];w[Mo]===w[We]&&wc(w[R],w,v,i)}if(null!==y[wi]){const D=y[wi];for(let w=0;w<D.length;w++){const M=D[w];wc(M[R],M,v,i)}}}}}return i}function Cg(e,t,n){const i=new Yl(!(4&~n));return function mp(e,t,n,i){const c=Sp(t);c.push(n),e.firstCreatePass&&Tp(e).push(i,c.length-1)}(e,t,i,i.destroy),(t[Xn]??=new gg).queries.push(new od(i))-1}function ad(e,t,n){null===e.queries&&(e.queries=new Ps),e.queries.track(new bc(t,n))}function Ec(e,t){return e.queries.getByIndex(t)}function _g(e,t){const n=e[R],i=Ec(n,t);return i.crossesNgTemplate?wc(n,e,t,[]):yg(n,e,i,t)}function bC(e){return function cd(e){return"function"==typeof e&&void 0!==e[pe]}(e)&&"function"==typeof e.set}function fd(e){let t=function Tg(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let c;if(vn(e))c=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new j(903,!1);c=t.\u0275dir}if(c){if(n){i.push(c);const f=e;f.inputs=Tc(e.inputs),f.inputTransforms=Tc(e.inputTransforms),f.declaredInputs=Tc(e.declaredInputs),f.outputs=Tc(e.outputs);const p=c.hostBindings;p&&VC(e,p);const g=c.viewQuery,v=c.contentQueries;if(g&&FC(e,g),v&&LC(e,v),RC(e,c),Hs(e.outputs,c.outputs),vn(c)&&c.data.animation){const y=e.data;y.animation=(y.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let f=0;f<d.length;f++){const p=d[f];p&&p.ngInherit&&p(e),p===fd&&(n=!1)}}t=Object.getPrototypeOf(t)}!function kC(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const c=e[i];c.hostVars=t+=c.hostVars,c.hostAttrs=oa(c.hostAttrs,n=oa(n,c.hostAttrs))}}(i)}function RC(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const i=t.inputs[n];if(void 0!==i&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const c=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(c))continue;e.inputTransforms??={},e.inputTransforms[c]=t.inputTransforms[c]}}}function Tc(e){return e===Tn?{}:e===we?[]:e}function FC(e,t){const n=e.viewQuery;e.viewQuery=n?(i,c)=>{t(i,c),n(i,c)}:t}function LC(e,t){const n=e.contentQueries;e.contentQueries=n?(i,c,d)=>{t(i,c,d),n(i,c,d)}:t}function VC(e,t){const n=e.hostBindings;e.hostBindings=n?(i,c)=>{t(i,c),n(i,c)}:t}function Pg(e){const t=e.inputConfig,n={};for(const i in t)if(t.hasOwnProperty(i)){const c=t[i];Array.isArray(c)&&c[3]&&(n[i]=c[3])}e.inputTransforms=n}class co{}class xg{}function GC(e,t){return new hd(e,t??null,[])}class hd extends co{constructor(t,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ng(this);const c=wt(t);this._bootstrapComponents=rn(c.bootstrap),this._r3Injector=Kl(t,n,[{provide:co,useValue:this},{provide:sr,useValue:this.componentFactoryResolver},...i],Je(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class pd extends xg{constructor(t){super(),this.moduleType=t}create(t){return new hd(this.moduleType,t,[])}}class Rg extends co{constructor(t){super(),this.componentFactoryResolver=new ng(this),this.instance=null;const n=new hi([...t.providers,{provide:co,useValue:this},{provide:sr,useValue:this.componentFactoryResolver}],t.parent||aa(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function gd(e,t,n=null){return new Rg({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let oi=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new dm.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ac(e){return!!s(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function s(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function h(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function I(e,t,n,i,c,d,f,p){const g=S(),v=ye(),y=e+se,D=v.firstCreatePass?function T(e,t,n,i,c,d,f,p,g){const v=t.consts,y=ms(t,e,4,f||null,Zt(v,p));Cp(t,n,y,Zt(v,g)),No(t,y);const D=y.tView=ku(2,y,i,c,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,v,null);return null!==t.queries&&(t.queries.template(t,y),D.queries=t.queries.embeddedTView(y)),y}(y,v,g,t,n,i,c,d,f):v.data[y];Pn(D,!1);const w=F(v,g,D,e);Ao()&&Jr(v,g,w,D),dt(w,g);const M=ju(w,g,w,D);return g[y]=M,Qa(g,M),function hg(e,t,n){return _c(e,t,n)}(M,D,g),Mi(D)&&Ru(v,g,D),null!=f&&fp(g,D,p),I}let F=function V(e,t,n,i){return Rn(!0),t[ee].createComment("")};function r_(e,t,n,i){const c=S();return h(c,Cn(),t)&&(ye(),qt(X(),c,e,t,n,i)),r_}function Vc(e,t,n,i,c,d){const p=function m(e,t,n,i){const c=h(e,t,n);return h(e,t+1,i)||c}(e,function Kn(){return ne.lFrame.bindingIndex}(),n,c);return xn(2),p?t+ce(n)+i+ce(c)+d:ue}function Vg(e,t){return e<<17|t<<2}function si(e){return e>>17&32767}function o_(e){return 2|e}function Fs(e){return(131068&e)>>2}function i_(e,t){return-131069&e|t<<2}function s_(e){return 1|e}function Aw(e,t,n,i){const c=e[n+1],d=null===t;let f=i?si(c):Fs(c),p=!1;for(;0!==f&&(!1===p||d);){const v=e[f+1];XI(e[f],t)&&(p=!0,e[f+1]=i?s_(v):o_(v)),f=i?si(v):Fs(v)}p&&(e[n+1]=i?o_(c):s_(c))}function XI(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Sn(e,t)>=0}const pt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Nw(e){return e.substring(pt.key,pt.keyEnd)}function Pw(e,t){const n=pt.textEnd;return n===t?-1:(t=pt.keyEnd=function ZI(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,pt.key=t,n),zc(e,t,n))}function zc(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function a_(e,t,n){const i=S();return h(i,Cn(),t)&&Lt(ye(),X(),i,e,t,i[ee],n,!1),a_}function c_(e,t,n,i,c){const f=c?"class":"style";Uu(e,n,t.inputs[f],f,i)}function l_(e,t,n){return lr(e,t,n,!1),l_}function u_(e,t){return lr(e,t,null,!0),u_}function Lw(e){!function ur(e,t,n,i){const c=ye(),d=xn(2);c.firstUpdatePass&&jw(c,null,d,i);const f=S();if(n!==ue&&h(f,d,n)){const p=c.data[Dt()];if(Hw(p,i)&&!Vw(c,d)){let g=i?p.classesWithoutHost:p.stylesWithoutHost;null!==g&&(n=ho(g,n||"")),c_(c,p,f,n,i)}else!function cS(e,t,n,i,c,d,f,p){c===ue&&(c=we);let g=0,v=0,y=0<c.length?c[0]:null,D=0<d.length?d[0]:null;for(;null!==y||null!==D;){const w=g<c.length?c[g+1]:void 0,M=v<d.length?d[v+1]:void 0;let O,E=null;y===D?(g+=2,v+=2,w!==M&&(E=D,O=M)):null===D||null!==y&&y<D?(g+=2,E=y):(v+=2,E=D,O=M),null!==E&&$w(e,t,n,i,E,O,f,p),y=g<c.length?c[g]:null,D=v<d.length?d[v]:null}}(c,p,f,f[ee],f[d+1],f[d+1]=function sS(e,t,n){if(null==n||""===n)return we;const i=[],c=Gn(n);if(Array.isArray(c))for(let d=0;d<c.length;d++)e(i,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&e(i,d,c[d]);else"string"==typeof c&&t(i,c);return i}(e,t,n),i,d)}}(aS,Nr,e,!0)}function Nr(e,t){for(let n=function KI(e){return function Rw(e){pt.key=0,pt.keyEnd=0,pt.value=0,pt.valueEnd=0,pt.textEnd=e.length}(e),Pw(e,zc(e,0,pt.textEnd))}(t);n>=0;n=Pw(t,n))Bt(e,Nw(t),!0)}function lr(e,t,n,i){const c=S(),d=ye(),f=xn(2);d.firstUpdatePass&&jw(d,e,f,i),t!==ue&&h(c,f,t)&&$w(d,d.data[Dt()],c,c[ee],e,c[f+1]=function lS(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Je(Gn(e)))),e}(t,n),i,f)}function Vw(e,t){return t>=e.expandoStartIndex}function jw(e,t,n,i){const c=e.data;if(null===c[n+1]){const d=c[Dt()],f=Vw(e,n);Hw(d,i)&&null===t&&!f&&(t=!1),t=function nS(e,t,n,i){const c=function fa(e){const t=ne.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let d=i?t.residualClasses:t.residualStyles;if(null===c)0===(i?t.classBindings:t.styleBindings)&&(n=vd(n=d_(null,e,t,n,i),t.attrs,i),d=null);else{const f=t.directiveStylingLast;if(-1===f||e[f]!==c)if(n=d_(c,e,t,n,i),null===d){let g=function rS(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Fs(i))return e[si(i)]}(e,t,i);void 0!==g&&Array.isArray(g)&&(g=d_(null,e,t,g[1],i),g=vd(g,t.attrs,i),function oS(e,t,n,i){e[si(n?t.classBindings:t.styleBindings)]=i}(e,t,i,g))}else d=function iS(e,t,n){let i;const c=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<c;d++)i=vd(i,e[d].hostAttrs,n);return vd(i,t.attrs,n)}(e,t,i)}return void 0!==d&&(i?t.residualClasses=d:t.residualStyles=d),n}(c,d,t,i),function WI(e,t,n,i,c,d){let f=d?t.classBindings:t.styleBindings,p=si(f),g=Fs(f);e[i]=n;let y,v=!1;if(Array.isArray(n)?(y=n[1],(null===y||Sn(n,y)>0)&&(v=!0)):y=n,c)if(0!==g){const w=si(e[p+1]);e[i+1]=Vg(w,p),0!==w&&(e[w+1]=i_(e[w+1],i)),e[p+1]=function GI(e,t){return 131071&e|t<<17}(e[p+1],i)}else e[i+1]=Vg(p,0),0!==p&&(e[p+1]=i_(e[p+1],i)),p=i;else e[i+1]=Vg(g,0),0===p?p=i:e[g+1]=i_(e[g+1],i),g=i;v&&(e[i+1]=o_(e[i+1])),Aw(e,y,i,!0),Aw(e,y,i,!1),function qI(e,t,n,i,c){const d=c?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof t&&Sn(d,t)>=0&&(n[i+1]=s_(n[i+1]))}(t,y,e,i,d),f=Vg(p,g),d?t.classBindings=f:t.styleBindings=f}(c,d,t,n,f,i)}}function d_(e,t,n,i,c){let d=null;const f=n.directiveEnd;let p=n.directiveStylingLast;for(-1===p?p=n.directiveStart:p++;p<f&&(d=t[p],i=vd(i,d.hostAttrs,c),d!==e);)p++;return null!==e&&(n.directiveStylingLast=p),i}function vd(e,t,n){const i=n?1:2;let c=-1;if(null!==t)for(let d=0;d<t.length;d++){const f=t[d];"number"==typeof f?c=f:c===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Bt(e,f,!!n||t[++d]))}return void 0===e?null:e}function aS(e,t,n){const i=String(t);""!==i&&!i.includes(" ")&&Bt(e,i,n)}function $w(e,t,n,i,c,d,f,p){if(!(3&t.type))return;const g=e.data,v=g[p+1],y=function zI(e){return!(1&~e)}(v)?Bw(g,t,n,c,Fs(v),f):void 0;jg(y)||(jg(d)||function HI(e){return!(2&~e)}(v)&&(d=Bw(g,null,n,c,p,f)),function cp(e,t,n,i,c){if(t)c?e.addClass(n,i):e.removeClass(n,i);else{let d=-1===i.indexOf("-")?void 0:Eu.DashCase;null==c?e.removeStyle(n,i,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Eu.Important),e.setStyle(n,i,c,d))}}(i,f,Ii(Dt(),n),c,d))}function Bw(e,t,n,i,c,d){const f=null===t;let p;for(;c>0;){const g=e[c],v=Array.isArray(g),y=v?g[1]:g,D=null===y;let w=n[c+1];w===ue&&(w=D?we:void 0);let M=D?hl(w,i):y===i?w:void 0;if(v&&!jg(M)&&(M=hl(g,i)),jg(M)&&(p=M,f))return p;const E=e[c+1];c=f?si(E):Fs(E)}if(null!==t){let g=d?t.residualClasses:t.residualStyles;null!=g&&(p=hl(g,i))}return p}function jg(e){return void 0!==e}function Hw(e,t){return!!(e.flags&(t?8:16))}function Ug(e,t,n,i){const c=S(),d=ye(),f=se+e,p=c[ee],g=d.firstCreatePass?function PS(e,t,n,i,c,d){const f=t.consts,g=ms(t,e,2,i,Zt(f,c));return Cp(t,n,g,Zt(f,d)),null!==g.attrs&&Tr(g,g.attrs,!1),null!==g.mergedAttrs&&Tr(g,g.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,g),g}(f,d,c,t,n,i):d.data[f],v=qw(d,c,g,p,t,e);c[f]=v;const y=Mi(g);return Pn(g,!0),Pu(p,v,g),!function b(e){return!(32&~e.flags)}(g)&&Ao()&&Jr(d,c,v,g),0===function Nf(){return ne.lFrame.elementDepthCount}()&&dt(v,c),function Pf(){ne.lFrame.elementDepthCount++}(),y&&(Ru(d,c,g),qa(d,g,c)),null!==i&&fp(c,g),Ug}function $g(){let e=Te();yn()?function Xe(){ne.lFrame.isParent=!1}():(e=e.parent,Pn(e,!1));const t=e;(function Rf(e){return ne.skipHydrationRootTNode===e})(t)&&function hv(){ne.skipHydrationRootTNode=null}(),function xf(){ne.lFrame.elementDepthCount--}();const n=ye();return n.firstCreatePass&&(No(n,e),yf(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Jt(e){return!!(8&e.flags)}(t)&&c_(n,t,S(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Fn(e){return!!(16&e.flags)}(t)&&c_(n,t,S(),t.stylesWithoutHost,!1),$g}function m_(e,t,n,i){return Ug(e,t,n,i),$g(),m_}let qw=(e,t,n,i,c,d)=>(Rn(!0),Iu(i,c,function Wl(){return ne.lFrame.currentNamespace}()));function Kw(){return S()}const Ls=void 0;var jS=["en",[["a","p"],["AM","PM"],Ls],[["AM","PM"],Ls,Ls],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ls,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ls,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ls,"{1} 'at' {0}",Ls],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VS(e){const n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let Wc={};function C_(e){const t=function US(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=e0(t);if(n)return n;const i=t.split("-")[0];if(n=e0(i),n)return n;if("en"===i)return jS;throw new j(701,!1)}function Jw(e){return C_(e)[qc.PluralCase]}function e0(e){return e in Wc||(Wc[e]=de.ng&&de.ng.common&&de.ng.common.locales&&de.ng.common.locales[e]),Wc[e]}var qc=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(qc||{});const Xc="en-US";let t0=Xc;function b_(e,t,n,i){const c=S(),d=ye(),f=Te();return w_(d,c,c[ee],f,e,t,i),b_}function w_(e,t,n,i,c,d,f){const p=Mi(i),v=e.firstCreatePass&&Tp(e),y=t[Ne],D=Sp(t);let w=!0;if(3&i.type||f){const O=St(i,t),x=f?f(O):O,k=D.length,A=f?Me=>f(Ie(Me[i.index])):i.index;let te=null;if(!f&&p&&(te=function F1(e,t,n,i){const c=e.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const f=c[d];if(f===n&&c[d+1]===i){const p=t[pr],g=c[d+2];return p.length>g?p[g]:null}"string"==typeof f&&(d+=2)}return null}(e,t,c,i.index)),null!==te)(te.__ngLastListenerFn__||te).__ngNextListenerFn__=d,te.__ngLastListenerFn__=d,w=!1;else{d=A0(i,t,y,d,!1);const Me=n.listen(x,c,d);D.push(d,Me),v&&v.push(c,A,k,k+1)}}else d=A0(i,t,y,d,!1);const M=i.outputs;let E;if(w&&null!==M&&(E=M[c])){const O=E.length;if(O)for(let x=0;x<O;x+=2){const Fe=t[E[x]][E[x+1]].subscribe(d),mt=D.length;D.push(d,Fe),v&&v.push(c,i.index,mt,-(mt+1))}}}function O0(e,t,n,i){const c=L(null);try{return Nn(6,t,n),!1!==n(i)}catch(d){return Ka(e,d),!1}finally{Nn(7,t,n),L(c)}}function A0(e,t,n,i,c){return function d(f){if(f===Function)return i;Yo(e.componentOffset>-1?Ht(e.index,t):t);let g=O0(t,n,i,f),v=d.__ngNextListenerFn__;for(;v;)g=O0(t,n,v,f)&&g,v=v.__ngNextListenerFn__;return c&&!1===g&&f.preventDefault(),g}}function N0(e=1){return function zf(e){return(ne.lFrame.contextLView=function Af(e,t){for(;e>0;)t=t[jr],e--;return t}(e,ne.lFrame.contextLView))[Ne]}(e)}function $0(e,t,n,i){!function sd(e,t,n,i){const c=ye();if(c.firstCreatePass){const d=Te();ad(c,new Dc(t,n,i),d.index),function CC(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(c,e),!(2&~n)&&(c.staticContentQueries=!0)}return Cg(c,S(),n)}(e,t,n,i)}function B0(e,t,n){!function Mc(e,t,n){const i=ye();return i.firstCreatePass&&(ad(i,new Dc(e,t,n),-1),!(2&~t)&&(i.staticViewQueries=!0)),Cg(i,S(),t)}(e,t,n)}function H0(e){const t=S(),n=ye(),i=To();Bl(i+1);const c=Ec(n,i);if(e.dirty&&function Tf(e){return!(4&~e[Q])}(t)===!(2&~c.metadata.flags)){if(null===c.matches)e.reset([]);else{const d=_g(t,i);e.reset(d,Hi),e.notifyOnChanges()}return!0}return!1}function G0(){return function id(e,t){return e[Xn].queries[t].queryList}(S(),To())}function z0(e){return function Br(e,t){return e[t]}(function Ke(){return ne.lFrame.contextLView}(),se+e)}function tM(e,t=""){const n=S(),i=ye(),c=e+se,d=i.firstCreatePass?ms(i,c,1,t,null):i.data[c],f=nM(i,n,d,t,e);n[c]=f,Ao()&&Jr(i,n,f,d),Pn(d,!1)}let nM=(e,t,n,i,c)=>(Rn(!0),function ep(e,t){return e.createText(t)}(t[ee],i));function E_(e){return Wg("",e,""),E_}function Wg(e,t,n){const i=S(),c=function Lc(e,t,n,i){return h(e,Cn(),n)?t+ce(n)+i:ue}(i,e,t,n);return c!==ue&&ir(i,Dt(),c),Wg}function I_(e,t,n,i,c){const d=S(),f=Vc(d,e,t,n,i,c);return f!==ue&&ir(d,Dt(),f),I_}function S_(e,t,n){bC(t)&&(t=t());const i=S();return h(i,Cn(),t)&&Lt(ye(),X(),i,e,t,i[ee],n,!1),S_}function uM(e,t){const n=bC(e);return n&&e.set(t),n}function T_(e,t){const n=S(),i=ye(),c=Te();return w_(i,n,n[ee],c,e,t),T_}function O_(e,t,n,i,c){if(e=K(e),Array.isArray(e))for(let d=0;d<e.length;d++)O_(e[d],t,n,i,c);else{const d=ye(),f=S(),p=Te();let g=Vr(e)?e:K(e.provide);const v=Zm(e),y=1048575&p.providerIndexes,D=p.directiveStart,w=p.providerIndexes>>20;if(Vr(e)||!e.multi){const M=new Pi(v,c,to),E=N_(g,t,c?y:y+w,D);-1===E?(fe(ma(p,f),d,g),A_(d,e,t.length),t.push(g),p.directiveStart++,p.directiveEnd++,c&&(p.providerIndexes+=1048576),n.push(M),f.push(M)):(n[E]=M,f[E]=M)}else{const M=N_(g,t,y+w,D),E=N_(g,t,y,y+w),x=E>=0&&n[E];if(c&&!x||!c&&!(M>=0&&n[M])){fe(ma(p,f),d,g);const k=function oT(e,t,n,i,c){const d=new Pi(e,n,to);return d.multi=[],d.index=t,d.componentProviders=0,dM(d,c,i&&!n),d}(c?rT:nT,n.length,c,i,v);!c&&x&&(n[E].providerFactory=k),A_(d,e,t.length,0),t.push(g),p.directiveStart++,p.directiveEnd++,c&&(p.providerIndexes+=1048576),n.push(k),f.push(k)}else A_(d,e,M>-1?M:E,dM(n[c?E:M],v,!c&&i));!c&&i&&x&&n[E].componentProviders++}}}function A_(e,t,n,i){const c=Vr(t),d=function Km(e){return!!e.useClass}(t);if(c||d){const g=(d?K(t.useClass):t).prototype.ngOnDestroy;if(g){const v=e.destroyHooks||(e.destroyHooks=[]);if(!c&&t.multi){const y=v.indexOf(n);-1===y?v.push(n,[i,g]):v[y+1].push(i,g)}else v.push(n,g)}}}function dM(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function N_(e,t,n,i){for(let c=n;c<i;c++)if(t[c]===e)return c;return-1}function nT(e,t,n,i){return P_(this.multi,[])}function rT(e,t,n,i){const c=this.multi;let d;if(this.providerFactory){const f=this.providerFactory.componentProviders,p=vr(n,n[R],this.providerFactory.index,i);d=p.slice(0,f),P_(c,d);for(let g=f;g<p.length;g++)d.push(p[g])}else d=[],P_(c,d);return d}function P_(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function fM(e,t=[]){return n=>{n.providersResolver=(i,c)=>function tT(e,t,n){const i=ye();if(i.firstCreatePass){const c=vn(e);O_(n,i.data,i.blueprint,c,!0),O_(t,i.data,i.blueprint,c,!1)}}(i,c?c(e):e,t)}}let iT=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const i=sa(0,n.type),c=i.length>0?gd([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,c)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ae({token:e,providedIn:"environment",factory:()=>new e(Ct(gn))})}}return e})();function hM(e){Vt("NgStandalone"),e.getStandaloneInjector=t=>t.get(iT).getOrCreateStandaloneInjector(e)}class kM{constructor(t){this.full=t;const n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}let FM=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const $M=new _e(""),BM=new _e("");let V_,yO=(()=>{class e{constructor(n,i,c){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,V_||(function CO(e){V_=e}(c),c.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,c){let d=-1;i&&i>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==d),n()},i)),this._callbacks.push({doneCb:n,timeoutId:d,updateCb:c})}whenStable(n,i,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,c){return[]}static{this.\u0275fac=function(i){return new(i||e)(Ct(Ye),Ct(HM),Ct(BM))}}static{this.\u0275prov=Ae({token:e,factory:e.\u0275fac})}}return e})(),HM=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return V_?.findTestabilityInTree(this,n,i)??null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function j_(e){return!!e&&"function"==typeof e.then}function GM(e){return!!e&&"function"==typeof e.subscribe}const zM=new _e("");let U_=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=oe(zM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const c of this.appInits){const d=c();if(j_(d))n.push(d);else if(GM(d)){const f=new Promise((p,g)=>{d.subscribe({complete:p,error:g})});n.push(f)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(c=>{this.reject(c)}),0===n.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const $_=new _e("");let ai=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=oe(dh),this.afterRenderEffectManager=oe(ti),this.externalTestViews=new Set,this.beforeRender=new Us.B,this.afterTick=new Us.B,this.componentTypes=[],this.components=[],this.isStable=oe(oi).hasPendingTasks.pipe((0,nD.T)(n=>!n)),this._injector=oe(gn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const c=n instanceof tC;if(!this._injector.get(U_).done)throw!c&&Kt(n),new j(405,!1);let f;f=c?n:this._injector.get(sr).resolveComponentFactory(n),this.componentTypes.push(f.componentType);const p=function _O(e){return e.isBoundToModule}(f)?void 0:this._injector.get(co),v=f.create(Ft.NULL,[],i||f.selector,p),y=v.location.nativeElement,D=v.injector.get($M,null);return D?.registerApplication(y),v.onDestroy(()=>{this.detachView(v.hostView),Kg(this.components,v),D?.unregisterApplication(y)}),this._loadComponent(v),v}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new j(101,!1);const i=L(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(c){this.internalErrorHandler(c)}finally{this.afterTick.next(),this._runningTick=!1,L(i)}}detectChangesInAttachedViews(n){let i=0;const c=this.afterRenderEffectManager;for(;;){if(i===Hu)throw new j(103,!1);if(n){const d=0===i;this.beforeRender.next(d);for(let{_lView:f,notifyErrorHandler:p}of this._views)bO(f,d,p)}if(i++,c.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>B_(d))&&(c.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>B_(d))))break}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Kg(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get($_,[]);[...this._bootstrapListeners,...i].forEach(c=>c(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Kg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Kg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function bO(e,t,n){!t&&!B_(e)||function wO(e,t,n){let i;n?(i=0,e[Q]|=1024):i=64&e[Q]?0:1,ot(e,t,i)}(e,n,t)}function B_(e){return kl(e)}class MO{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let EO=(()=>{class e{compileModuleSync(n){return new pd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),d=rn(wt(n).declarations).reduce((f,p)=>{const g=ve(p);return g&&f.push(new vc(g)),f},[]);return new MO(i,d)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),TO=(()=>{class e{constructor(){this.zone=oe(Ye),this.applicationRef=oe(ai)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function KM(e){return[{provide:Ye,useFactory:e},{provide:Do,multi:!0,useFactory:()=>{const t=oe(TO,{optional:!0});return()=>t.initialize()}},{provide:Do,multi:!0,useFactory:()=>{const t=oe(NO);return()=>{t.initialize()}}},{provide:dh,useFactory:OO}]}function OO(){const e=oe(Ye),t=oe(er);return n=>e.runOutsideAngular(()=>t.handleError(n))}function AO(e){return ia([[],KM(()=>new Ye(function YM(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}let NO=(()=>{class e{constructor(){this.subscription=new xd.yU,this.initialized=!1,this.zone=oe(Ye),this.pendingTasks=oe(oi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ye.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ye.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Zg=new _e("",{providedIn:"root",factory:()=>oe(Zg,De.Optional|De.SkipSelf)||function PO(){return typeof $localize<"u"&&$localize.locale||Xc}()}),xO=new _e("",{providedIn:"root",factory:()=>"USD"}),H_=new _e("");let ci=null;let rE=(()=>{class e{static{this.__NG_ELEMENT_ID__=VO}}return e})();function VO(e){return function jO(e,t,n){if($r(e)&&!n){const i=Ht(e.index,t);return new Ir(i,i)}return 47&e.type?new Ir(t[$e],t):null}(Te(),S(),!(16&~e))}class aE{constructor(){}supports(t){return Ac(t)}create(t){return new GO(t)}}const HO=(e,t)=>t;class GO{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||HO}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,c=0,d=null;for(;n||i;){const f=!i||n&&n.currentIndex<lE(i,c,d)?n:i,p=lE(f,c,d),g=f.currentIndex;if(f===i)c--,i=i._nextRemoved;else if(n=n._next,null==f.previousIndex)c++;else{d||(d=[]);const v=p-c,y=g-c;if(v!=y){for(let w=0;w<v;w++){const M=w<d.length?d[w]:d[w]=0,E=M+w;y<=E&&E<v&&(d[w]=M+1)}d[f.previousIndex]=y-v}}p!==g&&t(f,p,g)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Ac(t))throw new j(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let c,d,f,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)d=t[p],f=this._trackByFn(p,d),null!==n&&Object.is(n.trackById,f)?(i&&(n=this._verifyReinsertion(n,d,f,p)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,f,p),i=!0),n=n._next}else c=0,function o(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,p=>{f=this._trackByFn(c,p),null!==n&&Object.is(n.trackById,f)?(i&&(n=this._verifyReinsertion(n,p,f,c)),Object.is(n.item,p)||this._addIdentityChange(n,p)):(n=this._mismatch(n,p,f,c),i=!0),n=n._next,c++}),this.length=c;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,c){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,d,c)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,c))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,d,c)):t=this._addAfter(new zO(n,i),d,c),t}_verifyReinsertion(t,n,i,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==d?t=this._reinsertAfter(d,t._prev,c):t.currentIndex!=c&&(t.currentIndex=c,this._addToMoves(t,c)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const c=t._prevRemoved,d=t._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const c=null===n?this._itHead:n._next;return t._next=c,t._prev=n,null===c?this._itTail=t:c._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new cE),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class zO{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WO{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class cE{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new WO,this.map.set(n,i)),i.add(t)}get(t,n){const c=this.map.get(t);return c?c.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lE(e,t,n){const i=e.previousIndex;if(null===i)return i;let c=0;return n&&i<n.length&&(c=n[i]),i+t+c}class uE{constructor(){}supports(t){return t instanceof Map||s(t)}create(){return new qO}}class qO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||s(t)))throw new j(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,c)=>{if(n&&n.key===c)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const d=this._getOrCreateRecordForKey(c,i);n=this._insertBeforeOrAppend(n,d)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const c=this._records.get(t);this._maybeAddToChanges(c,n);const d=c._prev,f=c._next;return d&&(d._next=f),f&&(f._prev=d),c._next=null,c._prev=null,c}const i=new XO(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class XO{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dE(){return new Q_([new aE])}let Q_=(()=>{class e{static{this.\u0275prov=Ae({token:e,providedIn:"root",factory:dE})}constructor(n){this.factories=n}static create(n,i){if(null!=i){const c=i.factories.slice();n=n.concat(c)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||dE()),deps:[[e,new Kd,new Xd]]}}find(n){const i=this.factories.find(c=>c.supports(n));if(null!=i)return i;throw new j(901,!1)}}return e})();function fE(){return new K_([new uE])}let K_=(()=>{class e{static{this.\u0275prov=Ae({token:e,providedIn:"root",factory:fE})}constructor(n){this.factories=n}static create(n,i){if(i){const c=i.factories.slice();n=n.concat(c)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||fE()),deps:[[e,new Kd,new Xd]]}}find(n){const i=this.factories.find(c=>c.supports(n));if(i)return i;throw new j(901,!1)}}return e})();function dA(e){try{const{rootComponent:t,appProviders:n,platformProviders:i}=e,c=function LO(e=[]){if(ci)return ci;const t=function eE(e=[],t){return Ft.create({name:t,providers:[{provide:Cl,useValue:"platform"},{provide:H_,useValue:new Set([()=>ci=null])},...e]})}(e);return ci=t,function WM(){!function cm(e){Ad=e}(()=>{throw new j(600,!1)})}(),function tE(e){e.get(ba,null)?.forEach(n=>n())}(t),t}(i),d=[AO(),...n||[]],p=new Rg({providers:d,parent:c,debugName:"",runEnvironmentInitializers:!1}).injector,g=p.get(Ye);return g.run(()=>{p.resolveInjectorInitializers();const v=p.get(er,null);let y;g.runOutsideAngular(()=>{y=g.onError.subscribe({next:M=>{v.handleError(M)}})});const D=()=>p.destroy(),w=c.get(H_);return w.add(D),p.onDestroy(()=>{y.unsubscribe(),w.delete(D)}),function qM(e,t,n){try{const i=n();return j_(i)?i.catch(c=>{throw t.runOutsideAngular(()=>e.handleError(c)),c}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(v,g,()=>{const M=p.get(U_);return M.runInitializers(),M.donePromise.then(()=>{!function n0(e){"string"==typeof e&&(t0=e.toLowerCase().replace(/_/g,"-"))}(p.get(Zg,Xc)||Xc);const O=p.get(ai);return void 0!==t&&O.bootstrap(t),O})})})}catch(t){return Promise.reject(t)}}function IA(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function TA(e){const t=L(null);try{return e()}finally{L(t)}}},467:(He,he,P)=>{function l($,z,H,pe,L,Oe,ge){try{var B=$[Oe](ge),N=B.value}catch(G){return void H(G)}B.done?z(N):Promise.resolve(N).then(pe,L)}function Z($){return function(){var z=this,H=arguments;return new Promise(function(pe,L){var Oe=$.apply(z,H);function ge(N){l(Oe,pe,L,ge,B,"next",N)}function B(N){l(Oe,pe,L,ge,B,"throw",N)}ge(void 0)})}}P.d(he,{A:()=>Z})}},He=>{He(He.s=589)}]);